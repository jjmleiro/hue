From 74e884f833854e4398bb06c0e0b81ab886aa0325 Mon Sep 17 00:00:00 2001
From: Romain Rigaux <romain@cloudera.com>
Date: Thu, 5 Feb 2015 15:01:33 -0800
Subject: [PATCH 0759/1173] [oozie] Move new Editor templates to a separate
 directory

---
 apps/oozie/src/oozie/models2.py                    |    8 +-
 .../src/oozie/templates/editor/bundle_editor.mako  |  240 ---
 .../oozie/templates/editor/coordinator_editor.mako |  569 ------
 .../oozie/templates/editor/gen2/bundle.xml.mako    |   59 -
 .../templates/editor/gen2/coordinator.xml.mako     |  144 --
 .../templates/editor/gen2/workflow-common.xml.mako |   83 -
 .../editor/gen2/workflow-decision.xml.mako         |   33 -
 .../templates/editor/gen2/workflow-distcp.xml.mako |   39 -
 .../templates/editor/gen2/workflow-email.xml.mako  |   32 -
 .../templates/editor/gen2/workflow-end.xml.mako    |   18 -
 .../templates/editor/gen2/workflow-fork.xml.mako   |   22 -
 .../templates/editor/gen2/workflow-fs.xml.mako     |   61 -
 .../editor/gen2/workflow-generic.xml.mako          |   24 -
 .../editor/gen2/workflow-graph-status.xml.mako     |  123 --
 .../templates/editor/gen2/workflow-graph.xml.mako  |   57 -
 .../templates/editor/gen2/workflow-hive.xml.mako   |   42 -
 .../templates/editor/gen2/workflow-hive2.xml.mako  |   46 -
 .../templates/editor/gen2/workflow-java.xml.mako   |   50 -
 .../templates/editor/gen2/workflow-join.xml.mako   |   18 -
 .../templates/editor/gen2/workflow-kill.xml.mako   |   20 -
 .../editor/gen2/workflow-mapreduce.xml.mako        |   36 -
 .../templates/editor/gen2/workflow-pig.xml.mako    |   45 -
 .../templates/editor/gen2/workflow-shell.xml.mako  |   50 -
 .../templates/editor/gen2/workflow-sqoop.xml.mako  |   44 -
 .../templates/editor/gen2/workflow-ssh.xml.mako    |   36 -
 .../templates/editor/gen2/workflow-start.xml.mako  |   18 -
 .../editor/gen2/workflow-streaming.xml.mako        |   38 -
 .../editor/gen2/workflow-subworkflow.xml.mako      |   33 -
 .../oozie/templates/editor/gen2/workflow.xml.mako  |   53 -
 .../templates/editor/list_editor_bundles.mako      |  274 ---
 .../templates/editor/list_editor_coordinators.mako |  273 ---
 .../templates/editor/list_editor_workflows.mako    |  276 ---
 .../oozie/templates/editor/submit_job_popup2.mako  |  138 --
 .../oozie/templates/editor/workflow_editor.mako    | 2162 --------------------
 .../src/oozie/templates/editor2/bundle_editor.mako |  240 +++
 .../templates/editor2/coordinator_editor.mako      |  569 ++++++
 .../oozie/templates/editor2/coordinator_utils.mako |   42 +
 .../oozie/templates/editor2/gen/bundle.xml.mako    |   59 +
 .../templates/editor2/gen/coordinator.xml.mako     |  144 ++
 .../templates/editor2/gen/workflow-common.xml.mako |   83 +
 .../editor2/gen/workflow-decision.xml.mako         |   33 +
 .../templates/editor2/gen/workflow-distcp.xml.mako |   39 +
 .../templates/editor2/gen/workflow-email.xml.mako  |   32 +
 .../templates/editor2/gen/workflow-end.xml.mako    |   18 +
 .../templates/editor2/gen/workflow-fork.xml.mako   |   22 +
 .../templates/editor2/gen/workflow-fs.xml.mako     |   61 +
 .../editor2/gen/workflow-generic.xml.mako          |   24 +
 .../editor2/gen/workflow-graph-status.xml.mako     |  123 ++
 .../templates/editor2/gen/workflow-graph.xml.mako  |   57 +
 .../templates/editor2/gen/workflow-hive.xml.mako   |   42 +
 .../templates/editor2/gen/workflow-hive2.xml.mako  |   46 +
 .../templates/editor2/gen/workflow-java.xml.mako   |   50 +
 .../templates/editor2/gen/workflow-join.xml.mako   |   18 +
 .../templates/editor2/gen/workflow-kill.xml.mako   |   20 +
 .../editor2/gen/workflow-mapreduce.xml.mako        |   36 +
 .../templates/editor2/gen/workflow-pig.xml.mako    |   45 +
 .../templates/editor2/gen/workflow-shell.xml.mako  |   50 +
 .../templates/editor2/gen/workflow-sqoop.xml.mako  |   44 +
 .../templates/editor2/gen/workflow-ssh.xml.mako    |   36 +
 .../templates/editor2/gen/workflow-start.xml.mako  |   18 +
 .../editor2/gen/workflow-streaming.xml.mako        |   38 +
 .../editor2/gen/workflow-subworkflow.xml.mako      |   33 +
 .../oozie/templates/editor2/gen/workflow.xml.mako  |   53 +
 .../templates/editor2/list_editor_bundles.mako     |  274 +++
 .../editor2/list_editor_coordinators.mako          |  273 +++
 .../templates/editor2/list_editor_workflows.mako   |  276 +++
 .../oozie/templates/editor2/submit_job_popup.mako  |  138 ++
 .../oozie/templates/editor2/workflow_editor.mako   | 2162 ++++++++++++++++++++
 apps/oozie/src/oozie/views/editor2.py              |   18 +-
 desktop/core/src/desktop/api.py                    |    2 +-
 70 files changed, 5212 insertions(+), 5170 deletions(-)
 delete mode 100644 apps/oozie/src/oozie/templates/editor/bundle_editor.mako
 delete mode 100644 apps/oozie/src/oozie/templates/editor/coordinator_editor.mako
 delete mode 100644 apps/oozie/src/oozie/templates/editor/gen2/bundle.xml.mako
 delete mode 100644 apps/oozie/src/oozie/templates/editor/gen2/coordinator.xml.mako
 delete mode 100644 apps/oozie/src/oozie/templates/editor/gen2/workflow-common.xml.mako
 delete mode 100644 apps/oozie/src/oozie/templates/editor/gen2/workflow-decision.xml.mako
 delete mode 100644 apps/oozie/src/oozie/templates/editor/gen2/workflow-distcp.xml.mako
 delete mode 100644 apps/oozie/src/oozie/templates/editor/gen2/workflow-email.xml.mako
 delete mode 100644 apps/oozie/src/oozie/templates/editor/gen2/workflow-end.xml.mako
 delete mode 100644 apps/oozie/src/oozie/templates/editor/gen2/workflow-fork.xml.mako
 delete mode 100644 apps/oozie/src/oozie/templates/editor/gen2/workflow-fs.xml.mako
 delete mode 100644 apps/oozie/src/oozie/templates/editor/gen2/workflow-generic.xml.mako
 delete mode 100644 apps/oozie/src/oozie/templates/editor/gen2/workflow-graph-status.xml.mako
 delete mode 100644 apps/oozie/src/oozie/templates/editor/gen2/workflow-graph.xml.mako
 delete mode 100644 apps/oozie/src/oozie/templates/editor/gen2/workflow-hive.xml.mako
 delete mode 100644 apps/oozie/src/oozie/templates/editor/gen2/workflow-hive2.xml.mako
 delete mode 100644 apps/oozie/src/oozie/templates/editor/gen2/workflow-java.xml.mako
 delete mode 100644 apps/oozie/src/oozie/templates/editor/gen2/workflow-join.xml.mako
 delete mode 100644 apps/oozie/src/oozie/templates/editor/gen2/workflow-kill.xml.mako
 delete mode 100644 apps/oozie/src/oozie/templates/editor/gen2/workflow-mapreduce.xml.mako
 delete mode 100644 apps/oozie/src/oozie/templates/editor/gen2/workflow-pig.xml.mako
 delete mode 100644 apps/oozie/src/oozie/templates/editor/gen2/workflow-shell.xml.mako
 delete mode 100644 apps/oozie/src/oozie/templates/editor/gen2/workflow-sqoop.xml.mako
 delete mode 100644 apps/oozie/src/oozie/templates/editor/gen2/workflow-ssh.xml.mako
 delete mode 100644 apps/oozie/src/oozie/templates/editor/gen2/workflow-start.xml.mako
 delete mode 100644 apps/oozie/src/oozie/templates/editor/gen2/workflow-streaming.xml.mako
 delete mode 100644 apps/oozie/src/oozie/templates/editor/gen2/workflow-subworkflow.xml.mako
 delete mode 100644 apps/oozie/src/oozie/templates/editor/gen2/workflow.xml.mako
 delete mode 100644 apps/oozie/src/oozie/templates/editor/list_editor_bundles.mako
 delete mode 100644 apps/oozie/src/oozie/templates/editor/list_editor_coordinators.mako
 delete mode 100644 apps/oozie/src/oozie/templates/editor/list_editor_workflows.mako
 delete mode 100644 apps/oozie/src/oozie/templates/editor/submit_job_popup2.mako
 delete mode 100644 apps/oozie/src/oozie/templates/editor/workflow_editor.mako
 create mode 100644 apps/oozie/src/oozie/templates/editor2/bundle_editor.mako
 create mode 100644 apps/oozie/src/oozie/templates/editor2/coordinator_editor.mako
 create mode 100644 apps/oozie/src/oozie/templates/editor2/coordinator_utils.mako
 create mode 100644 apps/oozie/src/oozie/templates/editor2/gen/bundle.xml.mako
 create mode 100644 apps/oozie/src/oozie/templates/editor2/gen/coordinator.xml.mako
 create mode 100644 apps/oozie/src/oozie/templates/editor2/gen/workflow-common.xml.mako
 create mode 100644 apps/oozie/src/oozie/templates/editor2/gen/workflow-decision.xml.mako
 create mode 100644 apps/oozie/src/oozie/templates/editor2/gen/workflow-distcp.xml.mako
 create mode 100644 apps/oozie/src/oozie/templates/editor2/gen/workflow-email.xml.mako
 create mode 100644 apps/oozie/src/oozie/templates/editor2/gen/workflow-end.xml.mako
 create mode 100644 apps/oozie/src/oozie/templates/editor2/gen/workflow-fork.xml.mako
 create mode 100644 apps/oozie/src/oozie/templates/editor2/gen/workflow-fs.xml.mako
 create mode 100644 apps/oozie/src/oozie/templates/editor2/gen/workflow-generic.xml.mako
 create mode 100644 apps/oozie/src/oozie/templates/editor2/gen/workflow-graph-status.xml.mako
 create mode 100644 apps/oozie/src/oozie/templates/editor2/gen/workflow-graph.xml.mako
 create mode 100644 apps/oozie/src/oozie/templates/editor2/gen/workflow-hive.xml.mako
 create mode 100644 apps/oozie/src/oozie/templates/editor2/gen/workflow-hive2.xml.mako
 create mode 100644 apps/oozie/src/oozie/templates/editor2/gen/workflow-java.xml.mako
 create mode 100644 apps/oozie/src/oozie/templates/editor2/gen/workflow-join.xml.mako
 create mode 100644 apps/oozie/src/oozie/templates/editor2/gen/workflow-kill.xml.mako
 create mode 100644 apps/oozie/src/oozie/templates/editor2/gen/workflow-mapreduce.xml.mako
 create mode 100644 apps/oozie/src/oozie/templates/editor2/gen/workflow-pig.xml.mako
 create mode 100644 apps/oozie/src/oozie/templates/editor2/gen/workflow-shell.xml.mako
 create mode 100644 apps/oozie/src/oozie/templates/editor2/gen/workflow-sqoop.xml.mako
 create mode 100644 apps/oozie/src/oozie/templates/editor2/gen/workflow-ssh.xml.mako
 create mode 100644 apps/oozie/src/oozie/templates/editor2/gen/workflow-start.xml.mako
 create mode 100644 apps/oozie/src/oozie/templates/editor2/gen/workflow-streaming.xml.mako
 create mode 100644 apps/oozie/src/oozie/templates/editor2/gen/workflow-subworkflow.xml.mako
 create mode 100644 apps/oozie/src/oozie/templates/editor2/gen/workflow.xml.mako
 create mode 100644 apps/oozie/src/oozie/templates/editor2/list_editor_bundles.mako
 create mode 100644 apps/oozie/src/oozie/templates/editor2/list_editor_coordinators.mako
 create mode 100644 apps/oozie/src/oozie/templates/editor2/list_editor_workflows.mako
 create mode 100644 apps/oozie/src/oozie/templates/editor2/submit_job_popup.mako
 create mode 100644 apps/oozie/src/oozie/templates/editor2/workflow_editor.mako

diff --git a/apps/oozie/src/oozie/models2.py b/apps/oozie/src/oozie/models2.py
index e2e5ed5..2c10460 100644
--- a/apps/oozie/src/oozie/models2.py
+++ b/apps/oozie/src/oozie/models2.py
@@ -169,7 +169,7 @@ class Workflow(Job):
   def to_xml(self, mapping=None):
     if mapping is None:
       mapping = {}
-    tmpl = 'editor/gen2/workflow.xml.mako'
+    tmpl = 'editor2/gen/workflow.xml.mako'
 
     data = self.get_data()
     nodes = [node for node in self.nodes if node.name != 'End'] + [node for node in self.nodes if node.name == 'End'] # End at the end
@@ -319,7 +319,7 @@ class Node():
       self.data['properties']['sla'] = []
 
   def get_template_name(self):
-    return 'editor/gen2/workflow-%s.xml.mako' % self.data['type']
+    return 'editor2/gen/workflow-%s.xml.mako' % self.data['type']
 
   def find_parameters(self):
     return find_parameters(self)
@@ -1627,7 +1627,7 @@ class Coordinator(Job):
     if mapping is None:
       mapping = {}
 
-    tmpl = "editor/gen2/coordinator.xml.mako"
+    tmpl = "editor2/gen/coordinator.xml.mako"
     return re.sub(re.compile('\s*\n+', re.MULTILINE), '\n', django_mako.render_to_string(tmpl, {'coord': self, 'mapping': mapping})).encode('utf-8', 'xmlcharrefreplace')
 
   @property
@@ -1758,7 +1758,7 @@ class Bundle(Job):
       mapping = {}
 
     mapping.update(dict(list(Document2.objects.filter(type='oozie-coordinator2', uuid__in=self.data['coordinators']).values('uuid', 'name'))))
-    tmpl = "editor/gen2/bundle.xml.mako"
+    tmpl = "editor2/gen/bundle.xml.mako"
     return force_unicode(
               re.sub(re.compile('\s*\n+', re.MULTILINE), '\n', django_mako.render_to_string(tmpl, {
                 'bundle': self,
diff --git a/apps/oozie/src/oozie/templates/editor/bundle_editor.mako b/apps/oozie/src/oozie/templates/editor/bundle_editor.mako
deleted file mode 100644
index 42ddb08..0000000
--- a/apps/oozie/src/oozie/templates/editor/bundle_editor.mako
+++ /dev/null
@@ -1,240 +0,0 @@
-## Licensed to Cloudera, Inc. under one
-## or more contributor license agreements.  See the NOTICE file
-## distributed with this work for additional information
-## regarding copyright ownership.  Cloudera, Inc. licenses this file
-## to you under the Apache License, Version 2.0 (the
-## "License"); you may not use this file except in compliance
-## with the License.  You may obtain a copy of the License at
-##
-##     http://www.apache.org/licenses/LICENSE-2.0
-##
-## Unless required by applicable law or agreed to in writing, software
-## distributed under the License is distributed on an "AS IS" BASIS,
-## WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
-## See the License for the specific language governing permissions and
-## limitations under the License.
-<%!
-from desktop.views import commonheader, commonfooter, commonshare
-from django.utils.translation import ugettext as _
-%>
-
-<%namespace name="dashboard" file="/common_dashboard.mako" />
-
-${ commonheader(_("Bundle Editor"), "Oozie", user) | n,unicode }
-
-<script type="text/javascript">
-  if (window.location.hash != "") {
-    if (window.location.hash.indexOf("bundle") > -1) {
-      location.href = "/oozie/editor/bundle/edit/?" + window.location.hash.substr(1);
-    }
-  }
-</script>
-
-
-<div id="editor">
-
-
-<div class="search-bar">
-  <div class="pull-right" style="padding-right:50px">
-    <a title="${ _('Submit') }" rel="tooltip" data-placement="bottom" data-bind="click: showSubmitPopup, css: {'btn': true}, visible: bundle.id() != null">
-      <i class="fa fa-play"></i>
-    </a>
-    <a title="${ _('Edit') }" rel="tooltip" data-placement="bottom" data-bind="click: toggleEditing, css: {'btn': true, 'btn-inverse': isEditing}, visible: canEdit">
-      <i class="fa fa-pencil"></i>
-    </a>
-
-    &nbsp;&nbsp;&nbsp;
-
-    <button type="button" title="${ _('Settings') }" rel="tooltip" data-placement="bottom" data-toggle="modal" data-target="#settingsModal" data-bind="css: {'btn': true}, visible: canEdit">
-      <i class="fa fa-cog"></i>
-    </button>
-
-    &nbsp;&nbsp;&nbsp;
-
-    <button type="button" title="${ _('Save') }" rel="tooltip" data-placement="bottom" data-loading-text="${ _("Saving...") }" data-bind="click: $root.save, css: {'btn': true}, visible: canEdit">
-      <i class="fa fa-save"></i>
-    </button>
-
-    <a class="share-link btn" rel="tooltip" data-placement="bottom" data-bind="click: openShareModal,
-        attr: {'data-original-title': '${ _("Share") } ' + name},
-        css: {'isShared': isShared(), 'btn': true},
-        visible: bundle.id() != null && canEdit()">
-      <i class="fa fa-users"></i>
-    </a>
-
-    &nbsp;&nbsp;&nbsp;
-
-    <a class="btn" href="${ url('oozie:new_bundle') }" title="${ _('New') }" rel="tooltip" data-placement="bottom" data-bind="css: {'btn': true}">
-      <i class="fa fa-file-o"></i>
-    </a>
-    <a class="btn" href="${ url('oozie:list_editor_bundles') }" title="${ _('Bundles') }" rel="tooltip" data-placement="bottom" data-bind="css: {'btn': true}">
-      <i class="fa fa-tags"></i>
-    </a>
-  </div>
-
-  <form class="form-search">
-    <div class="inline object-name">
-      <span data-bind="editable: $root.bundle.name, editableOptions: {enabled: $root.isEditing(), placement: 'right'}"></span>
-    </div>
-  </form>
-</div>
-
-
-<div class="container-fluid">
-  <div class="row-fluid">
-    <div class="span12 bundle">
-
-      <div class="card card-home">
-        <h1 class="card-heading simple">${ _('Which schedules to bundle?') }</h1>
-
-        <div class="card-body">
-
-          <a class="pointer" data-bind="click: function() { showChooseCoordinator(); }">
-            <i class="fa fa-plus"></i> ${ _('Add a coordinator') }
-          </a>
-
-          
-          <ul data-bind="foreach: bundle.coordinators" class="unstyled">
-            <li>
-              <h3><a class="pointer" data-bind="click: function() { showChooseCoordinator(this); }, text: $root.getCoordinatorById(coordinator()).name"></a></h3>
-
-              <ul data-bind="foreach: properties" class="unstyled">
-                <li>
-                  <input data-bind="value: name"/>
-                  <input data-bind="value: value"/>
-                  <a href="#" data-bind="click: function(){ $parent.properties.remove(this); }">
-                    <i class="fa fa-minus"></i>
-                  </a>
-                </li>
-              </ul>
-
-              <a class="pointer" data-bind="click: function(){ $data.properties.push({'name': '', 'value': ''}); }">
-                <i class="fa fa-plus"></i> ${ _('Add a parameter') }
-              </a>
-            </li>          
-          </ul>
-        </div>
-        
-      </div>
-
-    </div>
-  </div>
-</div>
-
-
-<div id="chooseCoordinatorDemiModal" class="demi-modal hide" data-backdrop="false">
-  <div class="modal-body">
-    <a href="javascript: void(0)" data-dismiss="modal" class="pull-right"><i class="fa fa-times"></i></a>
-    <div style="float: left; margin-right: 10px;text-align: center">
-      <input type="text" data-bind="clearable: $root.coordinatorModalFilter, valueUpdate:'afterkeydown'" placeholder="${_('Filter coordinators')}" class="input" style="float: left" /><br/>
-    </div>
-    <div>
-      <ul data-bind="foreach: $root.filteredModalCoordinators().sort(function (l, r) { return l.name() > r.name() ? 1 : -1 }), visible: $root.filteredModalCoordinators().length > 0"
-          class="unstyled inline fields-chooser" style="height: 100px; overflow-y: auto">
-        <li data-bind="click: selectCoordinator">
-          <span class="badge badge-info"><span data-bind="text: name(), attr: {'title': uuid()}"></span>
-          </span>
-        </li>
-      </ul>
-      <div class="alert alert-info inline" data-bind="visible: $root.filteredModalCoordinators().length == 0" style="margin-left: 250px;margin-right: 50px; height: 42px;line-height: 42px">
-        ${_('There are no coordinators matching your search term.')}
-      </div>
-    </div>
-  </div>
-</div>
-
-
-<div id="settingsModal" class="modal hide fade">
-  <div class="modal-header" style="padding-bottom: 2px">
-    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
-    <h3 id="myModalLabel">${ _('Settings') }</h3>
-  </div>
-  <div class="modal-body">
-      <h4>${ _('Kick off time') }</h4>
-      <input data-bind="value: bundle.properties.kickoff"/>
-        
-      <h4>${ _('Submission Parameters') }</h4>
-      <ul data-bind="foreach: bundle.properties.parameters" class="unstyled">
-        <li>
-          <input data-bind="value: name"/>
-          <input data-bind="value: value"/>
-          <a href="#" data-bind="click: function(){ $root.bundle.properties.parameters.remove(this); }">
-            <i class="fa fa-minus"></i>
-          </a>
-        </li>
-      </ul>
-      <a class="pointer" data-bind="click: function(){ $root.bundle.properties.parameters.push({'name': '', 'value': ''}); }">
-        <i class="fa fa-plus"></i> ${ _('Add parameter') }
-      </a>
-  </div>
-</div>
-
-
-<div id="submit-modal" class="modal hide"></div>
-
-
-</div>
-
-
-<div id="exposeOverlay"></div>
-
-<link rel="stylesheet" href="/static/ext/css/hue-filetypes.css">
-<link rel="stylesheet" href="/static/ext/css/hue-charts.css">
-<link rel="stylesheet" href="/static/ext/chosen/chosen.min.css">
-<link rel="stylesheet" href="/oozie/static/css/common-editor.css">
-<link rel="stylesheet" href="/oozie/static/css/coordinator-editor.css">
-
-${ dashboard.import_layout() }
-
-${ commonshare() | n,unicode }
-
-<script src="/static/ext/js/bootstrap-editable.min.js" type="text/javascript" charset="utf-8"></script>
-<script src="/static/js/hue.utils.js"></script>
-<script src="/static/js/ko.editable.js" type="text/javascript" charset="utf-8"></script>
-<script src="/static/ext/chosen/chosen.jquery.min.js" type="text/javascript" charset="utf-8"></script>
-<script src="/static/js/share.vm.js"></script>
-
-${ dashboard.import_bindings() }
-
-<script src="/oozie/static/js/bundle-editor.ko.js" type="text/javascript" charset="utf-8"></script>
-
-
-<script type="text/javascript">
-  var viewModel = new BundleEditorViewModel(${ bundle_json | n,unicode }, ${ coordinators_json | n,unicode }, ${ can_edit_json | n,unicode });
-  ko.applyBindings(viewModel, $("#editor")[0]);
-
-  var shareViewModel = initSharing("#documentShareModal");
-  shareViewModel.setDocId(${ doc1_id });
-
-  var tempCoordinator = null;
-  function showChooseCoordinator(coord) {
-    if (typeof coord != "undefined"){
-      tempCoordinator = coord;  
-    }
-    $("#chooseCoordinatorDemiModal").modal("show");
-  }
-
-  function selectCoordinator(coord) {
-    if (tempCoordinator != null){
-      tempCoordinator.coordinator(coord.uuid());
-      tempCoordinator = null;
-    } 
-    else  {
-      viewModel.addBundledCoordinator(coord.uuid());
-    }
-    $("#chooseCoordinatorDemiModal").modal("hide");
-  }
-
-  $(document).on("showSubmitPopup", function(event, data){
-    $('#submit-modal').html(data);
-    $('#submit-modal').modal('show');
-  });
-
-  $(document).ready(function() {
-    $("#chooseCoordinatorDemiModal").modal({
-      show: false
-    });
-  });
-</script>
-
-${ commonfooter(messages) | n,unicode }
diff --git a/apps/oozie/src/oozie/templates/editor/coordinator_editor.mako b/apps/oozie/src/oozie/templates/editor/coordinator_editor.mako
deleted file mode 100644
index 3cf93c3..0000000
--- a/apps/oozie/src/oozie/templates/editor/coordinator_editor.mako
+++ /dev/null
@@ -1,569 +0,0 @@
-## Licensed to Cloudera, Inc. under one
-## or more contributor license agreements.  See the NOTICE file
-## distributed with this work for additional information
-## regarding copyright ownership.  Cloudera, Inc. licenses this file
-## to you under the Apache License, Version 2.0 (the
-## "License"); you may not use this file except in compliance
-## with the License.  You may obtain a copy of the License at
-##
-##     http://www.apache.org/licenses/LICENSE-2.0
-##
-## Unless required by applicable law or agreed to in writing, software
-## distributed under the License is distributed on an "AS IS" BASIS,
-## WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
-## See the License for the specific language governing permissions and
-## limitations under the License.
-<%!
-from desktop.views import commonheader, commonfooter, commonshare
-from django.utils.translation import ugettext as _
-%>
-
-<%namespace name="dashboard" file="/common_dashboard.mako" />
-<%namespace name="utils" file="../utils.inc.mako" />
-<%namespace name="coordinator_utils" file="coordinator_utils.mako" />
-
-${ commonheader(_("Coordinator Editor"), "Oozie", user) | n,unicode }
-
-<script type="text/javascript">
-  if (window.location.hash != "") {
-    if (window.location.hash.indexOf("coordinator") > -1) {
-      location.href = "/oozie/editor/coordinator/edit/?" + window.location.hash.substr(1);
-    }
-  }
-</script>
-
-
-<div id="editor">
-
-<div class="search-bar">
-  <div class="pull-right" style="padding-right:50px">
-    <a title="${ _('Submit') }" rel="tooltip" data-placement="bottom" data-bind="click: showSubmitPopup, css: {'btn': true}, visible: coordinator.id() != null">
-      <i class="fa fa-play"></i>
-    </a>
-    
-    &nbsp;&nbsp;&nbsp;
-    
-    <a title="${ _('Edit') }" rel="tooltip" data-placement="bottom" data-bind="click: toggleEditing, css: {'btn': true, 'btn-inverse': isEditing}, visible: canEdit">
-      <i class="fa fa-pencil"></i>
-    </a>
-
-    &nbsp;&nbsp;&nbsp;
-
-    <button type="button" title="${ _('Settings') }" rel="tooltip" data-placement="bottom" data-toggle="modal" data-target="#settingsModal" data-bind="css: {'btn': true}, visible: canEdit">
-      <i class="fa fa-cog"></i>
-    </button>
-
-    &nbsp;&nbsp;&nbsp;
-
-    <button type="button" title="${ _('Save') }" rel="tooltip" data-placement="bottom" data-loading-text="${ _("Saving...") }"
-        data-bind="click: $root.save, css: {'btn': true}, visible: coordinator.properties.workflow() && canEdit">
-      <i class="fa fa-save"></i>
-    </button>
-
-    <a class="share-link btn" rel="tooltip" data-placement="bottom" data-bind="click: openShareModal,
-        attr: {'data-original-title': '${ _("Share") } ' + name},
-        css: {'isShared': isShared(), 'btn': true},
-        visible: coordinator.id() != null && canEdit()">
-      <i class="fa fa-users"></i>
-    </a>
-
-    &nbsp;&nbsp;&nbsp;
-
-    <a class="btn" href="${ url('oozie:new_coordinator') }" title="${ _('New') }" rel="tooltip" data-placement="bottom" data-bind="css: {'btn': true}">
-      <i class="fa fa-file-o"></i>
-    </a>
-    <a class="btn" href="${ url('oozie:list_editor_coordinators') }" title="${ _('Coordinators') }" rel="tooltip" data-placement="bottom" data-bind="css: {'btn': true}">
-      <i class="fa fa-tags"></i>
-    </a>
-
-  </div>
-
-  <form class="form-search">
-    <span data-bind="visible: coordinator.id() == null" class="muted pull-right">${ _('Unsaved') }&nbsp;&nbsp;&nbsp;</span>
-
-    <div class="inline object-name">
-      <span data-bind="editable: $root.coordinator.name, editableOptions: {enabled: $root.isEditing(), placement: 'right'}"></span>
-    </div>
-  </form>
-</div>
-
-
-<div class="container-fluid">
-  <div class="row-fluid">
-    <div class="span12 coordinator">
-
-      <div class="card card-home">
-        <h1 class="card-heading simple">${ _('Which workflow to schedule?') }</h1>
-
-        <div class="card-body">
-          <a class="pointer" data-bind="visible: ! coordinator.properties.workflow(), click: showChooseWorkflow">${ _('Choose a workflow...') }</a>
-          <!-- ko if: coordinator.properties.workflow -->
-            <!-- ko if: isEditing -->
-            <a class="pointer" data-bind="click: showChooseWorkflow, text: getWorkflowById(coordinator.properties.workflow()).name"></a>
-
-            <a data-bind="attr: { href: '${ url('oozie:edit_workflow') }?workflow=' + coordinator.properties.workflow() }" target="_blank" title="${ _('Open') }">
-             <i class="fa fa-external-link-square"></i>
-            </a>
-            <!-- /ko -->
-            <!-- ko ifnot: isEditing -->
-            <span data-bind="text: getWorkflowById(coordinator.properties.workflow()).name"></span>
-            <a data-bind="attr: { href: '${ url('oozie:edit_workflow') }?workflow=' + coordinator.properties.workflow() }" target="_blank" title="${ _('Open') }">
-              <i class="fa fa-external-link-square"></i>
-            </a>
-            <!-- /ko -->
-          <!-- /ko -->
-        </div>
-      </div>
-
-      <div class="card card-home" data-bind="visible: coordinator.properties.workflow" style="margin-top: 20px">
-        <h1 class="card-heading simple">${ _('How often?') }</h1>
-
-        <div class="card-body">
-
-        <form class="form-horizontal">
-          <div class="control-group" data-bind="visible: ! coordinator.properties.cron_advanced()">
-            <div class="controls" id="jqCron-container">
-              <div id="jqCron-instance" style="margin-top: 5px; display: inline-block"></div>
-            </div>
-          </div>
-          <div class="control-group" data-bind="visible: coordinator.properties.cron_advanced">
-            <label class="control-label">${ _('Crontab') }</label>
-            <div class="controls">
-              <input id="coord-frequency" type="text" data-bind="value: coordinator.properties.cron_frequency" name="cron_frequency"/>
-              <span class="help-inline"><a data-bind="visible: coordinator.properties.cron_advanced" href="http://quartz-scheduler.org/api/2.2.0/org/quartz/CronExpression.html" target="_blank">
-                <i class="fa fa-question-circle" title="${ _('Check syntax ?') }"></i></a>
-              </span>
-            </div>
-          </div>
-          <div class="control-group" style="margin-bottom: 0">
-            <label class="control-label"></label>
-            <div class="controls">
-            <a href="#" data-bind="click: function() { $root.coordinator.showAdvancedFrequencyUI(! $root.coordinator.showAdvancedFrequencyUI()) }">
-              <i class="fa fa-sliders"></i> <span data-bind="visible: ! coordinator.showAdvancedFrequencyUI()">${ _('Options') }</span>
-              <span data-bind="visible: coordinator.showAdvancedFrequencyUI">${ _('Hide') }</span>
-            </a>
-            </div>
-          </div>
-        </form>
-
-
-          <div data-bind="visible: coordinator.showAdvancedFrequencyUI">
-            <form class="form-horizontal">
-
-              <div class="control-group">
-                <div class="controls">
-                  <label class="checkbox" style="display: inline-block; margin-top: 5px">
-                    <input type="checkbox" name="coordinator.properties.cron_advanced" data-bind="checked: coordinator.properties.cron_advanced" /> ${ _('Advanced syntax') }
-                  </label>
-                </div>
-              </div>
-
-              <div class="control-group">
-                <label class="control-label">${ _('From') }</label>
-                <div class="controls">
-                  <div class="input-prepend input-group">
-                    <span class="add-on input-group-addon"><i class="fa fa-calendar"></i></span><input type="text" class="input-small" data-bind="value: coordinator.properties.startDateUI, datepicker: {}" />
-                  </div>
-                  <div class="input-prepend input-group">
-                    <span class="add-on input-group-addon"><i class="fa fa-clock-o"></i></span><input type="text" class="input-mini" data-bind="value: coordinator.properties.startTimeUI, timepicker: {}" />
-                  </div>
-                  <span class="help-inline"></span>
-                </div>
-              </div>
-              <div class="control-group">
-                <label class="control-label">${ _('To') }</label>
-                <div class="controls">
-                  <div class="input-prepend input-group">
-                    <span class="add-on input-group-addon"><i class="fa fa-calendar"></i></span><input type="text" class="input-small" data-bind="value: coordinator.properties.endDateUI, datepicker: {}" />
-                  </div>
-                  <div class="input-prepend input-group">
-                    <span class="add-on input-group-addon"><i class="fa fa-clock-o"></i></span><input type="text" class="input-mini" data-bind="value: coordinator.properties.endTimeUI, timepicker: {}" />
-                  </div>
-                  <span class="help-inline"></span>
-                </div>
-              </div>
-              <div class="control-group" style="margin-bottom: 0">
-                <label class="control-label">${ _('Timezone') }</label>
-                <div class="controls">
-                  <select data-bind="options: $root.availableTimezones, select2: { placeholder: '${ _("Select a Timezone") }', update: coordinator.properties.timezone}" style="width: 180px"></select>
-                  <span class="help-inline"></span>
-                </div>
-              </div>
-
-            </form>
-
-          </div>
-
-
-        </div>
-      </div>
-
-
-      <div class="card card-home" data-bind="visible: coordinator.properties.workflow()" style="margin-top: 20px; margin-bottom: 20px">
-        <h1 class="card-heading simple">${ _('Workflow Parameters') }</h1>
-
-        <div class="card-body">
-          <ul data-bind="foreach: coordinator.variables" class="unstyled">
-            <li style="margin-bottom: 10px">
-              <select data-bind="options: $parent.coordinator.workflowParameters, optionsText: 'name', optionsValue: 'name', select2: { placeholder: '${ _("Select a parameter") }', update: workflow_variable, type: 'parameter'}, visible: $root.isEditing" style="width: 250px"></select>
-
-              <span data-bind="text: workflow_variable, visible: ! $root.isEditing()"/></span>
-
-              &nbsp;&nbsp;
-
-              <div class="btn-group">
-                <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown"
-                        aria-expanded="false">
-                  <!-- ko if: dataset_type() == 'parameter' -->
-                  ${ _('Parameter') }
-                  <!-- /ko -->
-                  <!-- ko if: dataset_type() == 'input_path' -->
-                  ${ _('Input Path') }
-                  <!-- /ko -->
-                  <!-- ko if: dataset_type() == 'output_path' -->
-                  ${ _('Output Path') }
-                  <!-- /ko --> <span class="caret"></span>
-                </button>
-                <ul class="dropdown-menu" role="menu" data-bind="foreach: $parent.coordinator.variablesUI">
-                  <!-- ko if: $data != $parent.dataset_type() -->
-                  <li>
-                    <a href="#" data-bind="click: function() { $parent.dataset_type($data) } ">
-                      <!-- ko if: $data == 'parameter' -->
-                      ${ _('Parameter') }
-                      <!-- /ko -->
-                      <!-- ko if: $data == 'input_path' -->
-                      ${ _('Input Path') }
-                      <!-- /ko -->
-                      <!-- ko if: $data == 'output_path' -->
-                      ${ _('Output Path') }
-                      <!-- /ko -->
-                    </a>
-                  </li>
-                  <!-- /ko -->
-                </ul>
-              </div>
-              
-              &nbsp;&nbsp;
-              
-              <input type="text" class="filechooser-input dataset-input" data-bind="value: dataset_variable, filechooser: dataset_variable, attr: { placeholder:
-                dataset_type() == 'input_path' ? '${ _("Required data path dependency to start the worklow") }' : 
-                dataset_type() == 'output_path' ? '${ _("Data path created by the workflow") }' : 
-                '${ _("e.g. 1, 2, 3, /data/logs, coord:nominalTime()") }' },
-                valueUpdate: 'afterkeydown'" style="margin-bottom:0; width: 380px" />
-
-              <a href="#" data-bind="click: function(){ $root.coordinator.variables.remove(this); }, visible: $root.isEditing">
-                <i class="fa fa-minus"></i>
-              </a>
-
-              <!-- ko if: dataset_type() == 'input_path' || dataset_type() == 'output_path' -->
-
-                <a href="#" data-bind="click: function() { show_advanced(! show_advanced()) }">
-                  <i class="fa fa-sliders"></i>
-                </a>
-                
-                <span style="padding-left:100px">
-                  <span data-bind="visible: dataset_variable().length == 0">
-                    e.g. /data/${'$'}{YEAR}/${'$'}{MONTH}/${'$'}{DAY}
-                  </span>
-                  <span data-bind="visible: dataset_variable().length > 0">
-                    ${ _('Will convert to') }
-                    <a href="/filebrowser/view">
-                    /user/hue/2015/01/01
-                    ## use start_date as the date
-                  </span>
-                  </a>
-                </span>
-
-                <div data-bind="visible: show_advanced" style="padding: 20px">
-                  <form class="form-horizontal">
-                    <div class="control-group">
-                      <label class="control-label">${ _('Done flag') }</label>
-                      <div class="controls">
-                        <input type="checkbox" data-bind="checked: use_done_flag, style: {'margin-top': !use_done_flag()?'9px':'-1px'}" />
-                        <input type="text" data-bind="value: done_flag, visible: use_done_flag"/>
-                      </div>
-                    </div>
-                    <div class="control-group">
-                      <label class="control-label">${ _('Same frequency') }</label>
-                      <div class="controls">
-                        <input type="checkbox" data-bind="checked: same_frequency, style: {'margin-top': same_frequency() ? '5px' : '0'}" />
-                        <span data-bind="visible: ! same_frequency()">
-                          ${ _('Every') }
-                        </span>
-                        <select data-bind="value: frequency_number, visible: ! same_frequency()" style="width: 50px">
-                          % for i in xrange(0, 60):
-                          <option value="${ i }">${ i }</option>
-                          % endfor
-                        </select>
-                        <select data-bind="value: frequency_unit, visible: ! same_frequency()" style="width: 100px">
-                          <option value="minutes">Minutes</option>
-                          <option value="hours">Hours</option>
-                          <option value="days" selected="selected">Days</option>
-                          <option value="months">Months</option>
-                        </select>
-                      </div>
-                    </div>                  
-                    <div class="control-group">
-                      <label class="control-label">${ _('Same start') }</label>
-                      <div class="controls">
-                        <input type="checkbox" data-bind="checked: same_start, style: {'margin-top': same_start()?'9px':'-1px'}" />
-                        <input type="text" data-bind="value: start, visible: ! same_start()"/>
-                      </div>
-                    </div>                  
-                    <div class="control-group">
-                      <label class="control-label">${ _('Same timezone') }</label>
-                      <div class="controls">
-                        <input type="checkbox" data-bind="checked: same_timezone, style: {'margin-top': same_timezone()?'5px':'0'}" />
-                        <select data-bind="options: $root.availableTimezones, select2: { placeholder: '${ _("Select a Timezone") }', update: timezone}, visible: ! same_timezone()" style="width: 180px"></select>
-                      </div>
-                    </div>
-                    <div class="control-group">
-                      <label class="control-label">${ _('Instance') }</label>
-                      <div class="controls">
-                        <div class="btn-group" data-toggle="buttons-radio">
-                          <button id="default-btn" type="button" class="btn"
-                                  data-bind="click: function() { instance_choice('default'); }, css: { active: instance_choice() == 'default' }">
-                            ${ _('Default') }
-                          </button>
-                          <button id="single-btn" type="button" class="btn"
-                                  data-bind="click: function() { instance_choice('single'); }, css: { active: instance_choice() == 'single' }">
-                            ${ _('Single') }
-                          </button>
-                          <button id="range-btn" type="button" class="btn"
-                                  data-bind="click: function() { instance_choice('range'); }, css: { active: instance_choice() == 'range' }">
-                            ${ _('Range') }
-                          </button>
-                        </div>
-                      </div>
-                    </div>
-                    <div class="control-group" data-bind="visible: $.inArray(instance_choice(), ['single', 'range']) != -1">
-                      <label class="control-label">${ _('Start') }</label>
-                      <div class="controls">
-                        <input name="instance_start" type="number" data-bind="value: start_instance, enable: ! is_advanced_start_instance()"/>
-                        <label style="display: inline">
-                            &nbsp;
-                            <input type="checkbox" data-bind="checked: is_advanced_start_instance" style="margin-top:0">
-                            ${ _('(advanced)') }
-                          </label>
-                          <input type="text" data-bind="value: advanced_start_instance, visible: is_advanced_start_instance()"/>
-                      </div>
-                    </div>
-                    <div class="control-group" data-bind="visible: instance_choice() == 'range'">
-                      <label class="control-label">${ _('End') }</label>
-                      <div class="controls">
-                        <input name="instance_end" type="number" data-bind="value: end_instance, enable: ! is_advanced_end_instance()"/>
-                        <label style="display: inline">
-                            &nbsp;
-                            <input type="checkbox" data-bind="checked: is_advanced_end_instance" style="margin-top:0">
-                            ${ _('(advanced)') }
-                          </label>
-                          <input type="text" data-bind="value: advanced_end_instance, visible: is_advanced_end_instance()"/>
-                      </div>
-                    </div>
-                  </form>
-                </div>
-              <!-- /ko -->
-            </li>
-          </ul>
-
-          <a class="pointer" data-bind="click: function() { coordinator.addVariable() }, visible: isEditing">
-            <i class="fa fa-plus"></i> ${ _('Add parameter') }
-          </a>
-
-        </div>
-
-      </div>
-
-      <div class="card card-home" data-bind="visible: coordinator.id() == null && coordinator.properties.workflow()">
-        <div class="card-body">
-          <a href type="button" title="${ _('Save') }" rel="tooltip" data-placement="bottom" data-loading-text="${ _("Saving...") }"
-            data-bind="click: $root.save, css: {'btn': true}">
-            ${ _('Save') }
-          </a>
-        </div>
-      </div>
-
-    </div>
-  </div>
-</div>
-
-<div id="chooseWorkflowDemiModal" class="demi-modal hide" data-backdrop="false">
-  <div class="modal-body">
-    <a href="javascript: void(0)" data-dismiss="modal" class="pull-right"><i class="fa fa-times"></i></a>
-    <div style="float: left; margin-right: 10px;text-align: center">
-      <input type="text" data-bind="clearable: $root.workflowModalFilter, valueUpdate:'afterkeydown'" placeholder="${_('Filter workflows')}" class="input" style="float: left" /><br/>
-    </div>
-    <div>
-      <ul data-bind="foreach: $root.filteredModalWorkflows().sort(function (l, r) { return l.name() > r.name() ? 1 : -1 }), visible: $root.filteredModalWorkflows().length > 0"
-          class="unstyled inline fields-chooser" style="height: 100px; overflow-y: auto">
-        <li>
-          <span class="badge badge-info" data-bind="click: selectWorkflow">
-            <span data-bind="text: name(), attr: {'title': uuid()}"></span>
-          </span>
-          <a data-bind="attr: { href: '${ url('oozie:edit_workflow') }?workflow=' + uuid() }" target="_blank" title="${ _('Open') }">
-            <i class="fa fa-external-link-square"></i>
-          </a>
-        </li>
-      </ul>
-      <div class="alert alert-info inline" data-bind="visible: $root.filteredModalWorkflows().length == 0" style="margin-left: 250px;margin-right: 50px; height: 42px;line-height: 42px">
-        ${_('There are no workflows matching your search term.')}
-      </div>
-    </div>
-  </div>
-</div>
-
-<div id="settingsModal" class="modal hide fade">
-  <div class="modal-header" style="padding-bottom: 2px">
-    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
-    <h3 id="myModalLabel">${ _('Coordinator Settings') }</h3>
-  </div>
-  <div class="modal-body">
-      <h4>${ _('Submission Parameters') }</h4>
-      <ul data-bind="foreach: coordinator.properties.parameters" class="unstyled">
-        <!-- ko if: ['oozie.use.system.libpath', 'start_date', 'end_date'].indexOf(name()) == -1 -->
-        <li>
-          <input data-bind="value: name"/>
-          <input data-bind="value: value"/>
-          <a href="#" data-bind="click: function(){ $root.coordinator.properties.parameters.remove(this); }">
-            <i class="fa fa-minus"></i>
-          </a>
-        </li>
-        <!-- /ko -->
-      </ul>
-      <a class="pointer" data-bind="click: function(){ $root.coordinator.properties.parameters.push(ko.mapping.fromJS({'name': '', 'value': ''})); }">
-        <i class="fa fa-plus"></i> ${ _('Add parameter') }
-      </a>
-
-      <h4>${ _('Timeout') }</h4>
-      <input data-bind="value: coordinator.properties.timeout" type="number"/>
-
-      <h4>${ _('Concurrency') }</h4>
-      <select data-bind="options: availableSettings, optionsCaption: '${ _("Default") }', value: coordinator.properties.concurrency"></select>
-      
-      <h4>${ _('Execution') }</h4>
-      <select data-bind="value: coordinator.properties.execution">
-		<option value="FIFO">${ _("FIFO (oldest first)") }</option>
-		<option value="LIFO">${ _("LIFO (newest first)") }</option>
-		<option value="LAST_ONLY">${ _("LAST_ONLY (discards all older materializations)") }</option>
-      </select>
-
-      <h4>${ _('Throttle') }</h4>
-      <select data-bind="options: availableSettings, optionsCaption: '${ _("Default") }', value: coordinator.properties.throttle"></select>
-
-      <h4>${ _('SLA Configuration') }</h4>
-      <div class="sla-form" data-bind="with: $root.coordinator.properties">
-        ${ utils.slaForm() }
-      </div>
-  </div>
-</div>
-
-
-<div id="submit-coord-modal" class="modal hide"></div>
-<div id="chooseFile" class="modal hide fade">
-  <div class="modal-header">
-      <a href="#" class="close" data-dismiss="modal">&times;</a>
-      <h3>${_('Choose a file')}</h3>
-  </div>
-  <div class="modal-body">
-      <div id="filechooser">
-      </div>
-  </div>
-  <div class="modal-footer">
-  </div>
-</div>
-
-
-</div>
-
-<div id="exposeOverlay"></div>
-
-<link rel="stylesheet" href="/static/ext/css/hue-filetypes.css">
-<link rel="stylesheet" href="/static/ext/css/hue-charts.css">
-<link rel="stylesheet" href="/static/ext/chosen/chosen.min.css">
-<link rel="stylesheet" href="/oozie/static/css/common-editor.css">
-<link rel="stylesheet" href="/oozie/static/css/coordinator-editor.css">
-
-<link href="/static/css/jqCron.css" rel="stylesheet" type="text/css" />
-<script src="/static/js/jqCron.js" type="text/javascript"></script>
-
-<script src="/static/ext/js/moment.min.js" type="text/javascript" charset="utf-8"></script>
-
-<link rel="stylesheet" href="/static/ext/select2/select2.css">
-<script src="/static/ext/select2/select2.min.js" type="text/javascript" charset="utf-8"></script>
-
-${ dashboard.import_layout() }
-
-${ commonshare() | n,unicode }
-
-<script src="/static/ext/js/bootstrap-editable.min.js" type="text/javascript" charset="utf-8"></script>
-<script src="/static/js/hue.utils.js"></script>
-<script src="/static/js/ko.editable.js" type="text/javascript" charset="utf-8"></script>
-<script src="/static/ext/chosen/chosen.jquery.min.js" type="text/javascript" charset="utf-8"></script>
-<script src="/static/js/share.vm.js"></script>
-
-${ dashboard.import_bindings() }
-
-<script src="/oozie/static/js/coordinator-editor.ko.js" type="text/javascript" charset="utf-8"></script>
-
-
-<script type="text/javascript">
-  ${ utils.slaGlobal() }
-
-  ${ utils.cron_js() }
-
-  var coordCron =
-    $('#coord-frequency')
-      .jqCron({
-        texts: {
-          i18n: cron_i18n
-        },
-        enabled_minute: false,
-        multiple_dom: true,
-        multiple_month: true,
-        multiple_mins: true,
-        multiple_dow: true,
-        multiple_time_hours: true,
-        multiple_time_minutes: false,
-        default_period: 'day',
-        default_value: ${ coordinator_json | n,unicode }.properties.cron_frequency,
-        no_reset_button: true,
-        lang: 'i18n',
-        jquery_container: $('#jqCron-container'),
-        jquery_element: $('#jqCron-instance')
-      })
-      .jqCronGetInstance();
-
-  var viewModel = new CoordinatorEditorViewModel(${ coordinator_json | n,unicode }, ${ credentials_json | n,unicode }, ${ workflows_json | n,unicode }, ${ can_edit_json | n,unicode });
-  ko.applyBindings(viewModel, $("#editor")[0]);
-
-  viewModel.coordinator.properties.cron_advanced.valueHasMutated(); // Update jsCron enabled status
-
-  var shareViewModel = initSharing("#documentShareModal");
-  shareViewModel.setDocId(${ doc1_id });
-
-  function showChooseWorkflow() {
-    $("#chooseWorkflowDemiModal").modal("show");
-  }
-
-  function selectWorkflow(wf) {
-    viewModel.coordinator.properties.workflow(wf.uuid());
-    $("#chooseWorkflowDemiModal").modal("hide");
-  }
-
-  $(document).on("showSubmitPopup", function(event, data){
-    $('#submit-coord-modal').html(data);
-    $('#submit-coord-modal').modal('show');
-  });
-
-  $(document).ready(function() {
-    $("#chooseWorkflowDemiModal").modal({
-      show: false
-    });
-    
-    $(".dataset-input").typeahead({
-      source: ["/data/${'${'}YEAR}/${'${'}MONTH}/${'${'}DAY}", "${'${'}MINUTE}", "${'${'}HOUR}", "${'${'}DAY}", "${'${'}MONTH}", "${'${'}YEAR", "${'${'}coord:nominalTime()}", "${'${'}coord:formatTime(coord:nominalTime(), 'yyyyMMdd')}"]
-    });
-  });
-</script>
-
-${ commonfooter(messages) | n,unicode }
diff --git a/apps/oozie/src/oozie/templates/editor/gen2/bundle.xml.mako b/apps/oozie/src/oozie/templates/editor/gen2/bundle.xml.mako
deleted file mode 100644
index bf39569..0000000
--- a/apps/oozie/src/oozie/templates/editor/gen2/bundle.xml.mako
+++ /dev/null
@@ -1,59 +0,0 @@
-## -*- coding: utf-8 -*-
-## Licensed to Cloudera, Inc. under one
-## or more contributor license agreements.  See the NOTICE file
-## distributed with this work for additional information
-## regarding copyright ownership.  Cloudera, Inc. licenses this file
-## to you under the Apache License, Version 2.0 (the
-## "License"); you may not use this file except in compliance
-## with the License.  You may obtain a copy of the License at
-##
-##     http://www.apache.org/licenses/LICENSE-2.0
-##
-## Unless required by applicable law or agreed to in writing, software
-## distributed under the License is distributed on an "AS IS" BASIS,
-## WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
-## See the License for the specific language governing permissions and
-## limitations under the License.
-
-<%!
-  import json
-  from oozie.models import BundledCoordinator
-%>
-
-<bundle-app name="${ bundle.validated_name }"
-  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
-  xmlns="${ bundle.data['properties']['schema_version'] }">
-  % if bundle.data['properties']['parameters']:
-  <parameters>
-    % for p in bundle.data['properties']['parameters']:
-    <property>
-        <name>${ p['name'] }</name>
-        <value>${ json.dumps(p['value']) }</value>
-    </property>
-    % endfor
-  </parameters>
-  % endif
-
-  <controls>
-     <kick-off-time>${ bundle.kick_off_time_utc }</kick-off-time>
-  </controls>
-
-
-  % for bundled in bundle.data['coordinators']:
-  <coordinator name="${ mapping['coord_%s' % loop.index].name }-${ loop.index }">
-     <app-path>${'${'}nameNode}${ mapping['coord_%s_dir' % loop.index ] }</app-path>
-     <configuration>
-       <property>
-          <name>wf_application_path</name>
-          <value>${ mapping['wf_%s_dir' % loop.index] }</value>
-      </property>
-      % for param in bundled['properties']:
-      <property>
-          <name>${ param['name'] }</name>
-          <value>${ param['value'] }</value>
-     </property>
-     % endfor
-    </configuration>
-  </coordinator>
-  % endfor
-</bundle-app>
diff --git a/apps/oozie/src/oozie/templates/editor/gen2/coordinator.xml.mako b/apps/oozie/src/oozie/templates/editor/gen2/coordinator.xml.mako
deleted file mode 100644
index 6ccb460..0000000
--- a/apps/oozie/src/oozie/templates/editor/gen2/coordinator.xml.mako
+++ /dev/null
@@ -1,144 +0,0 @@
-## -*- coding: utf-8 -*-
-## Licensed to Cloudera, Inc. under one
-## or more contributor license agreements.  See the NOTICE file
-## distributed with this work for additional information
-## regarding copyright ownership.  Cloudera, Inc. licenses this file
-## to you under the Apache License, Version 2.0 (the
-## "License"); you may not use this file except in compliance
-## with the License.  You may obtain a copy of the License at
-##
-##     http://www.apache.org/licenses/LICENSE-2.0
-##
-## Unless required by applicable law or agreed to in writing, software
-## distributed under the License is distributed on an "AS IS" BASIS,
-## WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
-## See the License for the specific language governing permissions and
-## limitations under the License.
-
-<%!
-  from oozie.utils import smart_path
-  from oozie.conf import ENABLE_CRON_SCHEDULING
-%>
-
-<%namespace name="common" file="workflow-common.xml.mako" />
-
-
-<%def name="render_dataset_instance(dataset)">
-  % if dataset.data['instance_choice'] == 'default':
-    <instance>${ '${'}coord:current(0)}</instance>
-  % elif dataset.data['instance_choice'] == 'single':
-    % if not dataset.data['is_advanced_start_instance']:
-      <instance>${ '${'}coord:current(${ dataset.data['start_instance'] })}</instance>
-    % else:
-      <instance>${ dataset.data['advanced_start_instance'] }</instance>
-    % endif
-  % else:
-    <start-instance>
-      % if not dataset.data['is_advanced_start_instance']:
-        ${ '${'}coord:current(${ dataset.data['start_instance'] })}
-      % else:
-        ${ dataset.data['advanced_start_instance'] }
-      % endif
-    </start-instance>
-    <end-instance>
-      % if not dataset.data['is_advanced_end_instance']:
-        ${ '${'}coord:current(${ dataset.data['end_instance'] })}
-      % else:
-        ${ dataset.data['advanced_end_instance'] }
-      % endif
-    </end-instance>
-  % endif
-</%def>
-
-
-<coordinator-app name="${ coord.validated_name | x }"
-  % if ENABLE_CRON_SCHEDULING.get():
-  frequency="${ coord.cron_frequency }"
-  % else:
-  frequency="${ coord.frequency }"
-  % endif
-  start="${ coord.start_utc }" end="${ coord.end_utc }" timezone="${ coord.data['properties']['timezone'] }"
-  xmlns="${ 'uri:oozie:coordinator:0.4' if coord.data['properties']['sla_enabled'] else coord.data['properties']['schema_version'] | n,unicode }"
-  ${ 'xmlns:sla="uri:oozie:sla:0.2"' if coord.data['properties']['sla_enabled'] else '' | n,unicode }>
-  % if coord.data['properties']['timeout'] or coord.data['properties'].get('concurrency') or coord.data['properties']['execution'] or coord.data['properties'].get('throttle'):
-  <controls>
-    % if coord.data['properties']['timeout']:
-    <timeout>${ coord.data['properties']['timeout'] }</timeout>
-    % endif
-    % if coord.data['properties'].get('concurrency'):
-    <concurrency>${ coord.data['properties']['concurrency'] }</concurrency>
-    % endif
-    % if coord.data['properties']['execution']:
-    <execution>${ coord.data['properties']['execution'] }</execution>
-    % endif
-    % if coord.data['properties'].get('throttle'):
-    <throttle>${ coord.data['properties']['throttle'] }</throttle>
-    % endif
-  </controls>
-  % endif
-
-  % if coord.datasets:
-  <datasets>
-    % for dataset in coord.datasets:
-    <dataset name="${ dataset.data['name'] }" frequency="${ dataset.frequency }"
-             initial-instance="${ dataset.start_utc }" timezone="${ dataset.data['timezone'] }">
-      <uri-template>${ smart_path(dataset.data['dataset_variable'], mapping) }</uri-template>
-      % if dataset.data['use_done_flag']:
-      <done-flag>${ dataset.data['done_flag'] }</done-flag>
-      % else:
-      <done-flag></done-flag>
-      % endif
-    </dataset>
-    % endfor
-  </datasets>
-  % endif
-
-  % if coord.inputDatasets:
-  <input-events>
-    % for dataset in coord.inputDatasets:
-    <data-in name="${ dataset.data['workflow_variable'] }" dataset="${ dataset.data['name'] }">
-      ${ render_dataset_instance(dataset) }
-    </data-in>
-    % endfor
-  </input-events>
-  % endif
-
-  % if coord.outputDatasets:
-  <output-events>
-    % for dataset in coord.outputDatasets:
-    <data-out name="${ dataset.data['workflow_variable'] }" dataset="${ dataset.data['name'] }">
-      ${ render_dataset_instance(dataset) }
-    </data-out>
-    % endfor
-  </output-events>
-  % endif
-
-  <action>
-    <workflow>
-      <app-path>${'${'}wf_application_path}</app-path>
-      % if coord.inputDatasets or coord.outputDatasets or coord.properties:
-      <configuration>
-        % for dataset in coord.inputDatasets:
-          <property>
-            <name>${ dataset.data['name'] }</name>
-            <value>${'${'}coord:dataIn('${ dataset.data['name'] }')}</value>
-          </property>
-        % endfor
-        % for dataset in coord.outputDatasets:
-        <property>
-          <name>${ dataset.data['name'] }</name>
-          <value>${'${'}coord:dataOut('${ dataset.data['name'] }')}</value>
-        </property>
-        % endfor
-        % for property in coord.properties:
-        <property>
-          <name>${ property['name'] }</name>
-          <value>${ property['value'] }</value>
-        </property>
-        % endfor
-      </configuration>
-      % endif
-   </workflow>
-   ${ common.sla(coord.data) }
-  </action>
-</coordinator-app>
diff --git a/apps/oozie/src/oozie/templates/editor/gen2/workflow-common.xml.mako b/apps/oozie/src/oozie/templates/editor/gen2/workflow-common.xml.mako
deleted file mode 100644
index 3afb729..0000000
--- a/apps/oozie/src/oozie/templates/editor/gen2/workflow-common.xml.mako
+++ /dev/null
@@ -1,83 +0,0 @@
-## -*- coding: utf-8 -*-
-## Licensed to Cloudera, Inc. under one
-## or more contributor license agreements.  See the NOTICE file
-## distributed with this work for additional information
-## regarding copyright ownership.  Cloudera, Inc. licenses this file
-## to you under the Apache License, Version 2.0 (the
-## "License"); you may not use this file except in compliance
-## with the License.  You may obtain a copy of the License at
-##
-##     http://www.apache.org/licenses/LICENSE-2.0
-##
-## Unless required by applicable law or agreed to in writing, software
-## distributed under the License is distributed on an "AS IS" BASIS,
-## WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
-## See the License for the specific language governing permissions and
-## limitations under the License.
-
-<%!
-  import posixpath
-  from oozie.utils import smart_path
-%>
-
-
-<%def name="filelink(path)">${ '#' in path and path or path + '#' + posixpath.basename(path) }</%def>
-
-
-<%def name="credentials(credentials)">${ ' cred="%s"' % ','.join([cred['name'] for cred in credentials if cred['value']]) if credentials else '' | n,unicode }</%def>
-
-
-<%def name="prepares(prepares)">
-        % if prepares:
-            <prepare>
-                % for p in sorted(prepares, key=lambda k: k['type']):
-                  <%
-                    operation = p['type']
-                    path = p['value']
-                  %>
-                  <${ operation } path="${ smart_path(path, mapping) }"/>
-                % endfor
-            </prepare>
-        % endif
-</%def>
-
-
-<%def name="configuration(properties)">
-        % if properties:
-            <configuration>
-                % for p in properties:
-                <property>
-                    <name>${ p['name'] }</name>
-                    <value>${ p['value'] }</value>
-                </property>
-                % endfor
-            </configuration>
-        % endif
-</%def>
-
-
-<%def name="distributed_cache(files, archives)">
-    % for f in files:
-        % if f:
-            <file>${ filelink(f['value']) }</file>
-        % endif
-    % endfor
-    % for a in archives:
-        % if a:
-            <archive>${ filelink(a['name']) }</archive>
-        % endif
-    % endfor
-</%def>
-
-
-<%def name="sla(element)">
-        % if element['properties']['sla_enabled']:
-          <sla:info>
-          % for sla in element['sla']:
-            % if sla['value'] and sla['key'] != 'enabled':
-            <sla:${ sla['key'] }>${ sla['value'] }</sla:${ sla['key'] }>
-            % endif
-          % endfor
-          </sla:info>
-        % endif
-</%def>
diff --git a/apps/oozie/src/oozie/templates/editor/gen2/workflow-decision.xml.mako b/apps/oozie/src/oozie/templates/editor/gen2/workflow-decision.xml.mako
deleted file mode 100644
index 183a013..0000000
--- a/apps/oozie/src/oozie/templates/editor/gen2/workflow-decision.xml.mako
+++ /dev/null
@@ -1,33 +0,0 @@
-## -*- coding: utf-8 -*-
-## Licensed to Cloudera, Inc. under one
-## or more contributor license agreements.  See the NOTICE file
-## distributed with this work for additional information
-## regarding copyright ownership.  Cloudera, Inc. licenses this file
-## to you under the Apache License, Version 2.0 (the
-## "License"); you may not use this file except in compliance
-## with the License.  You may obtain a copy of the License at
-##
-##     http://www.apache.org/licenses/LICENSE-2.0
-##
-## Unless required by applicable law or agreed to in writing, software
-## distributed under the License is distributed on an "AS IS" BASIS,
-## WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
-## See the License for the specific language governing permissions and
-## limitations under the License.
-
-    <decision name="${ node['name'] }">
-        <switch>
-          % for child in node['children']:
-            % if child['condition'] != 'default':
-            <case to="${ node_mapping[child['to']].name }">
-              ${ child['condition'] }
-            </case>
-            % endif
-          % endfor
-          % for child in node['children']:
-            % if child['condition'] == 'default':          
-            <default to="${ node_mapping[child['to']].name }"/>
-            % endif
-          % endfor            
-        </switch>
-    </decision>
diff --git a/apps/oozie/src/oozie/templates/editor/gen2/workflow-distcp.xml.mako b/apps/oozie/src/oozie/templates/editor/gen2/workflow-distcp.xml.mako
deleted file mode 100644
index 15c5f92..0000000
--- a/apps/oozie/src/oozie/templates/editor/gen2/workflow-distcp.xml.mako
+++ /dev/null
@@ -1,39 +0,0 @@
-## -*- coding: utf-8 -*-
-## Licensed to Cloudera, Inc. under one
-## or more contributor license agreements.  See the NOTICE file
-## distributed with this work for additional information
-## regarding copyright ownership.  Cloudera, Inc. licenses this file
-## to you under the Apache License, Version 2.0 (the
-## "License"); you may not use this file except in compliance
-## with the License.  You may obtain a copy of the License at
-##
-##     http://www.apache.org/licenses/LICENSE-2.0
-##
-## Unless required by applicable law or agreed to in writing, software
-## distributed under the License is distributed on an "AS IS" BASIS,
-## WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
-## See the License for the specific language governing permissions and
-## limitations under the License.
-
-<%namespace name="common" file="workflow-common.xml.mako" />
-
-    <action name="${ node['name'] }"${ common.credentials(node['properties']['credentials']) }>
-        <distcp xmlns="uri:oozie:distcp-action:0.1">
-            <job-tracker>${'${'}jobTracker}</job-tracker>
-            <name-node>${'${'}nameNode}</name-node>
-
-            ${ common.prepares(node['properties']['prepares']) }
-            ${ common.configuration(node['properties']['job_properties']) }
-
-            % if node['properties']['java_opts']:
-              <java-opts>${ node['properties']['java_opts'] }</java-opts>
-            % endif
-
-            % for argument in node['properties']['distcp_parameters']:
-              <arg>${ argument['value'] }</arg>
-            % endfor
-        </distcp>
-        <ok to="${ node_mapping[node['children'][0]['to']].name }"/>
-        <error to="${ node_mapping[node['children'][1]['error']].name }"/>
-        ${ common.sla(node) }
-    </action>
diff --git a/apps/oozie/src/oozie/templates/editor/gen2/workflow-email.xml.mako b/apps/oozie/src/oozie/templates/editor/gen2/workflow-email.xml.mako
deleted file mode 100644
index 40109a2..0000000
--- a/apps/oozie/src/oozie/templates/editor/gen2/workflow-email.xml.mako
+++ /dev/null
@@ -1,32 +0,0 @@
-## -*- coding: utf-8 -*-
-## Licensed to Cloudera, Inc. under one
-## or more contributor license agreements.  See the NOTICE file
-## distributed with this work for additional information
-## regarding copyright ownership.  Cloudera, Inc. licenses this file
-## to you under the Apache License, Version 2.0 (the
-## "License"); you may not use this file except in compliance
-## with the License.  You may obtain a copy of the License at
-##
-##     http://www.apache.org/licenses/LICENSE-2.0
-##
-## Unless required by applicable law or agreed to in writing, software
-## distributed under the License is distributed on an "AS IS" BASIS,
-## WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
-## See the License for the specific language governing permissions and
-## limitations under the License.
-
-<%namespace name="common" file="workflow-common.xml.mako" />
-
-    <action name="${ node['name'] }"${ common.credentials(node['properties']['credentials']) }>
-        <email xmlns="uri:oozie:email-action:0.1">
-            <to>${ node['properties']['to'] }</to>
-            % if node['properties']['cc']:
-            <cc>${ node['properties']['cc'] }</cc>
-            % endif
-            <subject>${ node['properties']['subject'] }</subject>
-            <body>${ node['properties']['body'] }</body>
-        </email>
-        <ok to="${ node_mapping[node['children'][0]['to']].name }"/>
-        <error to="${ node_mapping[node['children'][1]['error']].name }"/>
-        ${ common.sla(node) }
-    </action>
diff --git a/apps/oozie/src/oozie/templates/editor/gen2/workflow-end.xml.mako b/apps/oozie/src/oozie/templates/editor/gen2/workflow-end.xml.mako
deleted file mode 100644
index ba02df8..0000000
--- a/apps/oozie/src/oozie/templates/editor/gen2/workflow-end.xml.mako
+++ /dev/null
@@ -1,18 +0,0 @@
-## -*- coding: utf-8 -*-
-## Licensed to Cloudera, Inc. under one
-## or more contributor license agreements.  See the NOTICE file
-## distributed with this work for additional information
-## regarding copyright ownership.  Cloudera, Inc. licenses this file
-## to you under the Apache License, Version 2.0 (the
-## "License"); you may not use this file except in compliance
-## with the License.  You may obtain a copy of the License at
-##
-##     http://www.apache.org/licenses/LICENSE-2.0
-##
-## Unless required by applicable law or agreed to in writing, software
-## distributed under the License is distributed on an "AS IS" BASIS,
-## WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
-## See the License for the specific language governing permissions and
-## limitations under the License.
-
-    <end name="${ node['name'] }"/>
diff --git a/apps/oozie/src/oozie/templates/editor/gen2/workflow-fork.xml.mako b/apps/oozie/src/oozie/templates/editor/gen2/workflow-fork.xml.mako
deleted file mode 100644
index 459e60c..0000000
--- a/apps/oozie/src/oozie/templates/editor/gen2/workflow-fork.xml.mako
+++ /dev/null
@@ -1,22 +0,0 @@
-## -*- coding: utf-8 -*-
-## Licensed to Cloudera, Inc. under one
-## or more contributor license agreements.  See the NOTICE file
-## distributed with this work for additional information
-## regarding copyright ownership.  Cloudera, Inc. licenses this file
-## to you under the Apache License, Version 2.0 (the
-## "License"); you may not use this file except in compliance
-## with the License.  You may obtain a copy of the License at
-##
-##     http://www.apache.org/licenses/LICENSE-2.0
-##
-## Unless required by applicable law or agreed to in writing, software
-## distributed under the License is distributed on an "AS IS" BASIS,
-## WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
-## See the License for the specific language governing permissions and
-## limitations under the License.
-
-    <fork name="${ node['name'] }">
-        % for child in node['children']:
-        <path start="${ node_mapping[child['to']].name }" />
-        % endfor
-    </fork>
diff --git a/apps/oozie/src/oozie/templates/editor/gen2/workflow-fs.xml.mako b/apps/oozie/src/oozie/templates/editor/gen2/workflow-fs.xml.mako
deleted file mode 100644
index ee62bee..0000000
--- a/apps/oozie/src/oozie/templates/editor/gen2/workflow-fs.xml.mako
+++ /dev/null
@@ -1,61 +0,0 @@
-## -*- coding: utf-8 -*-
-## Licensed to Cloudera, Inc. under one
-## or more contributor license agreements.  See the NOTICE file
-## distributed with this work for additional information
-## regarding copyright ownership.  Cloudera, Inc. licenses this file
-## to you under the Apache License, Version 2.0 (the
-## "License"); you may not use this file except in compliance
-## with the License.  You may obtain a copy of the License at
-##
-##     http://www.apache.org/licenses/LICENSE-2.0
-##
-## Unless required by applicable law or agreed to in writing, software
-## distributed under the License is distributed on an "AS IS" BASIS,
-## WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
-## See the License for the specific language governing permissions and
-## limitations under the License.
-
-<%!
-  from oozie.utils import smart_path
-%>
-
-<%namespace name="common" file="workflow-common.xml.mako" />
-
-    <action name="${ node['name'] }"${ common.credentials(node['properties']['credentials']) }>
-        <fs>
-            % for param in node['properties']['deletes']:
-              <delete path='${ smart_path(param['value'], mapping) }'/>
-            % endfor
-
-            % for param in node['properties']['mkdirs']:
-              <mkdir path='${ smart_path(param['value'], mapping) }'/>
-            % endfor
-
-            % for param in node['properties']['moves']:
-              <move source='${ smart_path(param['source'], mapping) }' target='${ smart_path(param['destination'], mapping) }'/>
-            % endfor
-
-            % for param in node['properties']['chmods']:
-              <chmod path='${ smart_path(param['value'], mapping) }' permissions='${ param['permissions'] }' dir-files='${ 'true' if param['dir_files'] else 'false' }'>
-              % if param['recursive']:
-                <recursive/>
-              % endif
-              </chmod>              
-            % endfor
-
-            % for param in node['properties']['touchzs']:
-              <touchz path='${ smart_path(param['value'], mapping) }'/>
-            % endfor
-            
-            % for param in node['properties']['chgrps']:
-              <chgrp path='${ smart_path(param['value'], mapping) }' group='${ param['group'] }' dir-files='${ 'true' if param['dir_files'] else 'false' }'>
-              % if param['recursive']:
-                <recursive/>
-              % endif
-              </chgrp>              
-            % endfor            
-        </fs>
-        <ok to="${ node_mapping[node['children'][0]['to']].name }"/>
-        <error to="${ node_mapping[node['children'][1]['error']].name }"/>
-        ${ common.sla(node) }
-    </action>
diff --git a/apps/oozie/src/oozie/templates/editor/gen2/workflow-generic.xml.mako b/apps/oozie/src/oozie/templates/editor/gen2/workflow-generic.xml.mako
deleted file mode 100644
index 8f386e8..0000000
--- a/apps/oozie/src/oozie/templates/editor/gen2/workflow-generic.xml.mako
+++ /dev/null
@@ -1,24 +0,0 @@
-## -*- coding: utf-8 -*-
-## Licensed to Cloudera, Inc. under one
-## or more contributor license agreements.  See the NOTICE file
-## distributed with this work for additional information
-## regarding copyright ownership.  Cloudera, Inc. licenses this file
-## to you under the Apache License, Version 2.0 (the
-## "License"); you may not use this file except in compliance
-## with the License.  You may obtain a copy of the License at
-##
-##     http://www.apache.org/licenses/LICENSE-2.0
-##
-## Unless required by applicable law or agreed to in writing, software
-## distributed under the License is distributed on an "AS IS" BASIS,
-## WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
-## See the License for the specific language governing permissions and
-## limitations under the License.
-
-<%namespace name="common" file="workflow-common.xml.mako" />
-
-    <action name="${ node }"${ common.credentials(node.credentials) }>
-        ${ node.xml | n,unicode }
-        <ok to="${ node.get_oozie_child('ok') }"/>
-        <error to="${ node.get_oozie_child('error') }"/>
-    </action>
diff --git a/apps/oozie/src/oozie/templates/editor/gen2/workflow-graph-status.xml.mako b/apps/oozie/src/oozie/templates/editor/gen2/workflow-graph-status.xml.mako
deleted file mode 100644
index 8921b29..0000000
--- a/apps/oozie/src/oozie/templates/editor/gen2/workflow-graph-status.xml.mako
+++ /dev/null
@@ -1,123 +0,0 @@
-## -*- coding: utf-8 -*-
-## Licensed to Cloudera, Inc. under one
-## or more contributor license agreements.  See the NOTICE file
-## distributed with this work for additional information
-## regarding copyright ownership.  Cloudera, Inc. licenses this file
-## to you under the Apache License, Version 2.0 (the
-## "License"); you may not use this file except in compliance
-## with the License.  You may obtain a copy of the License at
-##
-##     http://www.apache.org/licenses/LICENSE-2.0
-##
-## Unless required by applicable law or agreed to in writing, software
-## distributed under the License is distributed on an "AS IS" BASIS,
-## WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
-## See the License for the specific language governing permissions and
-## limitations under the License.
-
-<%namespace name="graph" file="workflow-graph.xml.mako" />
-<%namespace name="utils" file="../../utils.inc.mako" />
-
-<%!
-  from django.utils.translation import ugettext as _
-%>
-
-<%def name="get_tab(form, action, control, css_box_class)">
-  <ul style="margin-bottom:0" class="nav nav-tabs">
-    <li class="active"><a style="line-height:10px
-    % if not action:
-          ;background-color: #F9F9F9;
-    % endif
-    " data-toggle="tab"><i class="fa ${css_box_class}" style="color:#DDD"></i> &nbsp; <strong style="color:#999">
-      % if action and action.externalId:
-        ${ form.instance.node_type }
-      % else:
-        ${ form.instance.__unicode__() }
-      % endif
-    </strong> &nbsp;&nbsp;
-      % if action and action.externalId:
-        <span class="label ${ utils.get_status(action.status) }">${ action.status }</span>
-      % elif control:
-        <span class="label ${ utils.get_status(control.status) }">${ control.status }</span>
-      % endif
-    </a>
-    </li>
-  </ul>
-</%def>
-
-<%def name="get_content(form, action, control, inverse=False)">
-  <div class="row-fluid">
-    % if action and action.externalId:
-      <div style="text-align:left; padding:10px;border:1px solid #DDD; border-top:0" class="span12">
-          <div style="font-size: 30px; margin-top:14px" class="pull-right"><a href="${ url('jobbrowser.views.job_single_logs', job=action.externalId) }" title="${ _('View the logs') }" rel="tooltip" data-row-selector-exclude="true"><i class="fa fa-tasks"></i></a></div>
-          <h4><a href="${ action.get_absolute_url() }" title="${ _('View workflow action') }" rel="tooltip">${ form.instance.__unicode__() }</a></h4>
-          <span class="muted">${ form.instance.description }&nbsp;</span>
-          % if action:
-            ${ action.errorMessage or '' }
-          % elif control:
-            ${ control.errorMessage or '' }
-          % endif
-      </div>
-    % else:
-      <div style="border:0;" class="span12
-      %if inverse:
-      inverse_gradient
-      %else:
-      gradient
-      %endif
-      ">
-      </div>
-    % endif
-  </div>
-</%def>
-
-
-<%def name="print_status_node(form)">
-  <%
-    is_start = form.instance.get_full_node().node_type == 'start'
-    is_end = form.instance.get_full_node().node_type == 'end'
-    is_fork = form.instance.get_full_node().node_type == 'fork'
-    is_join = form.instance.get_full_node().node_type == 'join'
-    is_decision = form.instance.get_full_node().node_type == 'decision'
-    is_decision_end = form.instance.get_full_node().node_type == 'decisionend'
-    action = actions.get(unicode(form.instance))
-    control = controls.get(unicode(form.instance))
-    css_box_class = ""
-    if is_start:
-      css_box_class = "fa-thumbs-up"
-    if is_end:
-      css_box_class = "fa-dot-circle-o"
-    if is_fork:
-      css_box_class = "fa-sitemap"
-    if is_join:
-      css_box_class = "fa-sitemap fa-rotate-180"
-    if is_decision:
-      css_box_class = "fa-magic"
-    if is_decision_end:
-      css_box_class = "fa-magic"
-    if action:
-      css_box_class = "fa-cogs"
-  %>
-
-  % if form.instance.get_full_node().is_visible():
-      <div class="span12 action" style="margin-top:0">
-        % if is_end or is_join:
-          ${get_content(form, action, control, True)}
-          <div class="tabbable tabs-below">
-          ${get_tab(form, action, control, css_box_class)}
-          </div>
-        % else:
-          ${get_tab(form, action, control, css_box_class)}
-          ${get_content(form, action, control)}
-        % endif
-      </div>
-  % endif
-
-</%def>
-
-${ graph.display_graph(nodes, print_status_node) }
-
-<style type="text/css">
-  .node-text-failed {color:white; font-weight:bold;};
-  .node-text-pass {color:black; font-weight:bold;};
-</style>
diff --git a/apps/oozie/src/oozie/templates/editor/gen2/workflow-graph.xml.mako b/apps/oozie/src/oozie/templates/editor/gen2/workflow-graph.xml.mako
deleted file mode 100644
index 08e7163..0000000
--- a/apps/oozie/src/oozie/templates/editor/gen2/workflow-graph.xml.mako
+++ /dev/null
@@ -1,57 +0,0 @@
-## -*- coding: utf-8 -*-
-## Licensed to Cloudera, Inc. under one
-## or more contributor license agreements.  See the NOTICE file
-## distributed with this work for additional information
-## regarding copyright ownership.  Cloudera, Inc. licenses this file
-## to you under the Apache License, Version 2.0 (the
-## "License"); you may not use this file except in compliance
-## with the License.  You may obtain a copy of the License at
-##
-##     http://www.apache.org/licenses/LICENSE-2.0
-##
-## Unless required by applicable law or agreed to in writing, software
-## distributed under the License is distributed on an "AS IS" BASIS,
-## WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
-## See the License for the specific language governing permissions and
-## limitations under the License.
-
-<%def name="print_graph(nodes, print_node)">
-  % for node in nodes:
-    % if type(node) != list:
-      <div class="row-fluid">
-        ${ print_node(index[node.id]) }
-      </div>
-    % else:
-      % if type(node[0]) != list:
-      <div class="row-fluid">
-        ${ print_graph(node, print_node) }
-      </div>
-      % else:
-         <div class="row-fluid">
-         <%
-           children = [n for n in node if n]
-           columns = 12 / len(children)
-         %>
-          % for n in children:
-          <div class="${ 'span%d' % columns } action2">
-            ${ print_graph(n, print_node) }
-          </div>
-        % endfor
-        </div>
-      % endif
-    % endif
-  % endfor
-</%def>
-
-
-<%def name="display_graph(form, print_node)">
-  <div class="row action2" style="min-height:400px;margin-left:1px">
-    ${ print_graph(nodes, print_node) }
-  </div>
-
-  <style type="text/css">
-    .action2 {text-align: center;}
-    .action {border-style:solid; border-width:1px; border-color:LightGrey; padding: 3px; margin:25px;}
-    .action-link:hover {cursor: pointer;}
-  </style>
-</%def>
diff --git a/apps/oozie/src/oozie/templates/editor/gen2/workflow-hive.xml.mako b/apps/oozie/src/oozie/templates/editor/gen2/workflow-hive.xml.mako
deleted file mode 100644
index f075692..0000000
--- a/apps/oozie/src/oozie/templates/editor/gen2/workflow-hive.xml.mako
+++ /dev/null
@@ -1,42 +0,0 @@
-## -*- coding: utf-8 -*-
-## Licensed to Cloudera, Inc. under one
-## or more contributor license agreements.  See the NOTICE file
-## distributed with this work for additional information
-## regarding copyright ownership.  Cloudera, Inc. licenses this file
-## to you under the Apache License, Version 2.0 (the
-## "License"); you may not use this file except in compliance
-## with the License.  You may obtain a copy of the License at
-##
-##     http://www.apache.org/licenses/LICENSE-2.0
-##
-## Unless required by applicable law or agreed to in writing, software
-## distributed under the License is distributed on an "AS IS" BASIS,
-## WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
-## See the License for the specific language governing permissions and
-## limitations under the License.
-
-<%namespace name="common" file="workflow-common.xml.mako" />
-
-    <action name="${ node['name'] }"${ common.credentials(node['properties']['credentials']) }>
-        <hive xmlns="uri:oozie:hive-action:0.2">
-            <job-tracker>${'${'}jobTracker}</job-tracker>
-            <name-node>${'${'}nameNode}</name-node>
-
-            ${ common.prepares(node['properties']['prepares']) }
-            % if node['properties']['hive_xml']:
-              <job-xml>${ node['properties']['hive_xml'] }</job-xml>
-            % endif
-            ${ common.configuration(node['properties']['properties']) }
-
-            <script>${ node['properties']['script_path'] }</script>
-
-            % for param in node['properties']['parameters']:
-              <param>${ param['value'] }</param>
-            % endfor
-
-            ${ common.distributed_cache(node['properties']['files'], node['properties']['archives']) }
-        </hive>
-        <ok to="${ node_mapping[node['children'][0]['to']].name }"/>
-        <error to="${ node_mapping[node['children'][1]['error']].name }"/>
-        ${ common.sla(node) }
-    </action>
diff --git a/apps/oozie/src/oozie/templates/editor/gen2/workflow-hive2.xml.mako b/apps/oozie/src/oozie/templates/editor/gen2/workflow-hive2.xml.mako
deleted file mode 100644
index 992b25a..0000000
--- a/apps/oozie/src/oozie/templates/editor/gen2/workflow-hive2.xml.mako
+++ /dev/null
@@ -1,46 +0,0 @@
-## -*- coding: utf-8 -*-
-## Licensed to Cloudera, Inc. under one
-## or more contributor license agreements.  See the NOTICE file
-## distributed with this work for additional information
-## regarding copyright ownership.  Cloudera, Inc. licenses this file
-## to you under the Apache License, Version 2.0 (the
-## "License"); you may not use this file except in compliance
-## with the License.  You may obtain a copy of the License at
-##
-##     http://www.apache.org/licenses/LICENSE-2.0
-##
-## Unless required by applicable law or agreed to in writing, software
-## distributed under the License is distributed on an "AS IS" BASIS,
-## WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
-## See the License for the specific language governing permissions and
-## limitations under the License.
-
-<%namespace name="common" file="workflow-common.xml.mako" />
-
-    <action name="${ node['name'] }"${ common.credentials(node['properties']['credentials']) }>
-        <hive2 xmlns="uri:oozie:hive2-action:0.1">
-            <job-tracker>${'${'}jobTracker}</job-tracker>
-            <name-node>${'${'}nameNode}</name-node>
-
-            ${ common.prepares(node['properties']['prepares']) }
-            % if node['properties']['job_xml']:
-              <job-xml>${ node['properties']['job_xml'] }</job-xml>
-            % endif
-            ${ common.configuration(node['properties']['properties']) }
-            
-            <jdbc-url>${ node['properties']['jdbc_url'] }</jdbc-url>
-            % if node['properties']['password']:
-            <password>${ node['properties']['password'] }</password>
-            % endif
-            <script>${ node['properties']['script_path'] }</script>
-
-            % for param in node['properties']['parameters']:
-              <param>${ param['value'] }</param>
-            % endfor
-
-            ${ common.distributed_cache(node['properties']['files'], node['properties']['archives']) }
-        </hive2>
-        <ok to="${ node_mapping[node['children'][0]['to']].name }"/>
-        <error to="${ node_mapping[node['children'][1]['error']].name }"/>
-        ${ common.sla(node) }
-    </action>
diff --git a/apps/oozie/src/oozie/templates/editor/gen2/workflow-java.xml.mako b/apps/oozie/src/oozie/templates/editor/gen2/workflow-java.xml.mako
deleted file mode 100644
index a373a8e..0000000
--- a/apps/oozie/src/oozie/templates/editor/gen2/workflow-java.xml.mako
+++ /dev/null
@@ -1,50 +0,0 @@
-## -*- coding: utf-8 -*-
-## Licensed to Cloudera, Inc. under one
-## or more contributor license agreements.  See the NOTICE file
-## distributed with this work for additional information
-## regarding copyright ownership.  Cloudera, Inc. licenses this file
-## to you under the Apache License, Version 2.0 (the
-## "License"); you may not use this file except in compliance
-## with the License.  You may obtain a copy of the License at
-##
-##     http://www.apache.org/licenses/LICENSE-2.0
-##
-## Unless required by applicable law or agreed to in writing, software
-## distributed under the License is distributed on an "AS IS" BASIS,
-## WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
-## See the License for the specific language governing permissions and
-## limitations under the License.
-
-<%namespace name="common" file="workflow-common.xml.mako" />
-
-    <action name="${ node['name'] }"${ common.credentials(node['properties']['credentials']) }>
-        <java>
-            <job-tracker>${'${'}jobTracker}</job-tracker>
-            <name-node>${'${'}nameNode}</name-node>
-
-            ${ common.prepares(node['properties']['prepares']) }
-            % if node['properties']['job_xml']:
-              <job-xml>${ node['properties']['job_xml'] }</job-xml>
-            % endif
-            ${ common.configuration(node['properties']['properties']) }
-
-            <main-class>${ node['properties']['main_class'] }</main-class>
-
-            % if node['properties']['java_opts']:
-            <java-opts>${ node['properties']['java_opts'] }</java-opts>
-            % endif
-
-            % for arg in node['properties']['arguments']:
-            <arg>${ arg['value'] }</arg>
-            % endfor
-
-            ${ common.distributed_cache(node['properties']['files'], node['properties']['archives']) }
-
-            % if node['properties']['capture_output']:
-            <capture-output/>
-            % endif
-        </java>
-        <ok to="${ node_mapping[node['children'][0]['to']].name }"/>
-        <error to="${ node_mapping[node['children'][1]['error']].name }"/>
-        ${ common.sla(node) }
-    </action>
diff --git a/apps/oozie/src/oozie/templates/editor/gen2/workflow-join.xml.mako b/apps/oozie/src/oozie/templates/editor/gen2/workflow-join.xml.mako
deleted file mode 100644
index 2dc6a11..0000000
--- a/apps/oozie/src/oozie/templates/editor/gen2/workflow-join.xml.mako
+++ /dev/null
@@ -1,18 +0,0 @@
-## -*- coding: utf-8 -*-
-## Licensed to Cloudera, Inc. under one
-## or more contributor license agreements.  See the NOTICE file
-## distributed with this work for additional information
-## regarding copyright ownership.  Cloudera, Inc. licenses this file
-## to you under the Apache License, Version 2.0 (the
-## "License"); you may not use this file except in compliance
-## with the License.  You may obtain a copy of the License at
-##
-##     http://www.apache.org/licenses/LICENSE-2.0
-##
-## Unless required by applicable law or agreed to in writing, software
-## distributed under the License is distributed on an "AS IS" BASIS,
-## WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
-## See the License for the specific language governing permissions and
-## limitations under the License.
-
-    <join name="${ node['name'] }" to="${ node_mapping[node['children'][0]['to']].name }"/>
diff --git a/apps/oozie/src/oozie/templates/editor/gen2/workflow-kill.xml.mako b/apps/oozie/src/oozie/templates/editor/gen2/workflow-kill.xml.mako
deleted file mode 100644
index 3a7b476..0000000
--- a/apps/oozie/src/oozie/templates/editor/gen2/workflow-kill.xml.mako
+++ /dev/null
@@ -1,20 +0,0 @@
-## -*- coding: utf-8 -*-
-## Licensed to Cloudera, Inc. under one
-## or more contributor license agreements.  See the NOTICE file
-## distributed with this work for additional information
-## regarding copyright ownership.  Cloudera, Inc. licenses this file
-## to you under the Apache License, Version 2.0 (the
-## "License"); you may not use this file except in compliance
-## with the License.  You may obtain a copy of the License at
-##
-##     http://www.apache.org/licenses/LICENSE-2.0
-##
-## Unless required by applicable law or agreed to in writing, software
-## distributed under the License is distributed on an "AS IS" BASIS,
-## WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
-## See the License for the specific language governing permissions and
-## limitations under the License.
-
-    <kill name="${ node['name'] }">
-        <message>${ node['properties']['message'] }</message>
-    </kill>
diff --git a/apps/oozie/src/oozie/templates/editor/gen2/workflow-mapreduce.xml.mako b/apps/oozie/src/oozie/templates/editor/gen2/workflow-mapreduce.xml.mako
deleted file mode 100644
index 8c85702..0000000
--- a/apps/oozie/src/oozie/templates/editor/gen2/workflow-mapreduce.xml.mako
+++ /dev/null
@@ -1,36 +0,0 @@
-## -*- coding: utf-8 -*-
-## Licensed to Cloudera, Inc. under one
-## or more contributor license agreements.  See the NOTICE file
-## distributed with this work for additional information
-## regarding copyright ownership.  Cloudera, Inc. licenses this file
-## to you under the Apache License, Version 2.0 (the
-## "License"); you may not use this file except in compliance
-## with the License.  You may obtain a copy of the License at
-##
-##     http://www.apache.org/licenses/LICENSE-2.0
-##
-## Unless required by applicable law or agreed to in writing, software
-## distributed under the License is distributed on an "AS IS" BASIS,
-## WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
-## See the License for the specific language governing permissions and
-## limitations under the License.
-
-<%namespace name="common" file="workflow-common.xml.mako" />
-
-    <action name="${ node['name'] }"${ common.credentials(node['properties']['credentials']) }>
-        <map-reduce>
-            <job-tracker>${'${'}jobTracker}</job-tracker>
-            <name-node>${'${'}nameNode}</name-node>
-
-            ${ common.prepares(node['properties']['prepares']) }
-            % if node['properties']['job_xml']:
-              <job-xml>${ node['properties']['job_xml'] }</job-xml>
-            % endif
-            ${ common.configuration(node['properties']['properties']) }
-
-            ${ common.distributed_cache(node['properties']['files'], node['properties']['archives']) }
-        </map-reduce>
-        <ok to="${ node_mapping[node['children'][0]['to']].name }"/>
-        <error to="${ node_mapping[node['children'][1]['error']].name }"/>
-        ${ common.sla(node) }
-    </action>
diff --git a/apps/oozie/src/oozie/templates/editor/gen2/workflow-pig.xml.mako b/apps/oozie/src/oozie/templates/editor/gen2/workflow-pig.xml.mako
deleted file mode 100644
index bf0078a..0000000
--- a/apps/oozie/src/oozie/templates/editor/gen2/workflow-pig.xml.mako
+++ /dev/null
@@ -1,45 +0,0 @@
-## -*- coding: utf-8 -*-
-## Licensed to Cloudera, Inc. under one
-## or more contributor license agreements.  See the NOTICE file
-## distributed with this work for additional information
-## regarding copyright ownership.  Cloudera, Inc. licenses this file
-## to you under the Apache License, Version 2.0 (the
-## "License"); you may not use this file except in compliance
-## with the License.  You may obtain a copy of the License at
-##
-##     http://www.apache.org/licenses/LICENSE-2.0
-##
-## Unless required by applicable law or agreed to in writing, software
-## distributed under the License is distributed on an "AS IS" BASIS,
-## WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
-## See the License for the specific language governing permissions and
-## limitations under the License.
-
-<%namespace name="common" file="workflow-common.xml.mako" />
-
-    <action name="${ node['name'] }"${ common.credentials(node['properties']['credentials']) }>
-        <pig>
-            <job-tracker>${'${'}jobTracker}</job-tracker>
-            <name-node>${'${'}nameNode}</name-node>
-
-            ${ common.prepares(node['properties']['prepares']) }
-            % if node['properties']['job_xml']:
-              <job-xml>${ node['properties']['job_xml'] }</job-xml>
-            % endif
-            ${ common.configuration(node['properties']['job_properties']) }
-
-            <script>${ node['properties']['script_path'] }</script>
-
-            % for param in node['properties']['parameters']:
-              <param>${ param['value'] }</param>
-            % endfor
-            % for argument in node['properties']['arguments']:
-              <argument>${ argument['value'] }</argument>
-            % endfor
-
-            ${ common.distributed_cache(node['properties']['files'], node['properties']['archives']) }
-        </pig>
-        <ok to="${ node_mapping[node['children'][0]['to']].name }"/>
-        <error to="${ node_mapping[node['children'][1]['error']].name }"/>
-        ${ common.sla(node) }
-    </action>
diff --git a/apps/oozie/src/oozie/templates/editor/gen2/workflow-shell.xml.mako b/apps/oozie/src/oozie/templates/editor/gen2/workflow-shell.xml.mako
deleted file mode 100644
index fb8a8c3..0000000
--- a/apps/oozie/src/oozie/templates/editor/gen2/workflow-shell.xml.mako
+++ /dev/null
@@ -1,50 +0,0 @@
-## -*- coding: utf-8 -*-
-## Licensed to Cloudera, Inc. under one
-## or more contributor license agreements.  See the NOTICE file
-## distributed with this work for additional information
-## regarding copyright ownership.  Cloudera, Inc. licenses this file
-## to you under the Apache License, Version 2.0 (the
-## "License"); you may not use this file except in compliance
-## with the License.  You may obtain a copy of the License at
-##
-##     http://www.apache.org/licenses/LICENSE-2.0
-##
-## Unless required by applicable law or agreed to in writing, software
-## distributed under the License is distributed on an "AS IS" BASIS,
-## WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
-## See the License for the specific language governing permissions and
-## limitations under the License.
-
-<%namespace name="common" file="workflow-common.xml.mako" />
-
-    <action name="${ node['name'] }"${ common.credentials(node['properties']['credentials']) }>
-        <shell xmlns="uri:oozie:shell-action:0.1">
-            <job-tracker>${'${'}jobTracker}</job-tracker>
-            <name-node>${'${'}nameNode}</name-node>
-
-            ${ common.prepares(node['properties']['prepares']) }
-            % if node['properties']['job_xml']:
-              <job-xml>${ node['properties']['job_xml'] }</job-xml>
-            % endif
-            ${ common.configuration(node['properties']['properties']) }
-
-            <exec>${ node['properties']['shell_command'] }</exec>
-
-            % for param in node['properties']['arguments']:
-              <argument>${ param['value'] }</argument>
-            % endfor
-            
-            % for param in node['properties']['env_var']:
-              <env-var>${ param['value'] }</env-var>
-            % endfor            
-
-            ${ common.distributed_cache(node['properties']['files'], node['properties']['archives']) }
-
-            % if node['properties']['capture_output']:
-              <capture-output/>
-            % endif
-        </shell>
-        <ok to="${ node_mapping[node['children'][0]['to']].name }"/>
-        <error to="${ node_mapping[node['children'][1]['error']].name }"/>
-        ${ common.sla(node) }
-    </action>
diff --git a/apps/oozie/src/oozie/templates/editor/gen2/workflow-sqoop.xml.mako b/apps/oozie/src/oozie/templates/editor/gen2/workflow-sqoop.xml.mako
deleted file mode 100644
index 068e78b..0000000
--- a/apps/oozie/src/oozie/templates/editor/gen2/workflow-sqoop.xml.mako
+++ /dev/null
@@ -1,44 +0,0 @@
-## -*- coding: utf-8 -*-
-## Licensed to Cloudera, Inc. under one
-## or more contributor license agreements.  See the NOTICE file
-## distributed with this work for additional information
-## regarding copyright ownership.  Cloudera, Inc. licenses this file
-## to you under the Apache License, Version 2.0 (the
-## "License"); you may not use this file except in compliance
-## with the License.  You may obtain a copy of the License at
-##
-##     http://www.apache.org/licenses/LICENSE-2.0
-##
-## Unless required by applicable law or agreed to in writing, software
-## distributed under the License is distributed on an "AS IS" BASIS,
-## WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
-## See the License for the specific language governing permissions and
-## limitations under the License.
-
-<%namespace name="common" file="workflow-common.xml.mako" />
-
-    <action name="${ node['name'] }"${ common.credentials(node['properties']['credentials']) }>
-        <sqoop xmlns="uri:oozie:sqoop-action:0.2">
-            <job-tracker>${'${'}jobTracker}</job-tracker>
-            <name-node>${'${'}nameNode}</name-node>
-
-            ${ common.prepares(node['properties']['prepares']) }
-            % if node['properties']['job_xml']:
-              <job-xml>${ node['properties']['job_xml'] }</job-xml>
-            % endif
-            ${ common.configuration(node['properties']['properties']) }
-
-            % if node['properties']['command']:
-            <command>${ node['properties']['command'] }</command>
-            % endif
-
-            % for param in node['properties']['parameters']:
-              <arg>${ param['value'] }</arg>
-            % endfor
-
-            ${ common.distributed_cache(node['properties']['files'], node['properties']['archives']) }
-        </sqoop>
-        <ok to="${ node_mapping[node['children'][0]['to']].name }"/>
-        <error to="${ node_mapping[node['children'][1]['error']].name }"/>
-        ${ common.sla(node) }
-    </action>
diff --git a/apps/oozie/src/oozie/templates/editor/gen2/workflow-ssh.xml.mako b/apps/oozie/src/oozie/templates/editor/gen2/workflow-ssh.xml.mako
deleted file mode 100644
index f65c59e..0000000
--- a/apps/oozie/src/oozie/templates/editor/gen2/workflow-ssh.xml.mako
+++ /dev/null
@@ -1,36 +0,0 @@
-## -*- coding: utf-8 -*-
-## Licensed to Cloudera, Inc. under one
-## or more contributor license agreements.  See the NOTICE file
-## distributed with this work for additional information
-## regarding copyright ownership.  Cloudera, Inc. licenses this file
-## to you under the Apache License, Version 2.0 (the
-## "License"); you may not use this file except in compliance
-## with the License.  You may obtain a copy of the License at
-##
-##     http://www.apache.org/licenses/LICENSE-2.0
-##
-## Unless required by applicable law or agreed to in writing, software
-## distributed under the License is distributed on an "AS IS" BASIS,
-## WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
-## See the License for the specific language governing permissions and
-## limitations under the License.
-
-<%namespace name="common" file="workflow-common.xml.mako" />
-
-    <action name="${ node['name'] }"${ common.credentials(node['properties']['credentials']) }>
-        <ssh xmlns="uri:oozie:ssh-action:0.1">
-            <host>${ node['properties']['host'] }</host>
-            <command>${ node['properties']['ssh_command'] }</command>
-
-            % for param in node['properties']['arguments']:
-            <args>${ param['value'] }</args>
-            % endfor
-
-            % if node['properties']['capture_output']:
-            <capture-output/>
-            % endif
-        </ssh>
-        <ok to="${ node_mapping[node['children'][0]['to']].name }"/>
-        <error to="${ node_mapping[node['children'][1]['error']].name }"/>
-        ${ common.sla(node) }
-    </action>
diff --git a/apps/oozie/src/oozie/templates/editor/gen2/workflow-start.xml.mako b/apps/oozie/src/oozie/templates/editor/gen2/workflow-start.xml.mako
deleted file mode 100644
index 3a7852c..0000000
--- a/apps/oozie/src/oozie/templates/editor/gen2/workflow-start.xml.mako
+++ /dev/null
@@ -1,18 +0,0 @@
-## -*- coding: utf-8 -*-
-## Licensed to Cloudera, Inc. under one
-## or more contributor license agreements.  See the NOTICE file
-## distributed with this work for additional information
-## regarding copyright ownership.  Cloudera, Inc. licenses this file
-## to you under the Apache License, Version 2.0 (the
-## "License"); you may not use this file except in compliance
-## with the License.  You may obtain a copy of the License at
-##
-##     http://www.apache.org/licenses/LICENSE-2.0
-##
-## Unless required by applicable law or agreed to in writing, software
-## distributed under the License is distributed on an "AS IS" BASIS,
-## WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
-## See the License for the specific language governing permissions and
-## limitations under the License.
-
-    <start to="${ node_mapping[node['children'][0]['to']].name }"/>
diff --git a/apps/oozie/src/oozie/templates/editor/gen2/workflow-streaming.xml.mako b/apps/oozie/src/oozie/templates/editor/gen2/workflow-streaming.xml.mako
deleted file mode 100644
index c59fcb1..0000000
--- a/apps/oozie/src/oozie/templates/editor/gen2/workflow-streaming.xml.mako
+++ /dev/null
@@ -1,38 +0,0 @@
-## -*- coding: utf-8 -*-
-## Licensed to Cloudera, Inc. under one
-## or more contributor license agreements.  See the NOTICE file
-## distributed with this work for additional information
-## regarding copyright ownership.  Cloudera, Inc. licenses this file
-## to you under the Apache License, Version 2.0 (the
-## "License"); you may not use this file except in compliance
-## with the License.  You may obtain a copy of the License at
-##
-##     http://www.apache.org/licenses/LICENSE-2.0
-##
-## Unless required by applicable law or agreed to in writing, software
-## distributed under the License is distributed on an "AS IS" BASIS,
-## WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
-## See the License for the specific language governing permissions and
-## limitations under the License.
-
-<%namespace name="common" file="workflow-common.xml.mako" />
-
-    <action name="${ node['name'] }"${ common.credentials(node['properties']['credentials']) }>
-        <map-reduce>
-            <job-tracker>${ '${' }jobTracker}</job-tracker>
-            <name-node>${ '${' }nameNode}</name-node>
-            <streaming>
-                % if node['properties']['mapper']:
-                <mapper>${ node['properties']['mapper'] }</mapper>
-                % endif
-                % if node['properties']['reducer']:
-                <reducer>${ node['properties']['reducer'] }</reducer>
-                % endif
-            </streaming>
-            ${ common.configuration(node['properties']['properties']) }
-            ${ common.distributed_cache(node['properties']['files'], node['properties']['archives']) }
-        </map-reduce>
-        <ok to="${ node_mapping[node['children'][0]['to']].name }"/>
-        <error to="${ node_mapping[node['children'][1]['error']].name }"/>
-        ${ common.sla(node) }
-    </action>
diff --git a/apps/oozie/src/oozie/templates/editor/gen2/workflow-subworkflow.xml.mako b/apps/oozie/src/oozie/templates/editor/gen2/workflow-subworkflow.xml.mako
deleted file mode 100644
index e20a4ce..0000000
--- a/apps/oozie/src/oozie/templates/editor/gen2/workflow-subworkflow.xml.mako
+++ /dev/null
@@ -1,33 +0,0 @@
-## -*- coding: utf-8 -*-
-## Licensed to Cloudera, Inc. under one
-## or more contributor license agreements.  See the NOTICE file
-## distributed with this work for additional information
-## regarding copyright ownership.  Cloudera, Inc. licenses this file
-## to you under the Apache License, Version 2.0 (the
-## "License"); you may not use this file except in compliance
-## with the License.  You may obtain a copy of the License at
-##
-##     http://www.apache.org/licenses/LICENSE-2.0
-##
-## Unless required by applicable law or agreed to in writing, software
-## distributed under the License is distributed on an "AS IS" BASIS,
-## WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
-## See the License for the specific language governing permissions and
-## limitations under the License.
-
-<%namespace name="common" file="workflow-common.xml.mako" />
-
-    <action name="${ node['name'] }"${ common.credentials(node['properties']['credentials']) }>
-        <sub-workflow>
-            <app-path>${'${'}nameNode}${ workflow_mapping[node['properties']['workflow']].deployment_dir }</app-path>
-
-            % if node['properties']['propagate_configuration']:
-              <propagate-configuration/>
-            % endif
-
-            ${ common.configuration(node['properties']['job_properties']) }
-        </sub-workflow>
-        <ok to="${ node_mapping[node['children'][0]['to']].name }"/>
-        <error to="${ node_mapping[node['children'][1]['error']].name }"/>
-        ${ common.sla(node) }
-    </action>
diff --git a/apps/oozie/src/oozie/templates/editor/gen2/workflow.xml.mako b/apps/oozie/src/oozie/templates/editor/gen2/workflow.xml.mako
deleted file mode 100644
index 4383e6b..0000000
--- a/apps/oozie/src/oozie/templates/editor/gen2/workflow.xml.mako
+++ /dev/null
@@ -1,53 +0,0 @@
-## -*- coding: utf-8 -*-
-## Licensed to Cloudera, Inc. under one
-## or more contributor license agreements.  See the NOTICE file
-## distributed with this work for additional information
-## regarding copyright ownership.  Cloudera, Inc. licenses this file
-## to you under the Apache License, Version 2.0 (the
-## "License"); you may not use this file except in compliance
-## with the License.  You may obtain a copy of the License at
-##
-##     http://www.apache.org/licenses/LICENSE-2.0
-##
-## Unless required by applicable law or agreed to in writing, software
-## distributed under the License is distributed on an "AS IS" BASIS,
-## WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
-## See the License for the specific language governing permissions and
-## limitations under the License.
-
-<%namespace name="common" file="workflow-common.xml.mako" />
-
-
-<workflow-app name="${ wf.validated_name }" xmlns="${ 'uri:oozie:workflow:0.5' if workflow['properties']['sla_workflow_enabled'] else workflow['properties']['schema_version'] | n,unicode }"${ ' xmlns:sla="uri:oozie:sla:0.2"' if workflow['properties']['sla_workflow_enabled'] else '' | n,unicode }>
-  % if workflow['properties']['job_xml'] or workflow['properties']['properties']:
-  <global>
-    % if workflow['properties']['job_xml']:
-      <job-xml>${ workflow['properties']['job_xml'] | x }</job-xml>
-    % endif
-    % if workflow['properties']['properties']:
-      ${ common.configuration(workflow['properties']['properties']) | x }
-    % endif
-  </global>
-  % endif
-  % if workflow['properties']['credentials']:
-  <credentials>
-    % for cred_type in workflow['properties']['credentials']:
-    <%
-      credential = mapping['credentials'][cred_type]
-    %>
-    <credential name="${ credential['xml_name'] }" type="${ cred_type }">
-    % for name, value in credential['properties']:
-      <property>
-        <name>${ name }</name>
-        <value>${ value }</value>
-      </property>
-    % endfor
-    </credential>
-    % endfor
-  </credentials>
-  % endif
-  % for node in nodes:
-      ${ node.to_xml(mapping, node_mapping, workflow_mapping) | n }
-  % endfor
-  ${ common.sla(workflow) }
-</workflow-app>
diff --git a/apps/oozie/src/oozie/templates/editor/list_editor_bundles.mako b/apps/oozie/src/oozie/templates/editor/list_editor_bundles.mako
deleted file mode 100644
index a9615aa..0000000
--- a/apps/oozie/src/oozie/templates/editor/list_editor_bundles.mako
+++ /dev/null
@@ -1,274 +0,0 @@
-## Licensed to Cloudera, Inc. under one
-## or more contributor license agreements.  See the NOTICE file
-## distributed with this work for additional information
-## regarding copyright ownership.  Cloudera, Inc. licenses this file
-## to you under the Apache License, Version 2.0 (the
-## "License"); you may not use this file except in compliance
-## with the License.  You may obtain a copy of the License at
-##
-##     http://www.apache.org/licenses/LICENSE-2.0
-##
-## Unless required by applicable law or agreed to in writing, software
-## distributed under the License is distributed on an "AS IS" BASIS,
-## WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
-## See the License for the specific language governing permissions and
-## limitations under the License.
-
-<%!
-  from desktop.views import commonheader, commonfooter, commonshare
-  from django.utils.translation import ugettext as _
-%>
-<%namespace name="actionbar" file="../actionbar.mako" />
-<%namespace name="layout" file="../navigation-bar.mako" />
-<%namespace name="utils" file="../utils.inc.mako" />
-
-${ commonheader(_("Bundles"), "oozie", user) | n,unicode }
-${ layout.menubar(section='bundles', is_editor=True) }
-
-<div id="editor">
-
-<div class="container-fluid">
-  <div class="card card-small">
-  <h1 class="card-heading simple">${ _('Bundle Editor') }</h1>
-
-  <%actionbar:render>
-    <%def name="search()">
-      <input id="filterInput" type="text" class="input-xlarge search-query" placeholder="${_('Search for name, description, etc...')}">
-    </%def>
-
-    <%def name="actions()">
-      <div class="btn-toolbar" style="display: inline; vertical-align: middle">
-        <a data-bind="click: showSubmitPopup, css: {'btn': true, 'disabled': ! oneSelected()}">
-          <i class="fa fa-play"></i> ${ _('Submit') }
-        </a>
-
-        <span style="padding-right:40px"></span>
-
-        <a class="share-link btn" rel="tooltip" data-placement="bottom" data-bind="click: prepareShareModal,
-          attr: {'data-original-title': '${ _("Share") } ' + name},
-          css: {'disabled': ! oneSelected(), 'btn': true}">
-          <i class="fa fa-users"></i> ${ _('Share') }
-        </a>
-
-        <a data-bind="click: copy, css: {'btn': true, 'disabled': ! atLeastOneSelected()}">
-          <i class="fa fa-files-o"></i> ${ _('Copy') }
-        </a>
-
-        <a data-bind="click: function() { $('#deleteWf').modal('show'); }, css: {'btn': true, 'disabled': ! atLeastOneSelected() }">
-          <i class="fa fa-times"></i> ${ _('Delete') }
-        </a>
-
-      </div>
-    </%def>
-
-    <%def name="creation()">
-      <a href="${ url('oozie:new_bundle') }" class="btn"><i class="fa fa-plus-circle"></i> ${ _('Create') }</a>
-    </%def>
-  </%actionbar:render>
-
-  <table id="workflowTable" class="table datatables">
-    <thead>
-      <tr>
-        <th width="1%"><div data-bind="click: selectAll, css: {hueCheckbox: true, 'fa': true, 'fa-check': allSelected}" class="select-all"></div></th>
-        <th>${ _('Name') }</th>
-        <th>${ _('Description') }</th>
-        <th>${ _('Owner') }</th>
-        <th>${ _('Last Modified') }</th>
-      </tr>
-    </thead>
-    <tbody data-bind="foreach: { data: jobs }">
-      <tr>
-        <td data-bind="click: $root.handleSelect" class="center" style="cursor: default" data-row-selector-exclude="true">
-          <div data-bind="css: { 'hueCheckbox': true, 'fa': true, 'fa-check': isSelected }" data-row-selector-exclude="true"></div>
-          <!-- ko if: ! uuid() -->
-            <a data-bind="attr: { 'href': '${ url('oozie:open_old_bundle') }?bundle=' + id() }" data-row-selector="true"></a>
-          <!-- /ko -->
-          <!-- ko if: uuid() -->
-            <a data-bind="attr: { 'href': '${ url('oozie:edit_bundle') }?bundle=' + id() }" data-row-selector="true"></a>
-          <!-- /ko -->                     
-        </td>
-        <td data-bind="text: name"></td>
-        <td data-bind="text: description"></td>
-        <td data-bind="text: owner"></td>
-        <td data-bind="text: last_modified, attr: { 'data-sort-value': last_modified_ts }" data-type="date"></td>
-      </tr>
-    </tbody>
-  </table>
-
-  </div>
-</div>
-
-
-<div class="hueOverlay" data-bind="visible: isLoading">
-  <!--[if lte IE 9]>
-    <img src="/static/art/spinner-big.gif" />
-  <![endif]-->
-  <!--[if !IE]> -->
-    <i class="fa fa-spinner fa-spin"></i>
-  <!-- <![endif]-->
-</div>
-
-<div id="submit-wf-modal" class="modal hide"></div>
-
-<div id="deleteWf" class="modal hide fade">
-  <form id="deleteWfForm" method="POST" data-bind="submit: delete2">
-    ${ csrf_token(request) | n,unicode }
-    <div class="modal-header">
-      <a href="#" class="close" data-dismiss="modal">&times;</a>
-      <h3 id="deleteWfMessage">${ _('Delete the selected workflow(s)?') }</h3>
-    </div>
-    <div class="modal-footer">
-      <a href="#" class="btn" data-dismiss="modal">${ _('No') }</a>
-      <input type="submit" class="btn btn-danger" value="${ _('Yes') }"/>
-    </div>
-  </form>
-</div>
-
-
-</div>
-
-
-${ commonshare() | n,unicode }
-
-
-<script src="/static/ext/js/datatables-paging-0.1.js" type="text/javascript" charset="utf-8"></script>
-<script src="/static/ext/js/knockout-min.js" type="text/javascript" charset="utf-8"></script>
-<script src="/static/ext/js/knockout.mapping-2.3.2.js" type="text/javascript" charset="utf-8"></script>
-<script src="/static/js/share.vm.js"></script>
-
-
-<script type="text/javascript" charset="utf-8">
-  var Editor = function () {
-    var self = this;
-
-    self.jobs = ko.mapping.fromJS(${ bundles_json | n });
-    self.selectedJobs = ko.computed(function() {
-      return $.grep(self.jobs(), function(job) { return job.isSelected(); });
-    });
-    self.isLoading = ko.observable(false);
-
-    self.oneSelected = ko.computed(function() {
-      return self.selectedJobs().length == 1;
-    });
-    self.atLeastOneSelected = ko.computed(function() {
-      return self.selectedJobs().length >= 1;
-    });
-    self.allSelected = ko.observable(false);
-
-    self.handleSelect = function(wf) {
-      wf.isSelected(! wf.isSelected());
-    }
-
-    self.selectAll = function() {
-      self.allSelected(! self.allSelected());
-      ko.utils.arrayForEach(self.jobs(), function (job) {
-        job.isSelected(self.allSelected());
-      });
-    }
-
-    self.datatable = null;
-
-    self.showSubmitPopup = function () {
-      $.get("/oozie/editor/bundle/submit/" + self.selectedJobs()[0].id(), {
-      }, function (data) {
-        $(document).trigger("showSubmitPopup", data);
-      }).fail(function (xhr, textStatus, errorThrown) {
-        $(document).trigger("error", xhr.responseText);
-      });
-    };
-
-    self.delete2 = function() {
-      $.post("${ url('oozie:delete_editor_bundle') }", {
-        "selection": ko.mapping.toJSON(self.selectedJobs)
-      }, function() {
-        window.location.reload();
-        $('#deleteWf').modal('hide');
-      }).fail(function (xhr, textStatus, errorThrown) {
-        $(document).trigger("error", xhr.responseText);
-      });
-    };
-
-    self.copy = function() {
-      $.post("${ url('oozie:copy_bundle') }", {
-        "selection": ko.mapping.toJSON(self.selectedJobs)
-      }, function(data) {
-        window.location.reload();
-      }).fail(function (xhr, textStatus, errorThrown) {
-        $(document).trigger("error", xhr.responseText);
-      });
-    };
-
-    self.prepareShareModal = function() {
-     shareViewModel.setDocId(self.selectedJobs()[0].doc1_id());
-      openShareModal();
-    };
-  }
-
-  var viewModel;
-  var shareViewModel;
-
-  $(document).ready(function () {
-    viewModel = new Editor();
-    ko.applyBindings(viewModel, $("#editor")[0]);
-
-    shareViewModel = initSharing("#documentShareModal");
-    shareViewModel.setDocId(-1);
-
-    $(document).on("showSubmitPopup", function(event, data){
-      $('#submit-wf-modal').html(data);
-      $('#submit-wf-modal').modal('show');
-    });
-
-    var oTable = $("#workflowTable").dataTable({
-      "sPaginationType":"bootstrap",
-      'iDisplayLength':50,
-      "bLengthChange":false,
-      "sDom": "<'row'r>t<'row-fluid'<'dt-pages'p><'dt-records'i>>",
-      "aoColumns":[
-        { "bSortable":false },
-        null,
-        null,
-        null,
-        { "sSortDataType":"dom-sort-value", "sType":"numeric" }
-      ],
-      "aaSorting":[
-        [4, 'desc'],
-        [1, 'asc' ]
-      ],
-      "oLanguage":{
-        "sEmptyTable":"${_('No data available')}",
-        "sInfo":"${_('Showing _START_ to _END_ of _TOTAL_ entries')}",
-        "sInfoEmpty":"${_('Showing 0 to 0 of 0 entries')}",
-        "sInfoFiltered":"${_('(filtered from _MAX_ total entries)')}",
-        "sZeroRecords":"${_('No matching records')}",
-        "oPaginate":{
-          "sFirst":"${_('First')}",
-          "sLast":"${_('Last')}",
-          "sNext":"${_('Next')}",
-          "sPrevious":"${_('Previous')}"
-        },
-        "bDestroy": true
-      },
-      "fnDrawCallback":function (oSettings) {
-        $("a[data-row-selector='true']").jHueRowSelector();
-      }
-    });
-
-    viewModel.datatable = oTable;
-
-    $("#filterInput").keydown(function (e) {
-      if (e.which == 13) {
-        e.preventDefault();
-        return false;
-      }
-    });
-
-    $("#filterInput").keyup(function () {
-      oTable.fnFilter($(this).val());
-    });
-
-    $("a[data-row-selector='true']").jHueRowSelector();
-  });
-</script>
-
-${commonfooter(messages) | n,unicode}
diff --git a/apps/oozie/src/oozie/templates/editor/list_editor_coordinators.mako b/apps/oozie/src/oozie/templates/editor/list_editor_coordinators.mako
deleted file mode 100644
index 03bb0a2..0000000
--- a/apps/oozie/src/oozie/templates/editor/list_editor_coordinators.mako
+++ /dev/null
@@ -1,273 +0,0 @@
-## Licensed to Cloudera, Inc. under one
-## or more contributor license agreements.  See the NOTICE file
-## distributed with this work for additional information
-## regarding copyright ownership.  Cloudera, Inc. licenses this file
-## to you under the Apache License, Version 2.0 (the
-## "License"); you may not use this file except in compliance
-## with the License.  You may obtain a copy of the License at
-##
-##     http://www.apache.org/licenses/LICENSE-2.0
-##
-## Unless required by applicable law or agreed to in writing, software
-## distributed under the License is distributed on an "AS IS" BASIS,
-## WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
-## See the License for the specific language governing permissions and
-## limitations under the License.
-
-<%!
-  from desktop.views import commonheader, commonfooter, commonshare
-  from django.utils.translation import ugettext as _
-%>
-<%namespace name="actionbar" file="../actionbar.mako" />
-<%namespace name="layout" file="../navigation-bar.mako" />
-<%namespace name="utils" file="../utils.inc.mako" />
-
-${ commonheader(_("Coordinators"), "oozie", user) | n,unicode }
-${ layout.menubar(section='coordinators', is_editor=True) }
-
-<div id="editor">
-
-<div class="container-fluid">
-  <div class="card card-small">
-  <h1 class="card-heading simple">${ _('Coordinator Editor') }</h1>
-
-  <%actionbar:render>
-    <%def name="search()">
-      <input id="filterInput" type="text" class="input-xlarge search-query" placeholder="${_('Search for name, description, etc...')}">
-    </%def>
-
-    <%def name="actions()">
-      <div class="btn-toolbar" style="display: inline; vertical-align: middle">
-        <a data-bind="click: showSubmitPopup, css: {'btn': true, 'disabled': ! oneSelected()}">
-          <i class="fa fa-play"></i> ${ _('Submit') }
-        </a>
-
-        <span style="padding-right:40px"></span>
-
-        <a class="share-link btn" rel="tooltip" data-placement="bottom" data-bind="click: prepareShareModal,
-          attr: {'data-original-title': '${ _("Share") } ' + name},
-          css: {'disabled': ! oneSelected(), 'btn': true}">
-          <i class="fa fa-users"></i> ${ _('Share') }
-        </a>
-
-        <a data-bind="click: copy, css: {'btn': true, 'disabled': ! atLeastOneSelected()}">
-          <i class="fa fa-files-o"></i> ${ _('Copy') }
-        </a>
-
-        <a data-bind="click: function() { $('#deleteWf').modal('show'); }, css: {'btn': true, 'disabled': ! atLeastOneSelected() }">
-          <i class="fa fa-times"></i> ${ _('Delete') }
-        </a>
-
-      </div>
-    </%def>
-
-    <%def name="creation()">
-      <a href="${ url('oozie:new_coordinator') }" class="btn"><i class="fa fa-plus-circle"></i> ${ _('Create') }</a>
-    </%def>
-  </%actionbar:render>
-
-  <table id="workflowTable" class="table datatables">
-    <thead>
-      <tr>
-        <th width="1%"><div data-bind="click: selectAll, css: {hueCheckbox: true, 'fa': true, 'fa-check': allSelected}" class="select-all"></div></th>
-        <th>${ _('Name') }</th>
-        <th>${ _('Description') }</th>
-        <th>${ _('Owner') }</th>
-        <th>${ _('Last Modified') }</th>
-      </tr>
-    </thead>
-    <tbody data-bind="foreach: { data: jobs }">
-      <tr>
-        <td data-bind="click: $root.handleSelect" class="center" style="cursor: default" data-row-selector-exclude="true">
-          <div data-bind="css: { 'hueCheckbox': true, 'fa': true, 'fa-check': isSelected }" data-row-selector-exclude="true"></div>
-          <!-- ko if: ! uuid() -->
-            <a data-bind="attr: { 'href': '${ url('oozie:open_old_coordinator') }?coordinator=' + id() }" data-row-selector="true"></a>
-          <!-- /ko -->
-          <!-- ko if: uuid() -->
-            <a data-bind="attr: { 'href': '${ url('oozie:edit_coordinator') }?coordinator=' + id() }" data-row-selector="true"></a>
-          <!-- /ko -->                    
-        </td>
-        <td data-bind="text: name"></td>
-        <td data-bind="text: description"></td>
-        <td data-bind="text: owner"></td>
-        <td data-bind="text: last_modified, attr: { 'data-sort-value': last_modified_ts }" data-type="date"></td>
-      </tr>
-    </tbody>
-  </table>
-
-  </div>
-</div>
-
-
-<div class="hueOverlay" data-bind="visible: isLoading">
-  <!--[if lte IE 9]>
-    <img src="/static/art/spinner-big.gif" />
-  <![endif]-->
-  <!--[if !IE]> -->
-    <i class="fa fa-spinner fa-spin"></i>
-  <!-- <![endif]-->
-</div>
-
-<div id="submit-wf-modal" class="modal hide"></div>
-
-<div id="deleteWf" class="modal hide fade">
-  <form id="deleteWfForm" method="POST" data-bind="submit: delete2">
-    ${ csrf_token(request) | n,unicode }
-    <div class="modal-header">
-      <a href="#" class="close" data-dismiss="modal">&times;</a>
-      <h3 id="deleteWfMessage">${ _('Delete the selected coordinator(s)?') }</h3>
-    </div>
-    <div class="modal-footer">
-      <a href="#" class="btn" data-dismiss="modal">${ _('No') }</a>
-      <input type="submit" class="btn btn-danger" value="${ _('Yes') }"/>
-    </div>
-  </form>
-</div>
-
-
-</div>
-
-
-${ commonshare() | n,unicode }
-
-
-<script src="/static/ext/js/datatables-paging-0.1.js" type="text/javascript" charset="utf-8"></script>
-<script src="/static/ext/js/knockout-min.js" type="text/javascript" charset="utf-8"></script>
-<script src="/static/ext/js/knockout.mapping-2.3.2.js" type="text/javascript" charset="utf-8"></script>
-<script src="/static/js/share.vm.js"></script>
-
-
-<script type="text/javascript" charset="utf-8">
-  var Editor = function () {
-    var self = this;
-
-    self.jobs = ko.mapping.fromJS(${ coordinators_json | n });
-    self.selectedJobs = ko.computed(function() {
-      return $.grep(self.jobs(), function(job) { return job.isSelected(); });
-    });
-    self.isLoading = ko.observable(false);
-
-    self.oneSelected = ko.computed(function() {
-      return self.selectedJobs().length == 1;
-    });
-    self.atLeastOneSelected = ko.computed(function() {
-      return self.selectedJobs().length >= 1;
-    });
-    self.allSelected = ko.observable(false);
-
-    self.handleSelect = function(wf) {
-      wf.isSelected(! wf.isSelected());
-    }
-
-    self.selectAll = function() {
-      self.allSelected(! self.allSelected());
-      ko.utils.arrayForEach(self.jobs(), function (job) {
-        job.isSelected(self.allSelected());
-      });
-    }
-
-    self.datatable = null;
-
-    self.showSubmitPopup = function () {
-      $.get("/oozie/editor/coordinator/submit/" + self.selectedJobs()[0].id(), {
-      }, function (data) {
-        $(document).trigger("showSubmitPopup", data);
-      }).fail(function (xhr, textStatus, errorThrown) {
-        $(document).trigger("error", xhr.responseText);
-      });
-    };
-
-    self.delete2 = function() {
-      $.post("${ url('oozie:delete_editor_coordinator') }", {
-        "selection": ko.mapping.toJSON(self.selectedJobs)
-      }, function() {
-        window.location.reload();
-      }).fail(function (xhr, textStatus, errorThrown) {
-        $(document).trigger("error", xhr.responseText);
-      });
-    };
-
-    self.copy = function() {
-      $.post("${ url('oozie:copy_coordinator') }", {
-        "selection": ko.mapping.toJSON(self.selectedJobs)
-      }, function(data) {
-        window.location.reload();
-      }).fail(function (xhr, textStatus, errorThrown) {
-        $(document).trigger("error", xhr.responseText);
-      });
-    };
-
-    self.prepareShareModal = function() {
-     shareViewModel.setDocId(self.selectedJobs()[0].doc1_id());
-      openShareModal();
-    };
-  }
-
-  var viewModel;
-  var shareViewModel;
-
-  $(document).ready(function () {
-    viewModel = new Editor();
-    ko.applyBindings(viewModel, $("#editor")[0]);
-
-    shareViewModel = initSharing("#documentShareModal");
-    shareViewModel.setDocId(-1);
-
-    $(document).on("showSubmitPopup", function(event, data){
-      $('#submit-wf-modal').html(data);
-      $('#submit-wf-modal').modal('show');
-    });
-
-    var oTable = $("#workflowTable").dataTable({
-      "sPaginationType":"bootstrap",
-      'iDisplayLength':50,
-      "bLengthChange":false,
-      "sDom": "<'row'r>t<'row-fluid'<'dt-pages'p><'dt-records'i>>",
-      "aoColumns":[
-        { "bSortable":false },
-        null,
-        null,
-        null,
-        { "sSortDataType":"dom-sort-value", "sType":"numeric" }
-      ],
-      "aaSorting":[
-        [4, 'desc'],
-        [1, 'asc' ]
-      ],
-      "oLanguage":{
-        "sEmptyTable":"${_('No data available')}",
-        "sInfo":"${_('Showing _START_ to _END_ of _TOTAL_ entries')}",
-        "sInfoEmpty":"${_('Showing 0 to 0 of 0 entries')}",
-        "sInfoFiltered":"${_('(filtered from _MAX_ total entries)')}",
-        "sZeroRecords":"${_('No matching records')}",
-        "oPaginate":{
-          "sFirst":"${_('First')}",
-          "sLast":"${_('Last')}",
-          "sNext":"${_('Next')}",
-          "sPrevious":"${_('Previous')}"
-        },
-        "bDestroy": true
-      },
-      "fnDrawCallback":function (oSettings) {
-        $("a[data-row-selector='true']").jHueRowSelector();
-      }
-    });
-
-    viewModel.datatable = oTable;
-
-    $("#filterInput").keydown(function (e) {
-      if (e.which == 13) {
-        e.preventDefault();
-        return false;
-      }
-    });
-
-    $("#filterInput").keyup(function () {
-      oTable.fnFilter($(this).val());
-    });
-
-    $("a[data-row-selector='true']").jHueRowSelector();
-  });
-</script>
-
-${commonfooter(messages) | n,unicode}
diff --git a/apps/oozie/src/oozie/templates/editor/list_editor_workflows.mako b/apps/oozie/src/oozie/templates/editor/list_editor_workflows.mako
deleted file mode 100644
index 1caaa63..0000000
--- a/apps/oozie/src/oozie/templates/editor/list_editor_workflows.mako
+++ /dev/null
@@ -1,276 +0,0 @@
-## Licensed to Cloudera, Inc. under one
-## or more contributor license agreements.  See the NOTICE file
-## distributed with this work for additional information
-## regarding copyright ownership.  Cloudera, Inc. licenses this file
-## to you under the Apache License, Version 2.0 (the
-## "License"); you may not use this file except in compliance
-## with the License.  You may obtain a copy of the License at
-##
-##     http://www.apache.org/licenses/LICENSE-2.0
-##
-## Unless required by applicable law or agreed to in writing, software
-## distributed under the License is distributed on an "AS IS" BASIS,
-## WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
-## See the License for the specific language governing permissions and
-## limitations under the License.
-
-<%!
-  from desktop.views import commonheader, commonfooter, commonshare
-  from django.utils.translation import ugettext as _
-%>
-<%namespace name="actionbar" file="../actionbar.mako" />
-<%namespace name="layout" file="../navigation-bar.mako" />
-<%namespace name="utils" file="../utils.inc.mako" />
-
-${ commonheader(_("Workflows"), "oozie", user) | n,unicode }
-${ layout.menubar(section='workflows', is_editor=True) }
-
-
-<div id="editor">
-
-<div class="container-fluid">
-  <div class="card card-small">
-  <h1 class="card-heading simple">${ _('Workflow Editor') }</h1>
-
-  <%actionbar:render>
-    <%def name="search()">
-      <input id="filterInput" type="text" class="input-xlarge search-query" placeholder="${_('Search for name, description, etc...')}">
-    </%def>
-
-    <%def name="actions()">
-      <div class="btn-toolbar" style="display: inline; vertical-align: middle">
-        <a data-bind="click: showSubmitPopup, css: {'btn': true, 'disabled': ! oneSelected()}">
-          <i class="fa fa-play"></i> ${ _('Submit') }
-        </a>
-
-        <span style="padding-right:40px"></span>
-
-        <a class="share-link btn" rel="tooltip" data-placement="bottom" data-bind="click: prepareShareModal,
-          attr: {'data-original-title': '${ _("Share") } ' + name},
-          css: {'disabled': ! oneSelected(), 'btn': true}">
-          <i class="fa fa-users"></i> ${ _('Share') }
-        </a>
-
-        <a data-bind="click: copy, css: {'btn': true, 'disabled': ! atLeastOneSelected()}">
-          <i class="fa fa-files-o"></i> ${ _('Copy') }
-        </a>
-
-        <a data-bind="click: function() { $('#deleteWf').modal('show'); }, css: {'btn': true, 'disabled': ! atLeastOneSelected() }">
-          <i class="fa fa-times"></i> ${ _('Delete') }
-        </a>
-
-      </div>
-    </%def>
-
-    <%def name="creation()">
-      <a href="${ url('oozie:new_workflow') }" class="btn"><i class="fa fa-plus-circle"></i> ${ _('Create') }</a>
-    </%def>
-  </%actionbar:render>
-
-  <table id="workflowTable" class="table datatables">
-    <thead>
-      <tr>
-        <th width="1%"><div data-bind="click: selectAll, css: {hueCheckbox: true, 'fa': true, 'fa-check': allSelected}" class="select-all"></div></th>
-        <th>${ _('Name') }</th>
-        <th>${ _('Description') }</th>
-        <th>${ _('Owner') }</th>
-        <th>${ _('Last Modified') }</th>
-      </tr>
-    </thead>
-    <tbody data-bind="foreach: { data: jobs }">
-      <tr>
-        <td data-bind="click: $root.handleSelect" class="center" style="cursor: default" data-row-selector-exclude="true">
-          <div data-bind="css: { 'hueCheckbox': true, 'fa': true, 'fa-check': isSelected }" data-row-selector-exclude="true"></div>          
-          <!-- ko if: ! uuid() -->
-            <a data-bind="attr: { 'href': '${ url('oozie:open_old_workflow') }?workflow=' + id() }" data-row-selector="true"></a>
-          <!-- /ko -->
-          <!-- ko if: uuid() -->
-            <a data-bind="attr: { 'href': '${ url('oozie:edit_workflow') }?workflow=' + id() }" data-row-selector="true"></a>
-          <!-- /ko -->
-        </td>
-        <td data-bind="text: name"></td>
-        <td data-bind="text: description"></td>
-        <td data-bind="text: owner"></td>
-        <td data-bind="text: last_modified, attr: { 'data-sort-value': last_modified_ts }" data-type="date"></td>
-      </tr>
-    </tbody>
-  </table>
-
-  </div>
-</div>
-
-
-<div class="hueOverlay" data-bind="visible: isLoading">
-  <!--[if lte IE 9]>
-    <img src="/static/art/spinner-big.gif" />
-  <![endif]-->
-  <!--[if !IE]> -->
-    <i class="fa fa-spinner fa-spin"></i>
-  <!-- <![endif]-->
-</div>
-
-<div id="submit-wf-modal" class="modal hide"></div>
-
-<div id="deleteWf" class="modal hide fade">
-  <form id="deleteWfForm" method="POST" data-bind="submit: delete2">
-    ${ csrf_token(request) | n,unicode }
-    <div class="modal-header">
-      <a href="#" class="close" data-dismiss="modal">&times;</a>
-      <h3 id="deleteWfMessage">${ _('Delete the selected workflow(s)?') }</h3>
-    </div>
-    <div class="modal-footer">
-      <a href="#" class="btn" data-dismiss="modal">${ _('No') }</a>
-      <input type="submit" class="btn btn-danger" value="${ _('Yes') }"/>
-    </div>
-  </form>
-</div>
-
-
-</div>
-
-
-${ commonshare() | n,unicode }
-
-
-<script src="/static/ext/js/datatables-paging-0.1.js" type="text/javascript" charset="utf-8"></script>
-<script src="/static/ext/js/knockout-min.js" type="text/javascript" charset="utf-8"></script>
-<script src="/static/ext/js/knockout.mapping-2.3.2.js" type="text/javascript" charset="utf-8"></script>
-<script src="/static/js/share.vm.js"></script>
-
-
-<script type="text/javascript" charset="utf-8">
-  var Editor = function () {
-    var self = this;
-
-    self.jobs = ko.mapping.fromJS(${ workflows_json | n });
-    self.selectedJobs = ko.computed(function() {
-      return $.grep(self.jobs(), function(job) { return job.isSelected(); });
-    });
-    self.isLoading = ko.observable(false);
-
-    self.oneSelected = ko.computed(function() {
-      return self.selectedJobs().length == 1;
-    });
-    self.atLeastOneSelected = ko.computed(function() {
-      return self.selectedJobs().length >= 1;
-    });
-    self.allSelected = ko.observable(false);
-
-    self.handleSelect = function(wf) {
-      wf.isSelected(! wf.isSelected());
-    }
-
-    self.selectAll = function() {
-      self.allSelected(! self.allSelected());
-      ko.utils.arrayForEach(self.jobs(), function (job) {
-        job.isSelected(self.allSelected());
-      });
-    }
-
-    self.datatable = null;
-
-    self.showSubmitPopup = function () {
-      $.get("/oozie/editor/workflow/submit/" + self.selectedJobs()[0].id(), {
-      }, function (data) {
-        $(document).trigger("showSubmitPopup", data);
-      }).fail(function (xhr, textStatus, errorThrown) {
-        $(document).trigger("error", xhr.responseText);
-      });
-    };
-
-    self.delete2 = function() {
-      $.post("${ url('oozie:delete_editor_workflow') }", {
-        "selection": ko.mapping.toJSON(self.selectedJobs)
-      }, function() {
-        window.location.reload();
-        $('#deleteWf').modal('hide');
-      }).fail(function (xhr, textStatus, errorThrown) {
-        $(document).trigger("error", xhr.responseText);
-      });
-    };
-
-    self.copy = function() {
-      $.post("${ url('oozie:copy_workflow') }", {
-        "selection": ko.mapping.toJSON(self.selectedJobs)
-      }, function(data) {
-        window.location.reload();
-      }).fail(function (xhr, textStatus, errorThrown) {
-        $(document).trigger("error", xhr.responseText);
-      });
-    };
-
-    self.prepareShareModal = function() {
-     shareViewModel.setDocId(self.selectedJobs()[0].doc1_id());
-      openShareModal();
-    };
-  }
-
-  var viewModel;
-  var shareViewModel;
-
-  $(document).ready(function () {
-    viewModel = new Editor();
-    ko.applyBindings(viewModel, $("#editor")[0]);
-
-    shareViewModel = initSharing("#documentShareModal");
-    shareViewModel.setDocId(-1);
-
-    $(document).on("showSubmitPopup", function(event, data){
-      $('#submit-wf-modal').html(data);
-      $('#submit-wf-modal').modal('show');
-    });
-
-    var oTable = $("#workflowTable").dataTable({
-      "sPaginationType":"bootstrap",
-      'iDisplayLength':50,
-      "bLengthChange":false,
-      "sDom": "<'row'r>t<'row-fluid'<'dt-pages'p><'dt-records'i>>",
-      "aoColumns":[
-        { "bSortable":false },
-        null,
-        null,
-        null,
-        { "sSortDataType":"dom-sort-value", "sType":"numeric" }
-      ],
-      "aaSorting":[
-        [4, 'desc'],
-        [1, 'asc' ]
-      ],
-      "oLanguage":{
-        "sEmptyTable":"${_('No data available')}",
-        "sInfo":"${_('Showing _START_ to _END_ of _TOTAL_ entries')}",
-        "sInfoEmpty":"${_('Showing 0 to 0 of 0 entries')}",
-        "sInfoFiltered":"${_('(filtered from _MAX_ total entries)')}",
-        "sZeroRecords":"${_('No matching records')}",
-        "oPaginate":{
-          "sFirst":"${_('First')}",
-          "sLast":"${_('Last')}",
-          "sNext":"${_('Next')}",
-          "sPrevious":"${_('Previous')}"
-        },
-        "bDestroy": true
-      },
-      "fnDrawCallback":function (oSettings) {
-        $("a[data-row-selector='true']").jHueRowSelector();
-      }
-    });
-
-    viewModel.datatable = oTable;
-
-    $("#filterInput").keydown(function (e) {
-      if (e.which == 13) {
-        e.preventDefault();
-        return false;
-      }
-    });
-
-    $("#filterInput").keyup(function () {
-      oTable.fnFilter($(this).val());
-    });
-
-    $("a[data-row-selector='true']").jHueRowSelector();
-  });
-</script>
-
-
-${commonfooter(messages) | n,unicode}
diff --git a/apps/oozie/src/oozie/templates/editor/submit_job_popup2.mako b/apps/oozie/src/oozie/templates/editor/submit_job_popup2.mako
deleted file mode 100644
index 4f226c3..0000000
--- a/apps/oozie/src/oozie/templates/editor/submit_job_popup2.mako
+++ /dev/null
@@ -1,138 +0,0 @@
-## Licensed to Cloudera, Inc. under one
-## or more contributor license agreements.  See the NOTICE file
-## distributed with this work for additional information
-## regarding copyright ownership.  Cloudera, Inc. licenses this file
-## to you under the Apache License, Version 2.0 (the
-## "License"); you may not use this file except in compliance
-## with the License.  You may obtain a copy of the License at
-##
-##     http://www.apache.org/licenses/LICENSE-2.0
-##
-## Unless required by applicable law or agreed to in writing, software
-## distributed under the License is distributed on an "AS IS" BASIS,
-## WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
-## See the License for the specific language governing permissions and
-## limitations under the License.
-
-<%!
-  from django.utils.translation import ugettext as _
-%>
-
-<%namespace name="utils" file="../utils.inc.mako" />
-
-<link rel="stylesheet" href="/oozie/static/css/common-editor.css">
-
-<form action="${ action }" method="POST" class="form submit-form">
-  ${ csrf_token(request) | n,unicode }
-  <div class="modal-header">
-    <a href="#" class="close" data-dismiss="modal">&times;</a>
-    <h3>${ _('Submit %(job)s?') % {'job': name} }</h3>
-  </div>
-  <div class="modal-body">
-    
-      <div id="param-container">
-
-       ${ params_form.management_form | n,unicode }
-
-       % for form in params_form.forms:
-          % for hidden in form.hidden_fields():
-            ${ hidden | n,unicode }
-          % endfor
-
-          <div class="control-group"
-            % if form['name'].form.initial.get('name') == 'oozie.use.system.libpath':
-                style="display: none"
-            % endif
-          ">
-            <label class="control-label">${ form['name'].form.initial.get('name') }</label>
-            <div class="controls">
-              ${ utils.render_field(form['value'], show_label=False, extra_attrs={'class': 'filechooser-input input-xlarge'}) }
-              <div class="btn-group">
-                <a class="btn btn-default dropdown-toggle" data-toggle="dropdown">
-                  <i class="fa fa-calendar"></i>
-                  <span class="caret"></span>
-                </a>
-                <ul class="dropdown-menu pull-right" role="menu">
-                  <li>
-                    <a class="pointer now-link">
-                      ${ _('Now') }
-                    </a>
-                    <a class="pointer calendar-link">
-                      ${ _('Calendar') }
-                    </a>
-                  </li>
-                </ul>
-                </div>
-            </div>
-          </div>
-
-         % endfor
-      </div>
-
-  </div>
-  <div class="modal-footer">
-    <a href="#" class="btn" data-dismiss="modal">${ _('Cancel') }</a>
-    <input id="submit-btn" type="submit" class="btn btn-primary" value="${ _('Submit') }"/>
-  </div>
-</form>
-
-<div id="chooseFile" class="modal hide fade">
-  <div class="modal-header">
-      <a href="#" class="close" data-dismiss="modal">&times;</a>
-      <h3>${_('Choose a file')}</h3>
-  </div>
-  <div class="modal-body">
-      <div id="filechooser">
-      </div>
-  </div>
-  <div class="modal-footer">
-  </div>
-</div>
-
-
-<script src="/static/js/ko.hue-bindings.js"></script>
-<link rel="stylesheet" href="/static/ext/css/bootstrap-datepicker.min.css" type="text/css" media="screen" title="no title" charset="utf-8" />
-<link rel="stylesheet" href="/static/ext/css/bootstrap-timepicker.min.css" type="text/css" media="screen" title="no title" charset="utf-8" />
-
-<style type="text/css">
-  .datepicker {
-    z-index: 4999;
-  }
-  #param-container input[type="text"].filechooser-input.input-xlarge {
-    width: 450px;
-  }
-  #param-container .control-group {
-    float: left;
-  }
-  #param-container .btn-group {
-    margin-left: 10px;
-  }
-}
-</style>
-
-<script src="/static/ext/js/moment.min.js" type="text/javascript" charset="utf-8"></script>
-<script src="/static/ext/js/bootstrap-datepicker.min.js" type="text/javascript" charset="utf-8"></script>
-<script src="/static/ext/js/bootstrap-timepicker.min.js" type="text/javascript" charset="utf-8"></script>
-
-<script type="text/javascript">
-  $('.submit-form .filechooser-input').each(function(){
-    $(this).after(getFileBrowseButton($(this), true, null, true));
-  });
-
-  $(".now-link").on("click", function(){
-    $(this).parents(".controls").find("input[type='text']").val(moment().format("YYYY-MM-DD[T]HH:mm") + 'Z');
-  });
-
-  $(".calendar-link").on("click", function(){
-    var DATE_FORMAT = "YYYY-MM-DD";
-    var _el = $(this).parents(".controls").find("input[type='text']");
-    _el.datepicker({
-      format: DATE_FORMAT.toLowerCase()
-     }).on("changeDate", function () {
-      _el.datepicker('hide');
-      _el.val(_el.val() + "T00:00Z");
-    });
-   _el.datepicker('show');
-  }); 
-</script>
-
diff --git a/apps/oozie/src/oozie/templates/editor/workflow_editor.mako b/apps/oozie/src/oozie/templates/editor/workflow_editor.mako
deleted file mode 100644
index 62c0efa..0000000
--- a/apps/oozie/src/oozie/templates/editor/workflow_editor.mako
+++ /dev/null
@@ -1,2162 +0,0 @@
-## Licensed to Cloudera, Inc. under one
-## or more contributor license agreements.  See the NOTICE file
-## distributed with this work for additional information
-## regarding copyright ownership.  Cloudera, Inc. licenses this file
-## to you under the Apache License, Version 2.0 (the
-## "License"); you may not use this file except in compliance
-## with the License.  You may obtain a copy of the License at
-##
-##     http://www.apache.org/licenses/LICENSE-2.0
-##
-## Unless required by applicable law or agreed to in writing, software
-## distributed under the License is distributed on an "AS IS" BASIS,
-## WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
-## See the License for the specific language governing permissions and
-## limitations under the License.
-<%!
-from desktop.views import commonheader, commonfooter, commonshare
-from django.utils.translation import ugettext as _
-%>
-
-<%namespace name="dashboard" file="/common_dashboard.mako" />
-<%namespace name="utils" file="../utils.inc.mako" />
-
-${ commonheader(_("Workflow Editor"), "Oozie", user, "40px") | n,unicode }
-
-<script type="text/javascript">
-  if (window.location.hash != "") {
-    if (window.location.hash.indexOf("workflow") > -1) {
-      location.href = "/oozie/editor/workflow/edit/?" + window.location.hash.substr(1);
-    }
-  }
-</script>
-
-
-<div id="editor">
-
-<%dashboard:layout_toolbar>
-  <%def name="skipLayout()"></%def>
-  <%def name="widgetSectionName()">${ _('ACTIONS') }</%def>
-  <%def name="widgets()">
-    <div data-bind="css: { 'draggable-widget': true },
-                    draggable: {data: draggableHiveAction(), isEnabled: true,
-                    options: {'refreshPositions': true, 'stop': function(){ $root.isDragging(false); }, 'start': function(event, ui){ $root.isDragging(true); $root.currentlyDraggedWidget(draggableHiveAction());}}}"
-         title="${_('Hive Script')}" rel="tooltip" data-placement="top">
-         <a class="draggable-icon"><img src="/oozie/static/art/icon_beeswax_48.png" class="app-icon"></a>
-    </div>
-
-    <div data-bind="css: { 'draggable-widget': true },
-                    draggable: {data: draggableHive2Action(), isEnabled: true,
-                    options: {'refreshPositions': true, 'stop': function(){ $root.isDragging(false); }, 'start': function(event, ui){ $root.isDragging(true); $root.currentlyDraggedWidget(draggableHive2Action());}}}"
-         title="${_('HiveServer2 Script')}" rel="tooltip" data-placement="top">
-         <a class="draggable-icon"><img src="/oozie/static/art/icon_beeswax_48.png" class="app-icon"><sup style="color: #338bb8; margin-left: -4px; top: -14px; font-size: 12px">2</sup></a>
-    </div>
-
-    <div data-bind="css: { 'draggable-widget': true},
-                    draggable: {data: draggablePigAction(), isEnabled: true,
-                    options: {'refreshPositions': true, 'stop': function(){ $root.isDragging(false); }, 'start': function(event, ui){ $root.isDragging(true); $root.currentlyDraggedWidget(draggablePigAction());}}}"
-         title="${_('Pig Script')}" rel="tooltip" data-placement="top">
-         <a class="draggable-icon"><img src="/oozie/static/art/icon_pig_48.png" class="app-icon"></a>
-    </div>
-
-    <div data-bind="css: { 'draggable-widget': true },
-                    draggable: {data: draggableJavaAction(), isEnabled: true,
-                    options: {'refreshPositions': true, 'stop': function(){ $root.isDragging(false); }, 'start': function(event, ui){ $root.isDragging(true); $root.currentlyDraggedWidget(draggableJavaAction());}}}"
-         title="${_('Java program')}" rel="tooltip" data-placement="top">
-         <a class="draggable-icon"><i class="fa fa-file-code-o"></i></a>
-    </div>
-
-    <div data-bind="css: { 'draggable-widget': true },
-                    draggable: {data: draggableSqoopAction(), isEnabled: true,
-                    options: {'refreshPositions': true, 'stop': function(){ $root.isDragging(false); }, 'start': function(event, ui){ $root.isDragging(true); $root.currentlyDraggedWidget(draggableSqoopAction());}}}"
-         title="${_('Sqoop 1')}" rel="tooltip" data-placement="top">
-         <a class="draggable-icon"><img src="/oozie/static/art/icon_sqoop_48.png" class="app-icon"></a>
-    </div>
-
-    <div data-bind="css: { 'draggable-widget': true },
-                    draggable: {data: draggableMapReduceAction(), isEnabled: true,
-                    options: {'refreshPositions': true, 'stop': function(){ $root.isDragging(false); }, 'start': function(event, ui){ $root.isDragging(true); $root.currentlyDraggedWidget(draggableMapReduceAction());}}}"
-         title="${_('MapReduce job')}" rel="tooltip" data-placement="top">
-         <a class="draggable-icon"><i class="fa fa-file-archive-o"></i></a>
-    </div>
-
-    <div data-bind="css: { 'draggable-widget': true },
-                    draggable: {data: draggableSubworkflowAction(), isEnabled: true,
-                    options: {'refreshPositions': true, 'stop': function(){ $root.isDragging(false); }, 'start': function(event, ui){ $root.isDragging(true); $root.currentlyDraggedWidget(draggableSubworkflowAction());}}}"
-         title="${_('Sub workflow')}" rel="tooltip" data-placement="top">
-         <a class="draggable-icon"><i class="fa fa-code-fork"></i></a>
-    </div>
-
-    <div data-bind="css: { 'draggable-widget': true },
-                    draggable: {data: draggableShellAction(), isEnabled: true,
-                    options: {'refreshPositions': true, 'stop': function(){ $root.isDragging(false); }, 'start': function(event, ui){ $root.isDragging(true); $root.currentlyDraggedWidget(draggableShellAction());}}}"
-         title="${_('Shell')}" rel="tooltip" data-placement="top">
-         <a class="draggable-icon"><i class="fa fa-terminal"></i></a>
-    </div>
-
-    <div data-bind="css: { 'draggable-widget': true },
-                    draggable: {data: draggableSshAction(), isEnabled: true,
-                    options: {'refreshPositions': true, 'stop': function(){ $root.isDragging(false); }, 'start': function(event, ui){ $root.isDragging(true); $root.currentlyDraggedWidget(draggableSshAction());}}}"
-         title="${_('Ssh')}" rel="tooltip" data-placement="top">
-         <a class="draggable-icon"><i class="fa fa-tty"></i></a>
-    </div>
-
-    <div data-bind="css: { 'draggable-widget': true },
-                    draggable: {data: draggableFsAction(), isEnabled: true,
-                    options: {'refreshPositions': true, 'stop': function(){ $root.isDragging(false); }, 'start': function(event, ui){ $root.isDragging(true); $root.currentlyDraggedWidget(draggableFsAction());}}}"
-         title="${_('HDFS Fs')}" rel="tooltip" data-placement="top">
-         <a class="draggable-icon"><i class="fa fa-file-o"></i></a>
-    </div>
-
-    <div data-bind="css: { 'draggable-widget': true },
-                    draggable: {data: draggableEmailAction(), isEnabled: true,
-                    options: {'refreshPositions': true, 'stop': function(){ $root.isDragging(false); }, 'start': function(event, ui){ $root.isDragging(true); $root.currentlyDraggedWidget(draggableEmailAction());}}}"
-         title="${_('Email')}" rel="tooltip" data-placement="top">
-         <a class="draggable-icon"><i class="fa fa-envelope-o"></i></a>
-    </div>
-
-    <div data-bind="css: { 'draggable-widget': true },
-                    draggable: {data: draggableStreamingAction(), isEnabled: true,
-                    options: {'refreshPositions': true, 'stop': function(){ $root.isDragging(false); }, 'start': function(event, ui){ $root.isDragging(true); $root.currentlyDraggedWidget(draggableStreamingAction());}}}"
-         title="${_('Streaming')}" rel="tooltip" data-placement="top">
-         <a class="draggable-icon"><i class="fa fa-exchange"></i></a>
-    </div>
-
-    <div data-bind="css: { 'draggable-widget': true },
-                    draggable: {data: draggableDistCpAction(), isEnabled: true,
-                    options: {'refreshPositions': true, 'stop': function(){ $root.isDragging(false); }, 'start': function(event, ui){ $root.isDragging(true); $root.currentlyDraggedWidget(draggableDistCpAction());}}}"
-         title="${_('Distcp')}" rel="tooltip" data-placement="top">
-         <a class="draggable-icon"><i class="fa fa-files-o"></i></a>
-    </div>
-
-    <div data-bind="css: { 'draggable-widget': true },
-                    draggable: {data: draggableKillNode(), isEnabled: true,
-                    options: {'refreshPositions': true, 'stop': function(){ $root.isDragging(false); }, 'start': function(event, ui){ $root.isDragging(true); $root.currentlyDraggedWidget(draggableKillNode());}}}"
-         title="${_('Kill')}" rel="tooltip" data-placement="top">
-         <a class="draggable-icon"><i class="fa fa-stop"></i></a>
-    </div>
-</%def>
-</%dashboard:layout_toolbar>
-
-
-
-<div class="search-bar">
-  <div class="pull-right" style="padding-right:50px">
-
-    <span data-bind="visible: workflow.isDirty() || workflow.id() == null" class="muted">${ _('Unsaved') }&nbsp;&nbsp;&nbsp;</span>
-
-    <a title="${ _('Submit') }" rel="tooltip" data-placement="bottom" data-bind="click: showSubmitPopup, css: {'btn': true, 'disabled': workflow.isDirty()}, visible: workflow.id() != null">
-      <i class="fa fa-fw fa-play"></i>
-    </a>
-    <a title="${ _('Schedule') }" rel="tooltip" data-placement="bottom" data-bind="click: showSubmitPopup, css: {'btn': true, 'disabled': workflow.isDirty()}, visible: workflow.id() != null">
-      <i class="fa fa-fw fa-calendar"></i>
-    </a>
-
-    &nbsp;&nbsp;&nbsp;
-    
-    <a title="${ _('Edit') }" rel="tooltip" data-placement="bottom" data-bind="click: toggleEditing, css: {'btn': true, 'btn-inverse': isEditing}, visible: canEdit">
-      <i class="fa fa-fw fa-pencil"></i>
-    </a>
-
-    &nbsp;&nbsp;&nbsp;
-
-    <button type="button" title="${ _('Settings') }" rel="tooltip" data-placement="bottom" data-toggle="modal" data-target="#settingsModal" data-bind="css: {'btn': true}, visible: canEdit">
-      <i class="fa fa-fw fa-cog"></i>
-    </button>
-
-    <a title="${ _('Workspace') }" target="_blank" rel="tooltip" data-placement="right"
-        data-original-title="${ _('Go upload additional files and libraries to the deployment directory on HDFS') }"
-        data-bind="css: {'btn': true}, attr: { href: '/filebrowser/view' + $root.workflow.properties.deployment_dir() }">
-      <i class="fa fa-fw fa-folder-open"></i>
-    </a>
-
-    &nbsp;&nbsp;&nbsp;
-
-    <button type="button" title="${ _('Save') }" rel="tooltip" data-placement="bottom" data-loading-text="${ _("Saving...") }" data-bind="click: $root.save, css: {'btn': true}, visible: canEdit">
-      <i class="fa fa-fw fa-save"></i>
-    </button>
-
-    <a class="share-link btn" rel="tooltip" data-placement="bottom" data-bind="click: openShareModal,
-        attr: {'data-original-title': '${ _("Share") } ' + name},
-        css: {'isShared': isShared(), 'btn': true},
-        visible: workflow.id() != null && canEdit()">
-      <i class="fa fa-users"></i>
-    </a>
-
-    &nbsp;&nbsp;&nbsp;
-
-    <a class="btn" href="${ url('oozie:new_workflow') }" title="${ _('New') }" rel="tooltip" data-placement="bottom" data-bind="css: {'btn': true}">
-      <i class="fa fa-fw fa-file-o"></i>
-    </a>
-
-    <a class="btn" href="${ url('oozie:list_editor_workflows') }" title="${ _('Workflows') }" rel="tooltip" data-placement="bottom" data-bind="css: {'btn': true}">
-      <i class="fa fa-fw fa-tags"></i>
-    </a>
-  </div>
-
-
-  <form class="form-search">
-    <div class="inline object-name">
-      <span data-bind="editable: $root.workflow.name, editableOptions: {enabled: $root.isEditing(), placement: 'right'}"></span>
-    </div>
-    <div class="inline object-description">
-      <span data-bind="editable: $root.workflow.properties.description, editableOptions: {enabled: $root.isEditing(), placement: 'right', emptytext: '${_('Add a description...')}'}"></span>
-    </div>
-    
-    <!-- ko if: $root.workflow.properties.imported -->
-    <div class="inline alert alert-warn" style="margin-left:100px">
-      ${ _('This workflow was imported from an old Hue version, save it to create a copy in the new format or') }
-      <a data-bind="attr: { href: '/oozie/edit_workflow/' + $root.workflow.properties.wf1_id() }">${ _('open it in the old editor.') }</a>
-    </div>
-    <!-- /ko -->
-  </form>
-</div>
-
-
-<div id="emptyDashboard" data-bind="fadeVisible: !isEditing() && oozieColumns().length == 0">
-  <div style="float:left; padding-top: 90px; margin-right: 20px; text-align: center; width: 260px">${ _('Click on the pencil to get started with your dashboard!') }</div>
-  <img src="/static/art/hint_arrow.png" />
-</div>
-
-<div id="emptyDashboardEditing" data-bind="fadeVisible: isEditing() && oozieColumns().length == 0 && previewColumns() == ''">
-  <div style="float:right; padding-top: 90px; margin-left: 20px; text-align: center; width: 260px">${ _('Pick an index and Click on a layout to start your dashboard!') }</div>
-  <img src="/static/art/hint_arrow_horiz_flipped.png" />
-</div>
-
-
-<div data-bind="css: {'dashboard': true, 'readonly': ! isEditing()}">
-  <div class="container-fluid">
-    <div class="row-fluid" data-bind="template: { name: 'column-template', foreach: oozieColumns}">
-    </div>
-    <div class="clearfix"></div>
-  </div>
-</div>
-
-
-<script type="text/html" id="column-template">
-  <div data-bind="css: klass()" style="min-height: 50px !important;">
-    <div data-bind="template: { name: 'row-template', data: oozieStartRow }" style="margin-top: 50px"></div>
-
-    <div class="container-fluid" data-bind="visible: $root.isEditing() && oozieRows().length > 0">
-      <div class="row-fluid">
-        <div data-bind="visible: enableOozieDropOnBefore, css: {'span4 offset4': true, 'drop-target': true, 'drop-target-dragging': $root.isDragging(), 'is-editing': $root.isEditing}, droppable: {enabled: $root.isEditing, onDrop: function(x, y){ var _w = $root.addDraggedWidget($data, true); widgetDraggedAdditionalHandler(_w); } }"></div>
-        <div data-bind="visible: ! enableOozieDropOnBefore(), css: {'drop-target drop-target-disabled': true, 'drop-target-dragging': $root.isDragging(), 'is-editing': $root.isEditing}"></div>
-      </div>
-    </div>
-    <div data-bind="template: { name: 'internal-row-template', foreach: oozieRows}">
-    </div>
-    <div class="container-fluid" data-bind="visible: $root.isEditing() && rows().length > 0">
-      <div class="row-fluid">
-        <div data-bind="visible: enableOozieDropOnAfter, css: {'span4 offset4': true, 'drop-target': true, 'drop-target-dragging': $root.isDragging(), 'is-editing': $root.isEditing}, droppable: {enabled: $root.isEditing, onDrop: function(){ var _w = $root.addDraggedWidget($data, false); widgetDraggedAdditionalHandler(_w); } }">
-          <span data-bind="visible: oozieRows().length == 0">${ _('Drop your action here') }</span>
-        </div>
-        <div data-bind="visible: ! enableOozieDropOnAfter(), css: {'drop-target drop-target-disabled': true, 'drop-target-dragging': $root.isDragging(), 'is-editing': $root.isEditing}"></div>
-      </div>
-    </div>
-
-    <div data-bind="template: { name: 'row-template', data: oozieEndRow }"></div>
-
-    <div data-bind="template: { name: 'row-template', data: oozieKillRow }" style="margin-top: 60px"></div>
-  </div>
-</script>
-
-
-<script type="text/html" id="internal-column-template">
-  <div data-bind="css: klass(), style: {'minHeight': '50px !important', 'width': percWidth() + '%' }">
-    <div class="container-fluid" data-bind="visible: $root.isEditing()">
-      <div data-bind="visible: ! enableOozieDropOnBefore(), css: {'drop-target drop-target-disabled': true, 'drop-target-dragging': $root.isDragging(), 'is-editing': $root.isEditing}"></div>
-      <div data-bind="visible: enableOozieDropOnBefore, css: {'drop-target': true, 'drop-target-dragging': $root.isDragging(), 'is-editing': $root.isEditing}, droppable: {enabled: $root.isEditing, onDrop: function(){ var _w = $root.addDraggedWidget($data, true); widgetDraggedAdditionalHandler(_w); } }"></div>
-    </div>
-    <div data-bind="template: { name: 'internal-row-template', foreach: rows}">
-    </div>
-    <div class="container-fluid" data-bind="visible: $root.isEditing()">
-      <div data-bind="visible: ! enableOozieDropOnAfter(), css: {'drop-target drop-target-disabled': true, 'drop-target-dragging': $root.isDragging(), 'is-editing': $root.isEditing}"></div>
-      <div data-bind="visible: enableOozieDropOnAfter, css: {'drop-target': true, 'drop-target-dragging': $root.isDragging(), 'is-editing': $root.isEditing}, droppable: {enabled: $root.isEditing, onDrop: function(){ var _w = $root.addDraggedWidget($data, false); widgetDraggedAdditionalHandler(_w); } }"></div>
-    </div>
-  </div>
-</script>
-
-
-<script type="text/html" id="row-template">
-  <div class="container-fluid">
-    <div class="row-fluid">
-      <div class="span4 offset4">
-        <div data-bind="css: {'row-fluid': true, 'row-container':true, 'is-editing': $root.isEditing},
-          sortable: { template: 'widget-template', data: widgets, allowDrop: $root.isEditing() && widgets().length < 1, isEnabled: $root.isEditing() && widgets().length < 1,
-          options: {'opacity': 0.7, 'placeholder': 'row-highlight', 'greedy': true,
-              'stop': function(event, ui){},
-              'helper': function(event){lastWindowScrollPosition = $(window).scrollTop(); var _par = $('<div>');_par.addClass('card card-widget');var _title = $('<h2>');_title.addClass('card-heading simple');_title.text($(event.toElement).text());_title.appendTo(_par);_par.height(80);_par.width(180);return _par;}},
-              dragged: function(widget){widgetDraggedAdditionalHandler(widget)}}">
-        </div>
-      </div>
-    </div>
-  </div>
-</script>
-
-<script type="text/html" id="internal-row-template">
-  <div class="container-fluid">
-    <div class="row-fluid" data-bind="visible: $index() > 0 && $root.isEditing() && ! $root.isRowBeforeJoin($data) && ! $root.isRowAfterFork($data)" style="margin-bottom: 10px">
-      <div data-bind="css: {'span1': true, 'offset3andhalf': ($root.isEditing() && $parents.length <= 2 && columns().length == 0), 'offset4': (!$root.isEditing() && $parents.length <= 2 && columns().length == 0), 'readonly': ! $root.isEditing()}"></div>
-      <div data-bind="css: {'span10': ($parents.length > 2 || columns().length > 0), 'span4': ($parents.length <= 2 && columns().length == 0), 'offset3andhalf': (!$root.isEditing() && $parents.length <= 2 && columns().length == 0), 'readonly': ! $root.isEditing()}">
-        <div data-bind="visible: $root.isEditing() && ! enableOozieDropOnBefore(), css: {'drop-target drop-target-disabled': true, 'drop-target-dragging': $root.isDragging(), 'is-editing': $root.isEditing}"></div>
-        <div style="text-align: left" data-bind="visible: $root.isEditing() && enableOozieDropOnBefore(), css: {'drop-target': true, 'drop-target-dragging': $root.isDragging(), 'is-editing': $root.isEditing}, droppable: {enabled: $root.isEditing, onDrop: function(){ var _w = $root.addDraggedWidget($data); widgetDraggedAdditionalHandler(_w); } }"></div>
-      </div>
-      <div data-bind="css: {'span1': true, 'readonly': ! $root.isEditing()}"></div>
-    </div>
-    <div class="row-fluid" data-bind="style: {'width': columns().length < 5 ? '100%' : (columns().length * 25)+'%' }">
-      <div data-bind="css: {'span1': true, 'offset3andhalf': ($root.isEditing() && $parents.length <= 2 && columns().length == 0), 'offset4': (!$root.isEditing() && $parents.length <= 2 && columns().length == 0), 'readonly': ! $root.isEditing()}">
-        <div data-bind="visible: $root.isEditing() && enableOozieDropOnSide() && !($data.widgets().length > 0 && ['join-widget', 'decision-widget'].indexOf($data.widgets()[0].widgetType()) > -1), css: {'drop-target drop-target-side': true, 'drop-target-dragging': $root.isDragging(), 'is-editing': $root.isEditing}, droppable: {enabled: $root.isEditing, onDrop: function(){ var _w = $root.addSideDraggedWidget($data, true); widgetDraggedAdditionalHandler(_w); } }"></div>
-      </div>
-      <div  data-bind="css: {'span10': ($parents.length > 2 || columns().length > 0), 'span4': ($parents.length <= 2 && columns().length == 0), 'offset3andhalf': (!$root.isEditing() && $parents.length <= 2 && columns().length == 0), 'readonly': ! $root.isEditing()}">
-        <div data-bind="visible: columns().length == 0, css: {'row-fluid': true, 'row-container':true, 'is-editing': $root.isEditing},
-          sortable: { template: 'widget-template', data: widgets, allowDrop: enableOozieDrop, isEnabled: enableOozieDrop,
-          options: {'opacity': 0.7, 'placeholder': 'row-highlight', 'greedy': true,
-              'stop': function(event, ui){},
-              'helper': function(event){lastWindowScrollPosition = $(window).scrollTop();  var _par = $('<div>');_par.addClass('card card-widget');var _title = $('<h2>');_title.addClass('card-heading simple');_title.text($(event.toElement).text());_title.appendTo(_par);_par.height(80);_par.width(180);return _par;}},
-              dragged: function(widget){widgetDraggedAdditionalHandler(widget)}}">
-        </div>
-        <div class="container-fluid" data-bind="visible: columns().length > 0">
-          <div data-bind="css: {'row-fluid': true, 'row-container':true, 'is-editing': $root.isEditing}">
-            <div data-bind="template: { name: 'internal-column-template', foreach: columns}">
-            </div>
-          </div>
-        </div>
-      </div>
-      <div  data-bind="css: {'span1': true, 'readonly no-margin': ! $root.isEditing()}, style: {'margin': ! $root.isEditing() ? '0':''}">
-        <div data-bind="visible: $root.isEditing() && enableOozieDropOnSide() && !($data.widgets().length > 0 && ['join-widget', 'decision-widget'].indexOf($data.widgets()[0].widgetType()) > -1), css: {'drop-target drop-target-side': true, 'drop-target-dragging': $root.isDragging(), 'is-editing': $root.isEditing}, droppable: {enabled: $root.isEditing, onDrop: function(){ var _w = $root.addSideDraggedWidget($data, false); widgetDraggedAdditionalHandler(_w); } }"></div>
-      </div>
-    </div>
-  </div>
-
-</script>
-
-<script type="text/html" id="widget-template">
-  <div data-bind="attr: {'id': 'wdg_'+ id(),}, css: klass() + (ooziePropertiesExpanded()?' expanded-widget':''),
-      draggable: {data: $data, isEnabled: true, options: {'handle': '.move-widget', 'opacity': 0.7, 'refreshPositions': true, 'start': function(event, ui){ $root.setCurrentlyDraggedWidget($data, event.toElement); $root.isDragging(true); }, 'stop': function(event, ui){ $root.enableSideDrop($data); $root.isDragging(false); }, 'helper': function(event){lastWindowScrollPosition = $(window).scrollTop();  var _par = $('<div>');_par.addClass('card card-widget');var _title = $('<h2>');_title.addClass('card-heading simple');_title.text($(event.currentTarget).find('h2').text());_title.appendTo(_par);_par.css('minHeight', '10px');_par.width(120);return _par;}}}">
-    <h2 class="card-heading simple" data-bind="visible: widgetType() != 'start-widget' && widgetType() != 'end-widget' &&
-        id() != '17c9c895-5a16-7443-bb81-f34b30b21548' && (['fork-widget', 'join-widget', 'decision-widget'].indexOf(widgetType()) == -1 || $root.isEditing())">
-
-      <span data-bind="visible: $root.isEditing() && oozieMovable() && ! oozieExpanded() && ! ooziePropertiesExpanded() && ($root.newAction() == null || $root.newAction().id() != id())">
-        <a href="javascript:void(0)" class="move-widget" title="${ _('Move node') }"><i class="fa fa-arrows"></i></a>
-        &nbsp;
-        <a href="javascript:void(0)" class="move-widget clone-widget" title="${ _('Copy node') }"><i class="fa fa-copy"></i></a>
-        &nbsp;
-      </span>
-
-      <!-- ko if: widgetType() == 'hive-widget' -->
-      <img src="/oozie/static/art/icon_beeswax_48.png" class="widget-icon">
-      <!-- /ko -->
-
-      <!-- ko if: widgetType() == 'hive2-widget' -->
-      <img src="/oozie/static/art/icon_beeswax_48.png" class="widget-icon"><sup style="color: #338bb8; margin-left: -4px">2</sup>
-      <!-- /ko -->
-
-      <!-- ko if: widgetType() == 'pig-widget' -->
-      <img src="/oozie/static/art/icon_pig_48.png" class="widget-icon">
-      <!-- /ko -->
-
-      <!-- ko if: widgetType() == 'java-widget' -->
-      <a class="widget-icon"><i class="fa fa-file-code-o"></i></a>
-      <!-- /ko -->
-
-      <!-- ko if: widgetType() == 'sqoop-widget' -->
-      <img src="/oozie/static/art/icon_sqoop_48.png" class="widget-icon">
-      <!-- /ko -->
-
-      <!-- ko if: widgetType() == 'mapreduce-widget' -->
-      <a class="widget-icon"><i class="fa fa-file-archive-o"></i></a>
-      <!-- /ko -->
-
-      <!-- ko if: widgetType() == 'subworkflow-widget' -->
-      <a class="widget-icon"><i class="fa fa-code-fork"></i></a>
-      <!-- /ko -->
-
-      <!-- ko if: widgetType() == 'shell-widget' -->
-      <a class="widget-icon"><i class="fa fa-terminal"></i></a>
-      <!-- /ko -->
-
-      <!-- ko if: widgetType() == 'ssh-widget' -->
-      <a class="widget-icon"><i class="fa fa-tty"></i></a>
-      <!-- /ko -->
-
-      <!-- ko if: widgetType() == 'fs-widget' -->
-      <a class="widget-icon"><i class="fa fa-file-o"></i></a>
-      <!-- /ko -->
-
-      <!-- ko if: widgetType() == 'email-widget' -->
-      <a class="widget-icon"><i class="fa fa-envelope-o"></i></a>
-      <!-- /ko -->
-
-      <!-- ko if: widgetType() == 'streaming-widget' -->
-      <a class="widget-icon"><i class="fa fa-exchange"></i></a>
-      <!-- /ko -->
-
-      <!-- ko if: widgetType() == 'distcp-widget' -->
-      <a class="widget-icon"><i class="fa fa-files-o"></i></a>
-      <!-- /ko -->
-
-      <!-- ko if: widgetType() == 'kill-widget' -->
-      <a class="widget-icon"><i class="fa fa-stop"></i></a>
-      <!-- /ko -->
-
-      <span data-bind="editable: name, editableOptions: {enabled: $root.isEditing(), placement: 'right'}, attr: {'title': id().slice(0, 4)}"></span>
-
-      <!-- ko if: widgetType() == 'decision-widget' -->
-        <div class="inline pull-right" data-bind="visible: $root.isEditing() && $root.workflow.getNodeById(id()) && $root.workflow.getNodeById(id()).children().length <= 1 && ! oozieExpanded() && ! ooziePropertiesExpanded()">
-          <a href="javascript:void(0)" data-bind="click: function(w){addActionDemiModalFieldCancel();$root.removeWidget(w);}"><i class="fa fa-times"></i></a>
-        </div>
-      <!-- /ko -->
-      <!-- ko if: widgetType() != 'decision-widget' -->
-        <div class="inline pull-right" data-bind="visible: $root.isEditing() && (['start-widget', 'end-widget', 'fork-widget', 'join-widget'].indexOf(widgetType()) == -1) && ! oozieExpanded() && ! ooziePropertiesExpanded()">
-          <a href="javascript:void(0)" data-bind="click: function(w){addActionDemiModalFieldCancel();$root.removeWidget(w);}"><i class="fa fa-times"></i></a>
-        </div>
-      <!-- /ko -->
-      <!-- ko if: ooziePropertiesExpanded() -->
-        <div class="inline pull-right">
-          <a href="javascript:void(0)" data-bind="click: toggleProperties"><i class="fa fa-caret-square-o-left"></i></a>
-        </div>
-      <!-- /ko -->
-    </h2>
-    <div class="card-body" style="padding: 0; position: relative">
-      <div class="advanced-triangle-container" data-bind="visible: $root.isEditing() && ! ooziePropertiesExpanded() && oozieMovable(), click: toggleProperties">
-        <div class="advanced-triangle">
-          <a href="javascript:void(0)"><i class="fa fa-cogs"></i></a>
-        </div>
-      </div>
-      <!-- ko if: id() == '17c9c895-5a16-7443-bb81-f34b30b21548' && ooziePropertiesExpanded() -->
-      <div class="advanced-triangle-container" data-bind="visible: $root.isEditing(), click: toggleProperties">
-        <div class="advanced-triangle">
-          <a href="javascript:void(0)"><i class="fa fa-caret-square-o-left"></i></a>
-        </div>
-      </div>
-      <!-- /ko -->
-      <div data-bind="template: { name: function() { return widgetType(); }}" class="widget-main-section"></div>
-    </div>
-  </div>
-</script>
-
-
-<script type="text/html" id="fork-widget">
-  <!-- ko if: $root.workflow.getNodeById(id()) -->
-  <div class="row-fluid" data-bind="with: $root.workflow.getNodeById(id())" style="min-height: 40px">
-    <div class="big-icon"><i class="fa fa-sitemap"></i></div>
-    <div data-bind="visible: $root.isEditing" style="padding-left: 10px; padding-bottom: 10px">
-      <a class="pointer" data-bind="click: function() { $root.convertToDecision($parent, $data) }">${_('Convert to Decision')} <i class="fa fa-wrench"></i></a>
-    </div>
-  </div>
-  <!-- /ko -->
-</script>
-
-
-<script type="text/html" id="join-widget">
-  <!-- ko if: $root.workflow.getNodeById(id()) -->
-  <div class="row-fluid" data-bind="with: $root.workflow.getNodeById(id())" style="min-height: 40px">
-    <div class="big-icon"><i class="fa fa-sitemap fa-rotate-180"></i></div>
-  </div>
-  <!-- /ko -->
-</script>
-
-
-<script type="text/html" id="decision-widget">
-  <!-- ko if: $root.workflow.getNodeById(id()) -->
-  <div class="row-fluid" data-bind="with: $root.workflow.getNodeById(id())" style="min-height: 40px">
-    <div class="big-icon" data-bind="visible: ! $root.isEditing()"><i class="fa fa-magic"></i></div>
-
-    <div data-bind="visible: $root.isEditing" style="padding: 10px">
-      <a class="custom-popover pull-right" href="javascript:void(0)" target="_blank" data-trigger="click" data-toggle="popover" data-placement="right" rel="popover" 
-        data-html="true" data-content="<strong>${ _('Examples of predicates:') }</strong><br/>
-                <br/>${'${'} fs:fileSize(secondjobOutputDir) gt 10 * GB }
-                <br/>
-                ${"${"} hadoop:counters('secondjob')[RECORDS][REDUCE_OUT] lt 1000000 }
-                <br/>
-                <a href='http://oozie.apache.org/docs/4.1.0/WorkflowFunctionalSpec.html#a4.2_Expression_Language_Functions'>${ _('Click for more') }</a>">
-          <i class="fa fa-question-circle" title="${ _('Click for more info') }"></i>
-      </a>    
-      <ul data-bind="foreach: children" class="unstyled">
-        <li>
-          ${ _('If') } <input type="text" data-bind="value: $data['condition']" />
-          ${ _('go to') }
-          <select data-bind="options: $root.workflow.nodeIds,
-                     optionsText: function(item) {return $root.workflow.nodeNamesMapping()[item]; },
-                     value: $data['to']
-                     ">
-          </select>
-          <a class="pointer" data-bind="click: function(){ $parent.children.remove(this);}">
-            <i class="fa fa-minus"></i>
-          </a>
-        </li>
-      </ul>
-      <a class="pointer" data-bind="click: function(){ children.push({'to': '', 'condition': '${'${'} 1 gt 0 }'});}">
-        ${ _('Jump to another node') } <i class="fa fa-plus"></i>
-      </a>
-    </div>
-  </div>
-  <!-- /ko -->
-</script>
-
-
-<script type="text/html" id="kill-widget">
-  <!-- ko if: $root.workflow.getNodeById(id()) -->
-  <div class="row-fluid" data-bind="with: $root.workflow.getNodeById(id())" style="min-height: 40px">
-    <div class="big-icon" data-bind="visible: id() == '17c9c895-5a16-7443-bb81-f34b30b21548'" title="${ _('It is where we finish if failure!') }"><i class="fa fa-stop"></i></div>
-
-    <div data-bind="visible: $root.isEditing">
-      <div data-bind="visible: $parent.ooziePropertiesExpanded">
-        <h6 class="field-title">${ _('Message') }</h6>
-        <textarea class="span12" data-bind="value: properties.message" />
-      </div>
-    </div>
-  </div>
-  <!-- /ko -->
-</script>
-
-
-<script type="text/html" id="start-widget">
-  <!-- ko if: $root.workflow.getNodeById(id()) -->
-  <div class="row-fluid" data-bind="with: $root.workflow.getNodeById(id())" style="min-height: 40px;">
-    <div class="big-icon" title="${ _('It is where we start!') }"><i class="fa fa-flag-checkered"></i></div>
-  </div>
-  <!-- /ko -->
-</script>
-
-
-<script type="text/html" id="end-widget">
-  <!-- ko if: $root.workflow.getNodeById(id()) -->
-  <div class="row-fluid" data-bind="with: $root.workflow.getNodeById(id())" style="min-height: 40px">
-    <div class="big-icon" title="${ _('It is where we successfully finish!') }"><i class="fa fa-dot-circle-o"></i></div>
-  </div>
-  <!-- /ko -->
-</script>
-
-
-<script type="text/html" id="common-action-properties">
-  <div class="properties">
-    <h6>${ _('Prepare') }</h6>
-    <ul data-bind="visible: properties.prepares().length > 0, foreach: properties.prepares" class="unstyled">
-      <li>
-        <div style="display: inline-block; width: 60px" data-bind="text: type"></div>
-        <input type="text" class="filechooser-input input-xlarge"
-            data-bind="filechooser: value, filechooserOptions: globalFilechooserOptions, value: value, attr: { placeholder: $root.workflow_properties.prepares.help_text }"/>
-        <a href="#" data-bind="click: function(){ $parent.properties.prepares.remove(this); $(document).trigger('drawArrows') }">
-          <i class="fa fa-minus"></i>
-        </a>
-      </li>
-    </ul>
-    <a class="pointer" data-bind="click: function(){ properties.prepares.push({'type': 'mkdir', 'value': ''}); $(document).trigger('drawArrows') }">
-      ${ _('Directory') } <i class="fa fa-plus"></i>
-    </a>
-    <a class="pointer" data-bind="click: function(){ properties.prepares.push({'type': 'delete', 'value': ''}); $(document).trigger('drawArrows') }">
-      ${ _('Delete') } <i class="fa fa-plus"></i>
-    </a>
-
-    <!-- ko if: properties.job_xml -->
-      <h6>${ _('Job XML') }</h6>
-      <input type="text" class="input-xlarge filechooser-input" data-bind="filechooser: properties.job_xml, filechooserOptions: globalFilechooserOptions, attr: { placeholder: $root.workflow_properties.job_xml.help_text }"/>
-    <!-- /ko -->
-
-    <h6>
-      <a class="pointer" data-bind="click: function(){ properties.job_properties.push({'name': '', 'value': ''}); $(document).trigger('drawArrows') }">
-        ${ _('Properties') } <i class="fa fa-plus"></i>
-      </a>
-    </h6>
-    <ul data-bind="visible: properties.job_properties().length > 0, foreach: properties.job_properties" class="unstyled">
-      <li>
-        <input type="text" data-bind="value: name" placeholder="${ _('name, e.g. mapred.job.queue.name') }"/>
-        <input type="text" class="filechooser-input input-xlarge" data-bind="filechooser: value, filechooserOptions: globalFilechooserOptions, value: value, attr: { placeholder: $root.workflow_properties.job_properties.help_text }"/>
-        <a href="#" data-bind="click: function(){ $parent.properties.job_properties.remove(this); $(document).trigger('drawArrows') }">
-          <i class="fa fa-minus"></i>
-        </a>
-      </li>
-    </ul>
-    <em data-bind="visible: properties.job_properties().length == 0">${ _('No properties defined.') }</em>
-
-    <h6>
-      <a class="pointer" data-bind="click: function(){ properties.archives.push(ko.mapping.fromJS({'name': ''})); $(document).trigger('drawArrows') }">
-        ${ _('Archives') } <i class="fa fa-plus"></i>
-      </a>
-    </h6>
-    <ul data-bind="visible: properties.archives().length > 0, foreach: properties.archives" class="unstyled">
-      <li>
-        <input type="text" class="filechooser-input input-xlarge" data-bind="filechooser: name(), filechooserFilter: 'zip,tar,tgz,tar.gz', filechooserOptions: globalFilechooserOptions, value: name, attr: { placeholder: $root.workflow_properties.archives.help_text }"/>
-        <span data-bind='template: { name: "common-fs-link", data: { path: name(), with_label: false} }'></span>
-        <a href="#" data-bind="click: function(){ $parent.properties.archives.remove(this); $(document).trigger('drawArrows') }">
-          <i class="fa fa-minus"></i>
-        </a>
-      </li>
-    </ul>
-    <em data-bind="visible: properties.archives().length == 0">${ _('No archives defined.') }</em>
-  </div>
-</script>
-
-
-<script type="text/html" id="common-properties-pig-arguments">
-  <h6>
-    <a class="pointer" data-bind="click: function(){ properties.arguments.push({'value': ''}); $(document).trigger('drawArrows') }">
-      ${ _('Arguments') } <i class="fa fa-plus"></i>
-    </a>
-  </h6>
-  <ul class="unstyled" data-bind="visible: properties.arguments().length > 0, foreach: properties.arguments">
-    <li>
-      <input type="text" class="input-medium" data-bind="value: value, attr: { placeholder: $root.workflow_properties.arguments.help_text }"/>
-      <a href="#" data-bind="click: function(){ $parent.properties.arguments.remove(this); $(document).trigger('drawArrows') }">
-        <i class="fa fa-minus"></i>
-      </a>
-    </li>
-  </ul>
-  <em data-bind="visible: properties.arguments().length == 0">${ _('No arguments defined.') }</em>
-</script>
-
-
-<script type="text/html" id="common-properties-arguments">
-  <h6>
-    <a class="pointer" data-bind="click: function(){ properties.arguments.push({'value': ''}); $(document).trigger('drawArrows') }">
-      ${ _('Arguments') } <i class="fa fa-plus"></i>
-    </a>
-  </h6>
-  <ul class="unstyled" data-bind="visible: properties.arguments().length > 0, foreach: properties.arguments">
-    <li style="margin-bottom: 3px">
-      <input type="text" class="span11" data-bind="value: value, attr: { placeholder: $root.workflow_properties.arguments.help_text }"/>
-      <a href="#" data-bind="click: function(){ $parent.properties.arguments.remove(this); $(document).trigger('drawArrows') }">
-        <i class="fa fa-minus"></i>
-      </a>
-    </li>
-  </ul>
-</script>
-
-
-<script type="text/html" id="common-properties-files">
-  <h6>
-    <a class="pointer" data-bind="click: function(){ properties.files.push(ko.mapping.fromJS({'value': ''})); $(document).trigger('drawArrows') }">
-      ${ _('Files') } <i class="fa fa-plus"></i>
-    </a>
-  </h6>
-  <ul class="unstyled" data-bind="foreach: properties.files">
-    <li style="margin-bottom: 3px">
-      <input type="text" class="filechooser-input" data-bind="filechooser: value, filechooserOptions: globalFilechooserOptions"/>
-      <span data-bind='template: { name: "common-fs-link", data: { path: value(), with_label: false} }'></span>
-      <a href="#" data-bind="click: function(){ $parent.properties.files.remove(this); $(document).trigger('drawArrows') }">
-        <i class="fa fa-minus"></i>
-      </a>
-    </li>
-  </ul>
-</script>
-
-
-<script type="text/html" id="common-properties-parameters">
-  <h6>
-    <a class="pointer" data-bind="click: function(){ properties.parameters.push(ko.mapping.fromJS({'value': ''})); $(document).trigger('drawArrows')}">
-      ${ _('Parameters') } <i class="fa fa-plus"></i>
-    </a>
-  </h6>
-  <ul class="unstyled" data-bind="foreach: properties.parameters">
-    <li style="margin-bottom: 3px">
-      <input type="text" class="filechooser-input seventy" data-bind="value: value, filechooser: value, filechooserOptions: globalFilechooserOptions, filechooserPrefixSeparator: '=', attr: { placeholder: ' ${ _("Fill me up!") }' }, typeahead: { target: value, source: $parent.actionParametersUI, sourceSuffix: '=', triggerOnFocus: true }"/>
-      <span data-bind='template: { name: "param-fs-link", data: {path: value()} }'></span>
-      <a href="#" data-bind="click: function(){ $parent.properties.parameters.remove(this); $(document).trigger('drawArrows') }">
-        <i class="fa fa-minus"></i>
-      </a>
-    </li>
-  </ul>
-</script>
-
-
-<script type="text/html" id="common-action-transition">
-  <!-- ko if: children().length == 2 -->
-  OK -->
-  <select data-bind="options: $root.workflow.nodeIds,
-      optionsText: function(item) {return $root.workflow.nodeNamesMapping()[item]; },
-      value: children()[0]['to']
-      ">
-  </select>
-  <br/>
-  KO -->
-  <select data-bind="options: $root.workflow.nodeIds,
-     optionsText: function(item) {return $root.workflow.nodeNamesMapping()[item]; },
-	 value: children()[1]['error']
-     ">
-  </select>
-  <!-- /ko -->
-</script>
-
-
-<script type="text/html" id="common-action-credentials">
-  <em data-bind="visible: $root.credentials() == null || $root.credentials().length == 0">${ _('No available credentials.') }</em>
-  <select data-bind="visible: $root.credentials() != null && $root.credentials().length > 0, options: $root.credentials, value: properties.credentials" size="5" multiple="true"></select>
-</script>
-
-
-<script type="text/html" id="common-action-sla">
-  <div data-bind="with: properties">
-     ${ utils.slaForm() }
-  </div>
-</script>
-
-
-<script type="text/html" id="common-fs-link">
-<!-- ko if: $data.path.length > 0 -->
-  <!-- ko if: with_label -->
-    <a data-bind="attr: {href: '/filebrowser/view' + ($data.path.indexOf('/') == -1 ? $root.workflow.properties.deployment_dir() + '/' : '') + $data.path , title: '${ _('Open') } '+ $data.path }" target="_blank">
-      <pan data-bind="text: $data.path.split('/').pop()"></span>
-    </a>
-  <!-- /ko -->
-
-   <!-- ko if: ! with_label -->
-     <a data-bind="attr: {href: '/filebrowser/view' + ($data.path.indexOf('/') == -1 ? $root.workflow.properties.deployment_dir() + '/' : '') + $data.path }" target="_blank" title="${ _('Open') }">
-       <i class="fa fa-external-link-square"></i>
-     </a>
-   <!-- /ko -->
- <!-- /ko -->
-</script>
-
-
-<script type="text/html" id="param-fs-link">
-  <!-- ko if: path.split('=', 2)[1] && path.split('=', 2)[1].charAt(0) == '/' -->
-    <a data-bind="attr: {href: '/filebrowser/view' + $data.path.split('=', 2)[1] }" target="_blank" title="${ _('Open') }">
-      <i class="fa fa-external-link-square"></i>
-    </a>
-  <!-- /ko -->
-</script>
-
-
-
-<script type="text/html" id="hive-widget">
-  <!-- ko if: $root.workflow.getNodeById(id()) -->
-  <div class="row-fluid" data-bind="with: $root.workflow.getNodeById(id())" style="padding: 10px">
-
-    <div data-bind="visible: ! $root.isEditing()">
-      <span data-bind='template: { name: "common-fs-link", data: {path: properties.script_path(), with_label: true} }'></span>
-    </div>
-
-    <div data-bind="visible: $root.isEditing">
-      <div data-bind="visible: ! $parent.ooziePropertiesExpanded()" class="nowrap">
-        <input type="text" style="width:25%" class="filechooser-input" data-bind="filechooser: properties.script_path, filechooserOptions: globalFilechooserOptions, attr: { placeholder:  $root.workflow_properties.script_path.help_text }"/>
-        <span data-bind='template: { name: "common-fs-link", data: {path: properties.script_path(), with_label: false}}'></span>
-
-        &nbsp;&nbsp;
-
-        <span data-bind="text: $root.workflow_properties.hive_xml.label"></span>      
-        <input type="text" style="width:25%" class="input-large filechooser-input" data-bind="filechooser: properties.hive_xml, filechooserOptions: globalFilechooserOptions, attr: { placeholder: $root.workflow_properties.hive_xml.help_text }"/>
-
-        <div class="row-fluid">
-          <div class="span6" data-bind="template: { name: 'common-properties-parameters' }"></div>
-          <div class="span6" data-bind="template: { name: 'common-properties-files' }"></div>
-        </div>
-      </div>
-    </div>
-
-    <div data-bind="visible: $parent.ooziePropertiesExpanded">
-      <ul class="nav nav-tabs">
-        <li class="active"><a data-bind="attr: { href: '#properties-' + id()}" data-toggle="tab">${ _('Properties') }</a></li>
-        <li><a data-bind="attr: { href: '#sla-' + id()}" href="#sla" data-toggle="tab">${ _('SLA') }</a></li>
-        <li><a data-bind="attr: { href: '#credentials-' + id()}" data-toggle="tab">${ _('Credentials') }</a></li>
-        <li><a data-bind="attr: { href: '#transitions-' + id()}" data-toggle="tab">${ _('Transitions') }</a></li>
-      </ul>
-      <div class="tab-content">
-        <div class="tab-pane active" data-bind="attr: { id: 'properties-' + id() }">
-          <span data-bind="template: { name: 'common-action-properties' }"></span>
-          <br/>
-          <br/>
-        </div>
-
-        <div class="tab-pane" data-bind="attr: { id: 'sla-' + id() }">
-          <span data-bind="template: { name: 'common-action-sla' }"></span>
-        </div>
-
-        <div class="tab-pane" data-bind="attr: { id: 'credentials-' + id() }">
-          <span data-bind="template: { name: 'common-action-credentials' }"></span>
-        </div>
-
-        <div class="tab-pane" data-bind="attr: { id: 'transitions-' + id() }">
-          <span data-bind="template: { name: 'common-action-transition' }"></span>
-        </div>
-      </div>
-    </div>
-  </div>
-  <!-- /ko -->
-</script>
-
-
-<script type="text/html" id="hive2-widget">
-  <!-- ko if: $root.workflow.getNodeById(id()) -->
-  <div class="row-fluid" data-bind="with: $root.workflow.getNodeById(id())" style="padding: 10px">
-
-    <div data-bind="visible: ! $root.isEditing()">
-      <span data-bind='template: { name: "common-fs-link", data: {path: properties.script_path(), with_label: true} }'></span>
-    </div>
-
-    <div data-bind="visible: $root.isEditing">
-      <div data-bind="visible: ! $parent.ooziePropertiesExpanded()" class="nowrap">
-        <input type="text" class="filechooser-input" data-bind="filechooser: properties.script_path, filechooserOptions: globalFilechooserOptions, attr: { placeholder:  $root.workflow_properties.script_path.help_text }"/>
-        <span data-bind='template: { name: "common-fs-link", data: {path: properties.script_path(), with_label: false}}'></span>
-
-        <div class="row-fluid">
-          <div class="span6" data-bind="template: { name: 'common-properties-parameters' }"></div>
-          <div class="span6" data-bind="template: { name: 'common-properties-files' }"></div>
-        </div>
-      </div>
-    </div>
-
-
-    <div data-bind="visible: $parent.ooziePropertiesExpanded">
-      <ul class="nav nav-tabs">
-        <li class="active"><a data-bind="attr: { href: '#properties-' + id()}" data-toggle="tab">${ _('Properties') }</a></li>
-        <li><a data-bind="attr: { href: '#sla-' + id()}" href="#sla" data-toggle="tab">${ _('SLA') }</a></li>
-        <li><a data-bind="attr: { href: '#credentials-' + id()}" data-toggle="tab">${ _('Credentials') }</a></li>
-        <li><a data-bind="attr: { href: '#transitions-' + id()}" data-toggle="tab">${ _('Transitions') }</a></li>
-      </ul>
-      <div class="tab-content">
-        <div class="tab-pane active" data-bind="attr: { id: 'properties-' + id() }">
-          <span data-bind="text: $root.workflow_properties.jdbc_url.label"></span>
-          <input type="text" data-bind="value: properties.jdbc_url" />
-          <br/>
-          <span data-bind="text: $root.workflow_properties.password.label"></span>
-          <input type="text" data-bind="value: properties.password" />
-          <br/>
-          <span data-bind="template: { name: 'common-action-properties' }"></span>
-          <br/>
-          <br/>
-        </div>
-
-        <div class="tab-pane" data-bind="attr: { id: 'sla-' + id() }">
-          <span data-bind="template: { name: 'common-action-sla' }"></span>
-        </div>
-
-        <div class="tab-pane" data-bind="attr: { id: 'credentials-' + id() }">
-          <span data-bind="template: { name: 'common-action-credentials' }"></span>
-        </div>
-
-        <div class="tab-pane" data-bind="attr: { id: 'transitions-' + id() }">
-          <span data-bind="template: { name: 'common-action-transition' }"></span>
-        </div>
-      </div>
-    </div>
-  </div>
-  <!-- /ko -->
-</script>
-
-
-<script type="text/html" id="pig-widget">
-  <!-- ko if: $root.workflow.getNodeById(id()) -->
-  <div class="row-fluid" data-bind="with: $root.workflow.getNodeById(id())" style="padding: 10px">
-
-    <div data-bind="visible: ! $root.isEditing()">
-      <span data-bind='template: { name: "common-fs-link", data: {path: properties.script_path(), with_label: true} }'></span>
-    </div>
-
-    <div data-bind="visible: $root.isEditing">
-      <div data-bind="visible: ! $parent.ooziePropertiesExpanded()" class="nowrap">
-        <input type="text" class="filechooser-input" data-bind="filechooser: properties.script_path, filechooserOptions: globalFilechooserOptions, hdfsAutocomplete: properties.script_path, attr: { placeholder:  $root.workflow_properties.script_path.help_text }" />
-        <span data-bind='template: { name: "common-fs-link", data: {path: properties.script_path(), with_label: false}}'></span>
-
-        <div class="row-fluid">
-          <div class="span6" data-bind="template: { name: 'common-properties-parameters' }"></div>
-          <div class="span6" data-bind="template: { name: 'common-properties-files' }"></div>
-        </div>
-
-      </div>
-    </div>
-
-    <div data-bind="visible: $parent.ooziePropertiesExpanded">
-      <ul class="nav nav-tabs">
-        <li class="active"><a data-bind="attr: { href: '#properties-' + id()}" data-toggle="tab">${ _('Properties') }</a></li>
-        <li><a data-bind="attr: { href: '#sla-' + id()}" href="#sla" data-toggle="tab">${ _('SLA') }</a></li>
-        <li><a data-bind="attr: { href: '#credentials-' + id()}" data-toggle="tab">${ _('Credentials') }</a></li>
-        <li><a data-bind="attr: { href: '#transitions-' + id()}" data-toggle="tab">${ _('Transitions') }</a></li>
-      </ul>
-      <div class="tab-content">
-        <div class="tab-pane active" data-bind="attr: { id: 'properties-' + id() }">
-          <span data-bind="template: { name: 'common-properties-pig-arguments' }"></span>
-          <br/>
-          <span data-bind="template: { name: 'common-action-properties' }"></span>
-        </div>
-
-        <div class="tab-pane" data-bind="attr: { id: 'sla-' + id() }">
-          <span data-bind="template: { name: 'common-action-sla' }"></span>
-        </div>
-
-        <div class="tab-pane" data-bind="attr: { id: 'credentials-' + id() }">
-          <span data-bind="template: { name: 'common-action-credentials' }"></span>
-        </div>
-
-        <div class="tab-pane" data-bind="attr: { id: 'transitions-' + id() }">
-          <span data-bind="template: { name: 'common-action-transition' }"></span>
-        </div>
-      </div>
-    </div>
-  </div>
-  <!-- /ko -->
-</script>
-
-
-<script type="text/html" id="java-widget">
-  <!-- ko if: $root.workflow.getNodeById(id()) -->
-  <div class="row-fluid" data-bind="with: $root.workflow.getNodeById(id())" style="padding: 10px">
-
-    <div data-bind="visible: ! $root.isEditing()">
-      <pan data-bind="text: properties.main_class" />
-    </div>
-
-    <div data-bind="visible: $root.isEditing">
-      <div data-bind="visible: ! $parent.ooziePropertiesExpanded()" class="nowrap">
-        <span data-bind="text: $root.workflow_properties.jar_path.label" style="display: inline-block; width: 75px"></span>
-        <input type="text" class="filechooser-input input-xlarge"
-            data-bind="filechooser: properties.jar_path, filechooserOptions: globalFilechooserOptions, attr: { placeholder: $root.workflow_properties.jar_path.help_text }"
-        />
-        <span data-bind='template: { name: "common-fs-link", data: {path: properties.jar_path(), with_label: false}}'></span>
-
-        <br/>
-        <span data-bind="text: $root.workflow_properties.main_class.label" style="display: inline-block; width: 75px"></span>
-        <input type="text" class="input-xlarge" data-bind="value: properties.main_class, attr: { placeholder: $root.workflow_properties.main_class.help_text }" />
-
-        <div class="row-fluid">
-          <div class="span6" data-bind="template: { name: 'common-properties-arguments' }"></div>
-          <div class="span6" data-bind="template: { name: 'common-properties-files' }"></div>
-        </div>
-
-      </div>
-    </div>
-
-    <div data-bind="visible: $parent.ooziePropertiesExpanded">
-      <ul class="nav nav-tabs">
-        <li class="active"><a data-bind="attr: { href: '#properties-' + id()}" data-toggle="tab">${ _('Properties') }</a></li>
-        <li><a data-bind="attr: { href: '#sla-' + id()}" href="#sla" data-toggle="tab">${ _('SLA') }</a></li>
-        <li><a data-bind="attr: { href: '#credentials-' + id()}" data-toggle="tab">${ _('Credentials') }</a></li>
-        <li><a data-bind="attr: { href: '#transitions-' + id()}" data-toggle="tab">${ _('Transitions') }</a></li>
-      </ul>
-      <div class="tab-content">
-        <div class="tab-pane active" data-bind="attr: { id: 'properties-' + id() }">
-          <h6>
-            <a class="pointer" data-bind="click: function(){ properties.java_opts.push({'value': ''}); }">
-              <span data-bind="text: $root.workflow_properties.java_opts.label"></span> <i class="fa fa-plus"></i>
-            </a>
-          </h6>
-          <ul class="unstyled" data-bind="foreach: properties.java_opts">
-            <li>
-              <input type="text" data-bind="value: value, attr: { placeholder: $root.workflow_properties.java_opts.help_text }" class="input-xlarge"/>
-              <a href="#" data-bind="click: function(){ $parent.properties.java_opts.remove(this); }">
-                <i class="fa fa-minus"></i>
-              </a>
-            </li>
-          </ul>
-
-          <span data-bind="text: $root.workflow_properties.capture_output.label"></span>
-          <input type="checkbox" data-bind="checked: properties.capture_output" />
-          <br/>
-          <br/>
-
-          <span data-bind="template: { name: 'common-action-properties' }"></span>
-          <br/>
-        </div>
-
-        <div class="tab-pane" data-bind="attr: { id: 'sla-' + id() }">
-          <span data-bind="template: { name: 'common-action-sla' }"></span>
-        </div>
-
-        <div class="tab-pane" data-bind="attr: { id: 'credentials-' + id() }">
-          <span data-bind="template: { name: 'common-action-credentials' }"></span>
-        </div>
-
-        <div class="tab-pane" data-bind="attr: { id: 'transitions-' + id() }">
-          <span data-bind="template: { name: 'common-action-transition' }"></span>
-        </div>
-      </div>
-    </div>
-  </div>
-  <!-- /ko -->
-</script>
-
-
-<script type="text/html" id="sqoop-widget">
-  <!-- ko if: $root.workflow.getNodeById(id()) -->
-  <div class="row-fluid" data-bind="with: $root.workflow.getNodeById(id())" style="padding: 10px">
-    <div data-bind="visible: $root.isEditing">
-      <div data-bind="visible: ! $parent.ooziePropertiesExpanded()" class="nowrap">
-        <span data-bind="text: $root.workflow_properties.command.label"></span>
-        <input type="text" data-bind="value: properties.command" />
-
-        <div class="row-fluid">
-          <div class="span6" data-bind="template: { name: 'common-properties-parameters' }"></div>
-          <div class="span6" data-bind="template: { name: 'common-properties-files' }"></div>
-        </div>
-      </div>
-    </div>
-
-    <div data-bind="visible: ! $root.isEditing()">
-      <a href="javascript:void(0)">
-        <span type="text" data-bind="text: properties.command().slice(0, 70), attr: { title: properties.command() }" />...
-      </a>
-    </div>
-
-    <div data-bind="visible: $parent.ooziePropertiesExpanded">
-      <ul class="nav nav-tabs">
-        <li class="active"><a data-bind="attr: { href: '#properties-' + id()}" data-toggle="tab">${ _('Properties') }</a></li>
-        <li><a data-bind="attr: { href: '#sla-' + id()}" href="#sla" data-toggle="tab">${ _('SLA') }</a></li>
-        <li><a data-bind="attr: { href: '#credentials-' + id()}" data-toggle="tab">${ _('Credentials') }</a></li>
-        <li><a data-bind="attr: { href: '#transitions-' + id()}" data-toggle="tab">${ _('Transitions') }</a></li>
-      </ul>
-      <div class="tab-content">
-        <div class="tab-pane active" data-bind="attr: { id: 'properties-' + id() }">
-          <span data-bind="template: { name: 'common-action-properties' }"></span>
-        </div>
-
-        <div class="tab-pane" data-bind="attr: { id: 'sla-' + id() }">
-          <span data-bind="template: { name: 'common-action-sla' }"></span>
-        </div>
-
-        <div class="tab-pane" data-bind="attr: { id: 'credentials-' + id() }">
-          <span data-bind="template: { name: 'common-action-credentials' }"></span>
-        </div>
-
-        <div class="tab-pane" data-bind="attr: { id: 'transitions-' + id() }">
-          <span data-bind="template: { name: 'common-action-transition' }"></span>
-        </div>
-      </div>
-    </div>
-  </div>
-  <!-- /ko -->
-</script>
-
-
-<script type="text/html" id="mapreduce-widget">
-  <!-- ko if: $root.workflow.getNodeById(id()) -->
-  <div class="row-fluid" data-bind="with: $root.workflow.getNodeById(id())" style="padding: 10px">
-    <div data-bind="visible: $root.isEditing">
-      <div data-bind="visible: ! $parent.ooziePropertiesExpanded()" class="nowrap">
-        <span data-bind="text: $root.workflow_properties.jar_path.label"></span>
-        <input type="text" class="filechooser-input" data-bind="filechooser: properties.jar_path, filechooserOptions: globalFilechooserOptions, value: properties.jar_path" />
-        <span data-bind='template: { name: "common-fs-link", data: {path: properties.jar_path(), with_label: false} }'></span>
-
-        <h6>
-          <a class="pointer" data-bind="click: function(){ properties.job_properties.push({'name': '', 'value': ''}); $(document).trigger('drawArrows') }">
-            ${ _('Properties') } <i class="fa fa-plus"></i>
-          </a>
-        </h6>
-        <ul data-bind="visible: properties.job_properties().length > 0, foreach: properties.job_properties" class="unstyled">
-          <li>
-            <input type="text" class="span4" data-bind="value: name" placeholder="${ _('name, e.g. mapred.job.queue.name') }"/>
-            <input type="text" class="filechooser-input" data-bind="filechooser: value, filechooserOptions: globalFilechooserOptions, value: value, attr: { placeholder: $root.workflow_properties.job_properties.help_text }"/>
-            <a href="#" data-bind="click: function(){ $parent.properties.job_properties.remove(this); $(document).trigger('drawArrows') }">
-              <i class="fa fa-minus"></i>
-            </a>
-          </li>
-        </ul>
-        
-        <div class="span12" data-bind="template: { name: 'common-properties-files' }"></div>
-      </div>
-    </div>
-
-    <div data-bind="visible: ! $root.isEditing()">
-      <span data-bind='template: { name: "common-fs-link", data: {path: properties.jar_path(), with_label: true} }'></span>
-    </div>
-
-    <div data-bind="visible: $parent.ooziePropertiesExpanded">
-      <ul class="nav nav-tabs">
-        <li class="active"><a data-bind="attr: { href: '#properties-' + id()}" data-toggle="tab">${ _('Properties') }</a></li>
-        <li><a data-bind="attr: { href: '#sla-' + id()}" href="#sla" data-toggle="tab">${ _('SLA') }</a></li>
-        <li><a data-bind="attr: { href: '#credentials-' + id()}" data-toggle="tab">${ _('Credentials') }</a></li>
-        <li><a data-bind="attr: { href: '#transitions-' + id()}" data-toggle="tab">${ _('Transitions') }</a></li>
-      </ul>
-      <div class="tab-content">
-        <div class="tab-pane active" data-bind="attr: { id: 'properties-' + id() }">
-		  <div class="properties">
-		    <h6>${ _('Prepare') }</h6>
-		    <ul data-bind="visible: properties.prepares().length > 0, foreach: properties.prepares" class="unstyled">
-		      <li>
-		        <div style="display: inline-block; width: 60px" data-bind="text: type"></div>
-		        <input type="text" class="filechooser-input input-xlarge"
-		            data-bind="filechooser: value, filechooserOptions: globalFilechooserOptions, value: value, attr: { placeholder: $root.workflow_properties.prepares.help_text }"/>
-		        <a href="#" data-bind="click: function(){ $parent.properties.prepares.remove(this); $(document).trigger('drawArrows') }">
-		          <i class="fa fa-minus"></i>
-		        </a>
-		      </li>
-		    </ul>
-		    <a class="pointer" data-bind="click: function(){ properties.prepares.push({'type': 'mkdir', 'value': ''}); $(document).trigger('drawArrows') }">
-		      ${ _('Directory') } <i class="fa fa-plus"></i>
-		    </a>
-		    <a class="pointer" data-bind="click: function(){ properties.prepares.push({'type': 'delete', 'value': ''}); $(document).trigger('drawArrows') }">
-		      ${ _('Delete') } <i class="fa fa-plus"></i>
-		    </a>
-		
-		    <!-- ko if: properties.job_xml -->
-		      <h6>${ _('Job XML') }</h6>
-		      <input type="text" class="input-xlarge filechooser-input" data-bind="filechooser: properties.job_xml, filechooserOptions: globalFilechooserOptions, attr: { placeholder: $root.workflow_properties.job_xml.help_text }"/>
-		    <!-- /ko -->
-		
-		    <h6>
-		      <a class="pointer" data-bind="click: function(){ properties.archives.push(ko.mapping.fromJS({'name': ''})); $(document).trigger('drawArrows') }">
-		        ${ _('Archives') } <i class="fa fa-plus"></i>
-		      </a>
-		    </h6>
-		    <ul data-bind="visible: properties.archives().length > 0, foreach: properties.archives" class="unstyled">
-		      <li>
-		        <input type="text" class="filechooser-input input-xlarge" data-bind="filechooser: name(), filechooserFilter: 'zip,tar,tgz,tar.gz', filechooserOptions: globalFilechooserOptions, value: name, attr: { placeholder: $root.workflow_properties.archives.help_text }"/>
-		        <span data-bind='template: { name: "common-fs-link", data: { path: name(), with_label: false} }'></span>
-		        <a href="#" data-bind="click: function(){ $parent.properties.archives.remove(this); $(document).trigger('drawArrows') }">
-		          <i class="fa fa-minus"></i>
-		        </a>
-		      </li>
-		    </ul>
-		    <em data-bind="visible: properties.archives().length == 0">${ _('No archives defined.') }</em>
-		  </div>
-        </div>
-
-        <div class="tab-pane" data-bind="attr: { id: 'sla-' + id() }">
-          <span data-bind="template: { name: 'common-action-sla' }"></span>
-        </div>
-
-        <div class="tab-pane" data-bind="attr: { id: 'credentials-' + id() }">
-          <span data-bind="template: { name: 'common-action-credentials' }"></span>
-        </div>
-
-        <div class="tab-pane" data-bind="attr: { id: 'transitions-' + id() }">
-          <span data-bind="template: { name: 'common-action-transition' }"></span>
-        </div>
-      </div>
-    </div>
-  </div>
-  <!-- /ko -->
-</script>
-
-
-<script type="text/html" id="subworkflow-widget">
-  <!-- ko if: $root.workflow.getNodeById(id()) -->
-  <div class="row-fluid" data-bind="with: $root.workflow.getNodeById(id())" style="padding: 10px">
-    <div data-bind="visible: $root.isEditing">
-      <div data-bind="visible: ! $parent.ooziePropertiesExpanded()" class="nowrap">
-        <select data-bind="options: $root.subworfklows, optionsText: 'name', optionsValue: 'value', value: properties.workflow"></select>
-        <span data-bind="visible: properties.workflow().length > 0">
-          <a href="#" data-bind="attr: { href: '${ url('oozie:edit_workflow') }' + '?workflow=' + properties.workflow() }" target="_blank" title="${ _('Open') }">
-            <i class="fa fa-external-link-square"></i>
-          </a>
-        </span>
-      </div>
-    </div>
-
-    <div data-bind="visible: ! $root.isEditing()">
-      <!-- ko if: $root.getSubWorkflow(properties.workflow()) -->
-        <span data-bind="with: $root.getSubWorkflow(properties.workflow())">
-          <a href="#" data-bind="attr: { href: '${ url('oozie:edit_workflow') }' + '?workflow=' + $data.value() }" target="_blank" title="${ _('Open') }">
-            <span data-bind="text: $data.name"></span>
-          </a>
-        </span>
-      <!-- /ko -->
-    </div>
-
-    <div data-bind="visible: $parent.ooziePropertiesExpanded">
-      <ul class="nav nav-tabs">
-        <li class="active"><a data-bind="attr: { href: '#properties-' + id()}" data-toggle="tab">${ _('Properties') }</a></li>
-        <li><a data-bind="attr: { href: '#sla-' + id()}" href="#sla" data-toggle="tab">${ _('SLA') }</a></li>
-        <li><a data-bind="attr: { href: '#credentials-' + id()}" data-toggle="tab">${ _('Credentials') }</a></li>
-        <li><a data-bind="attr: { href: '#transitions-' + id()}" data-toggle="tab">${ _('Transitions') }</a></li>
-      </ul>
-      <div class="tab-content">
-        <div class="tab-pane active" data-bind="attr: { id: 'properties-' + id() }">
-          <span data-bind="text: $root.workflow_properties.propagate_configuration.label"></span>
-          <input type="checkbox" data-bind="checked: properties.propagate_configuration" />
-
-          <br/>
-
-          <h6>
-            <a class="pointer" data-bind="click: function(){ properties.job_properties.push({'name': '', 'value': ''}); $(document).trigger('drawArrows') }">
-              ${ _('Properties') } <i class="fa fa-plus"></i>
-            </a>
-          </h6>
-          <ul data-bind="visible: properties.job_properties().length > 0, foreach: properties.job_properties" class="unstyled">
-            <li>
-              <input type="text" data-bind="value: name"/>
-              <input type="text" data-bind="value: value"/>
-              <a href="#" data-bind="click: function(){ $parent.properties.job_properties.remove(this); $(document).trigger('drawArrows') }">
-                <i class="fa fa-minus"></i>
-              </a>
-            </li>
-          </ul>
-          <em data-bind="visible: properties.job_properties().length == 0">${ _('No properties defined.') }</em>
-
-        </div>
-
-        <div class="tab-pane" data-bind="attr: { id: 'sla-' + id() }">
-          <span data-bind="template: { name: 'common-action-sla' }"></span>
-        </div>
-
-        <div class="tab-pane" data-bind="attr: { id: 'credentials-' + id() }">
-          <span data-bind="template: { name: 'common-action-credentials' }"></span>
-        </div>
-
-        <div class="tab-pane" data-bind="attr: { id: 'transitions-' + id() }">
-          <span data-bind="template: { name: 'common-action-transition' }"></span>
-        </div>
-      </div>
-    </div>
-  </div>
-  <!-- /ko -->
-</script>
-
-
-<script type="text/html" id="shell-widget">
-  <!-- ko if: $root.workflow.getNodeById(id()) -->
-  <div class="row-fluid" data-bind="with: $root.workflow.getNodeById(id())" style="padding: 10px">
-    <div data-bind="visible: $root.isEditing">
-      <div data-bind="visible: ! $parent.ooziePropertiesExpanded()" class="nowrap">
-        <input type="text" data-bind="value: properties.shell_command" />
-        <span data-bind='template: { name: "common-fs-link", data: {path: properties.shell_command(), with_label: false} }'></span>
-
-        <div class="row-fluid">
-          <div class="span6" data-bind="template: { name: 'common-properties-arguments' }"></div>
-          <div class="span6" data-bind="template: { name: 'common-properties-files' }"></div>
-        </div>
-      </div>
-    </div>
-
-    <div data-bind="visible: ! $root.isEditing()">
-      <span data-bind='template: { name: "common-fs-link", data: {path: properties.shell_command(), with_label: true} }'></span>
-    </div>
-
-    <div data-bind="visible: $parent.ooziePropertiesExpanded">
-      <ul class="nav nav-tabs">
-        <li class="active"><a data-bind="attr: { href: '#properties-' + id()}" data-toggle="tab">${ _('Properties') }</a></li>
-        <li><a data-bind="attr: { href: '#sla-' + id()}" href="#sla" data-toggle="tab">${ _('SLA') }</a></li>
-        <li><a data-bind="attr: { href: '#credentials-' + id()}" data-toggle="tab">${ _('Credentials') }</a></li>
-        <li><a data-bind="attr: { href: '#transitions-' + id()}" data-toggle="tab">${ _('Transitions') }</a></li>
-      </ul>
-      <div class="tab-content">
-        <div class="tab-pane active" data-bind="attr: { id: 'properties-' + id() }">
-          <span data-bind="text: $root.workflow_properties.capture_output.label"></span>
-          <input type="checkbox" data-bind="checked: properties.capture_output" />
-          <br/>
-
-          <h6>
-            <a class="pointer" data-bind="click: function(){ properties.env_var.push({'value': ''}); }">
-              <span data-bind="text: $root.workflow_properties.env_var.label"></span> <i class="fa fa-plus"></i>
-            </a>
-          </h6>
-          <ul data-bind="foreach: properties.env_var" class="unstyled">
-            <li>
-              <input type="text" class="input-xlarge" data-bind="value: value, attr: { placeholder: $root.workflow_properties.env_var.help_text }"/>
-              <a href="#" data-bind="click: function(){ $parent.properties.env_var.remove(this); }">
-                <i class="fa fa-minus"></i>
-              </a>
-            </li>
-          </ul>
-
-          <span data-bind="template: { name: 'common-action-properties' }"></span>
-        </div>
-
-        <div class="tab-pane" data-bind="attr: { id: 'sla-' + id() }">
-          <span data-bind="template: { name: 'common-action-sla' }"></span>
-        </div>
-
-        <div class="tab-pane" data-bind="attr: { id: 'credentials-' + id() }">
-          <span data-bind="template: { name: 'common-action-credentials' }"></span>
-        </div>
-
-        <div class="tab-pane" data-bind="attr: { id: 'transitions-' + id() }">
-          <span data-bind="template: { name: 'common-action-transition' }"></span>
-        </div>
-      </div>
-    </div>
-  </div>
-  <!-- /ko -->
-</script>
-
-
-<script type="text/html" id="ssh-widget">
-  <!-- ko if: $root.workflow.getNodeById(id()) -->
-  <div class="row-fluid" data-bind="with: $root.workflow.getNodeById(id())" style="padding: 10px">
-    <div data-bind="visible: $root.isEditing">
-
-      <div data-bind="visible: ! $parent.ooziePropertiesExpanded()" class="nowrap">
-        <span data-bind="text: $root.workflow_properties.host.label"></span>
-        <input type="text" data-bind="value: properties.host" />
-        <br/>
-
-        <span data-bind="text: $root.workflow_properties.ssh_command.label"></span>
-        <input type="text" data-bind="value: properties.ssh_command" />
-        <div class="row-fluid">
-          <div class="span6" data-bind="template: { name: 'common-properties-arguments' }"></div>
-        </div>
-      </div>
-    </div>
-
-    <div data-bind="visible: ! $root.isEditing()">
-      <span data-bind="text: properties.host" />
-      <span data-bind="text: properties.ssh_command().slice(0, 75)" />
-    </div>
-
-    <div data-bind="visible: $parent.ooziePropertiesExpanded">
-      <ul class="nav nav-tabs">
-        <li class="active"><a data-bind="attr: { href: '#properties-' + id()}" data-toggle="tab">${ _('Properties') }</a></li>
-        <li><a data-bind="attr: { href: '#sla-' + id()}" href="#sla" data-toggle="tab">${ _('SLA') }</a></li>
-        <li><a data-bind="attr: { href: '#credentials-' + id()}" data-toggle="tab">${ _('Credentials') }</a></li>
-        <li><a data-bind="attr: { href: '#transitions-' + id()}" data-toggle="tab">${ _('Transitions') }</a></li>
-      </ul>
-      <div class="tab-content">
-        <div class="tab-pane active" data-bind="attr: { id: 'properties-' + id() }">
-          <span data-bind="text: $root.workflow_properties.capture_output.label"></span>
-          <input type="checkbox" data-bind="checked: properties.capture_output" />
-        </div>
-
-        <div class="tab-pane" data-bind="attr: { id: 'sla-' + id() }">
-          <span data-bind="template: { name: 'common-action-sla' }"></span>
-        </div>
-
-        <div class="tab-pane" data-bind="attr: { id: 'credentials-' + id() }">
-          <span data-bind="template: { name: 'common-action-credentials' }"></span>
-        </div>
-
-        <div class="tab-pane" data-bind="attr: { id: 'transitions-' + id() }">
-          <span data-bind="template: { name: 'common-action-transition' }"></span>
-        </div>
-      </div>
-    </div>
-  </div>
-  <!-- /ko -->
-</script>
-
-
-<script type="text/html" id="fs-widget">
-  <!-- ko if: $root.workflow.getNodeById(id()) -->
-  <div class="row-fluid" data-bind="with: $root.workflow.getNodeById(id())" style="padding: 10px">
-
-    <div data-bind="visible: ! $root.isEditing()">
-      <span data-bind="text: '${ _("Delete") }', visible: properties.deletes().length > 0"></span>
-      <ul data-bind="foreach: properties.deletes" class="unstyled">
-        <li>
-          <span data-bind='template: { name: "common-fs-link", data: {path: value(), with_label: true} }, visible: value().length > 0'></span>
-        </li>
-      </ul>
-
-      <span data-bind="text: '${ _("Create") }', visible: properties.mkdirs().length > 0 || properties.touchzs().length > 0"></span>
-      <ul data-bind="foreach: properties.mkdirs" class="unstyled">
-        <li>
-          <span data-bind='template: { name: "common-fs-link", data: {path: value(), with_label: true} }, visible: value().length > 0'></span>
-        </li>
-      </ul>
-      <ul data-bind="foreach: properties.touchzs" class="unstyled">
-        <li>
-          <span data-bind='template: { name: "common-fs-link", data: {path: value(), with_label: true} }, visible: value().length > 0'></span>
-        </li>
-      </ul>
-
-      <span data-bind="text: '${ _("Move") }', visible: properties.moves().length > 0"></span>
-      <ul data-bind="foreach: properties.moves" class="unstyled">
-        <li>
-          <span data-bind='template: { name: "common-fs-link", data: {path: source(), with_label: true} }, visible: source().length > 0'></span>
-          ${ _('to') }
-          <span data-bind='template: { name: "common-fs-link", data: {path: destination(), with_label: true} }, visible: destination().length > 0'></span>
-        </li>
-      </ul>
-
-      <span data-bind="text: '${ _("Change permissions") }', visible: properties.chmods().length > 0"></span>
-      <ul data-bind="foreach: properties.chmods" class="unstyled">
-        <li>
-          <span data-bind='template: { name: "common-fs-link", data: {path: value(), with_label: true} }, visible: value().length > 0'></span>
-          ${ _('to') }
-          <span data-bind="text: permissions"/>
-          <span data-bind="visible: ! dir_files(), text: '${ _('for directories') }'"/>
-          <span data-bind="visible: dir_files(), text: '${ _('for directories and files') }'"/>
-          <span data-bind="visible: recursive, text: '${ _('recursivelt') }'"/>
-        </li>
-      </ul>
-
-      <span data-bind="text: '${ _("Change groups") }', visible: properties.chgrps().length > 0"></span>
-      <ul data-bind="foreach: properties.chgrps" class="unstyled">
-        <li>
-          <span data-bind='template: { name: "common-fs-link", data: {path: value(), with_label: true} }, visible: value().length > 0'></span>
-          ${ _('to') }
-          <span data-bind="text: group"/>
-          <span data-bind="visible: ! dir_files(), text: '${ _('for directories') }'"/>
-          <span data-bind="visible: dir_files(), text: '${ _('for directories and files') }'"/>
-          <span data-bind="visible: recursive, text: '${ _('recursively') }'"/>
-        </li>
-      </ul>
-    </div>
-
-
-    <div data-bind="visible: $root.isEditing">
-      <div data-bind="visible: ! $parent.ooziePropertiesExpanded()" class="nowrap">
-        <h6>
-          <a class="pointer" data-bind="click: function(){ properties.deletes.push(ko.mapping.fromJS({'value': ''})); }">
-            <span data-bind="text: $root.workflow_properties.deletes.label"></span> <i class="fa fa-plus"></i>
-          </a>
-        </h6>
-        <ul data-bind="foreach: properties.deletes" class="unstyled">
-          <li>
-            <input type="text" class="input-xlarge filechooser-input" data-bind="filechooser: value, filechooserOptions: globalFilechooserOptions, value: value, attr: { placeholder: $root.workflow_properties.deletes.help_text }"/>
-            <span data-bind='template: { name: "common-fs-link", data: {path: value(), with_label: false} }, visible: value().length > 0'></span>
-            <a href="#" data-bind="click: function(){ $parent.properties.deletes.remove(this); }">
-              <i class="fa fa-minus"></i>
-            </a>
-          </li>
-        </ul>
-
-        <h6>
-          <a class="pointer" data-bind="click: function(){ properties.mkdirs.push(ko.mapping.fromJS({'value': ''})); }">
-            <span data-bind="text: $root.workflow_properties.mkdirs.label"></span> <i class="fa fa-plus"></i>
-          </a>
-        </h6>
-        <ul data-bind="foreach: properties.mkdirs" class="unstyled">
-          <li>
-            <input type="text" class="input-xlarge filechooser-input" data-bind="filechooser: value, filechooserOptions: globalFilechooserOptions, value: value, attr: { placeholder: $root.workflow_properties.mkdirs.help_text }"/>
-            <span data-bind='template: { name: "common-fs-link", data: {path: value(), with_label: false} }, visible: value().length > 0'></span>
-            <a href="#" data-bind="click: function(){ $parent.properties.mkdirs.remove(this); }">
-              <i class="fa fa-minus"></i>
-            </a>
-          </li>
-        </ul>
-
-        <h6>
-          <a class="pointer" data-bind="click: function(){ properties.touchzs.push(ko.mapping.fromJS({'value': ''})); }">
-            <span data-bind="text: $root.workflow_properties.touchzs.label"></span> <i class="fa fa-plus"></i>
-          </a>
-        </h6>
-        <ul data-bind="foreach: properties.touchzs" class="unstyled">
-          <li>
-            <input type="text" class="input-xlarge filechooser-input" data-bind="filechooser: value, filechooserOptions: globalFilechooserOptions, value: value, attr: { placeholder: $root.workflow_properties.touchzs.help_text }"/>
-            <span data-bind='template: { name: "common-fs-link", data: {path: value(), with_label: false} }, visible: value().length > 0'></span>
-            <a href="#" data-bind="click: function(){ $parent.properties.touchzs.remove(this); }">
-              <i class="fa fa-minus"></i>
-            </a>
-          </li>
-        </ul>
-
-        <h6>
-          <a class="pointer" data-bind="click: function(){ properties.moves.push(ko.mapping.fromJS({'source': '', 'destination': ''})); }">
-            <span data-bind="text: $root.workflow_properties.moves.label"></span> <i class="fa fa-plus"></i>
-          </a>
-        </h6>
-        <ul data-bind="foreach: properties.moves" class="unstyled">
-          <li>
-            <input type="text" class="input-xlarge filechooser-input" data-bind="filechooser: source, filechooserOptions: globalFilechooserOptions, value: source" placeholder="${ _('Source path') }"/>
-            <span data-bind='template: { name: "common-fs-link", data: {path: source(), with_label: false} }, visible: source().length > 0'></span>
-
-            <input type="text" class="input-xlarge filechooser-input" data-bind="filechooser: destination, filechooserOptions: globalFilechooserOptions, value: destination" placeholder="${ _('New destination path') }"/>
-            <span data-bind='template: { name: "common-fs-link", data: {path: destination(), with_label: false} }, visible: destination().length > 0'></span>
-            <a href="#" data-bind="click: function(){ $parent.properties.moves.remove(this); }">
-              <i class="fa fa-minus"></i>
-            </a>
-          </li>
-        </ul>
-
-      </div>
-    </div>
-
-    <div data-bind="visible: $parent.ooziePropertiesExpanded">
-      <ul class="nav nav-tabs">
-        <li class="active"><a data-bind="attr: { href: '#properties-' + id()}" data-toggle="tab">${ _('Properties') }</a></li>
-        <li><a data-bind="attr: { href: '#sla-' + id()}" href="#sla" data-toggle="tab">${ _('SLA') }</a></li>
-        <li><a data-bind="attr: { href: '#credentials-' + id()}" data-toggle="tab">${ _('Credentials') }</a></li>
-        <li><a data-bind="attr: { href: '#transitions-' + id()}" data-toggle="tab">${ _('Transitions') }</a></li>
-      </ul>
-      <div class="tab-content">
-        <div class="tab-pane active" data-bind="attr: { id: 'properties-' + id() }">
-
-        <h6>
-          <a class="pointer" data-bind="click: function(){ properties.chmods.push(ko.mapping.fromJS({'value': '', 'permissions': '755', 'dir_files': false, 'recursive': false})); }">
-            <span data-bind="text: $root.workflow_properties.chmods.label"></span> <i class="fa fa-plus"></i>
-          </a>
-        </h6>
-        <ul data-bind="foreach: properties.chmods" class="unstyled">
-          <li>
-            <input type="text" class="input-xlarge filechooser-input" data-bind="filechooser: value, filechooserOptions: globalFilechooserOptions, value: value, attr: { placeholder: $root.workflow_properties.chmods.help_text }"/>
-            <span data-bind='template: { name: "common-fs-link", data: {path: value(), with_label: false} }, visible: value().length > 0'></span>
-
-            <input type="text" class="input-small" data-bind="value: permissions" placeholder="${ _('755, -rwxrw-rw-') }"/>
-            ${ _('Only for directories') }
-            <input type="checkbox" data-bind="checked: dir_files"/>
-            ${ _('Recursive to sub directories') }
-            <input type="checkbox" data-bind="checked: recursive"/>
-            <a href="#" data-bind="click: function(){ $parent.properties.chmods.remove(this); }">
-              <i class="fa fa-minus"></i>
-            </a>
-          </li>
-        </ul>
-
-        <h6>
-          <a class="pointer" data-bind="click: function(){ properties.chgrps.push(ko.mapping.fromJS({'value': '', 'group': '', 'dir_files': false, 'recursive': false})); }">
-            <span data-bind="text: $root.workflow_properties.chgrps.label"></span> <i class="fa fa-plus"></i>
-          </a>
-        </h6>
-        <ul data-bind="foreach: properties.chgrps" class="unstyled">
-          <li>
-            <input type="text" class="input-xlarge filechooser-input" data-bind="filechooser: value, filechooserOptions: globalFilechooserOptions, value: value, attr: { placeholder: $root.workflow_properties.chgrps.help_text }"/>
-            <span data-bind='template: { name: "common-fs-link", data: {path: value(), with_label: false} }, visible: value().length > 0'></span>
-
-            <input type="text" class="input-small" data-bind="value: group" placeholder="${ _('e.g. newgroup') }"/>
-            ${ _('Only for directories') }
-            <input type="checkbox" data-bind="checked: dir_files"/>
-            ${ _('Recursive to sub directories') }
-            <input type="checkbox" data-bind="checked: recursive"/>
-            <a href="#" data-bind="click: function(){ $parent.properties.chgrps.remove(this); }">
-              <i class="fa fa-minus"></i>
-            </a>
-          </li>
-        </ul>
-
-        </div>
-
-        <div class="tab-pane" data-bind="attr: { id: 'sla-' + id() }">
-          <span data-bind="template: { name: 'common-action-sla' }"></span>
-        </div>
-
-        <div class="tab-pane" data-bind="attr: { id: 'credentials-' + id() }">
-          <span data-bind="template: { name: 'common-action-credentials' }"></span>
-        </div>
-
-        <div class="tab-pane" data-bind="attr: { id: 'transitions-' + id() }">
-          <span data-bind="template: { name: 'common-action-transition' }"></span>
-        </div>
-      </div>
-    </div>
-  </div>
-  <!-- /ko -->
-</script>
-
-
-<script type="text/html" id="email-widget">
-  <!-- ko if: $root.workflow.getNodeById(id()) -->
-  <div class="row-fluid" data-bind="with: $root.workflow.getNodeById(id())" style="padding: 10px">
-    <div data-bind="visible: $root.isEditing">
-      <div data-bind="visible: ! $parent.ooziePropertiesExpanded()" class="nowrap">
-        <span data-bind="text: $root.workflow_properties.to.label" style="display: inline-block; width: 80px"></span>
-        <input type="text" data-bind="value: properties.to, attr: { placeholder: $root.workflow_properties.to.help_text }" />
-        <br/>
-
-        <span data-bind="text: $root.workflow_properties.subject.label" style="display: inline-block; width: 80px"></span>
-        <input type="text" data-bind="value: properties.subject, attr: { placeholder: $root.workflow_properties.subject.help_text }" />
-        <br/>
-
-        <span data-bind="text: $root.workflow_properties.body.label" style="display: inline-block; width: 80px"></span>
-        <textarea data-bind="value: properties.body, attr: { placeholder: $root.workflow_properties.body.help_text }"></textarea>
-      </div>
-    </div>
-
-    <div data-bind="visible: ! $root.isEditing()">
-      ${ _('To') }
-      <span data-bind="text: properties.to"/>
-      <br/>
-      ${ _('About') }
-      <span data-bind="text: properties.subject"/>
-    </div>
-
-    <div data-bind="visible: $parent.ooziePropertiesExpanded">
-      <ul class="nav nav-tabs">
-        <li class="active"><a data-bind="attr: { href: '#properties-' + id()}" data-toggle="tab">${ _('Properties') }</a></li>
-        <li><a data-bind="attr: { href: '#sla-' + id()}" href="#sla" data-toggle="tab">${ _('SLA') }</a></li>
-        <li><a data-bind="attr: { href: '#credentials-' + id()}" data-toggle="tab">${ _('Credentials') }</a></li>
-        <li><a data-bind="attr: { href: '#transitions-' + id()}" data-toggle="tab">${ _('Transitions') }</a></li>
-      </ul>
-      <div class="tab-content">
-        <div class="tab-pane active" data-bind="attr: { id: 'properties-' + id() }">
-          <span data-bind="text: $root.workflow_properties.cc.label"></span>
-          <input type="text" data-bind="value: properties.cc, attr: { placeholder: $root.workflow_properties.cc.help_text }" />
-        </div>
-
-        <div class="tab-pane" data-bind="attr: { id: 'sla-' + id() }">
-          <span data-bind="template: { name: 'common-action-sla' }"></span>
-        </div>
-
-        <div class="tab-pane" data-bind="attr: { id: 'credentials-' + id() }">
-          <span data-bind="template: { name: 'common-action-credentials' }"></span>
-        </div>
-
-        <div class="tab-pane" data-bind="attr: { id: 'transitions-' + id() }">
-          <span data-bind="template: { name: 'common-action-transition' }"></span>
-        </div>
-      </div>
-    </div>
-  </div>
-  <!-- /ko -->
-</script>
-
-
-<script type="text/html" id="streaming-widget">
-  <!-- ko if: $root.workflow.getNodeById(id()) -->
-  <div class="row-fluid" data-bind="with: $root.workflow.getNodeById(id())" style="padding: 10px">
-    <div data-bind="visible: $root.isEditing">
-      <div data-bind="visible: ! $parent.ooziePropertiesExpanded()" class="nowrap">
-        <span data-bind="text: $root.workflow_properties.mapper.label"></span>
-        <input type="text" data-bind="value: properties.mapper" />
-        <span data-bind='template: { name: "common-fs-link", data: {path: properties.mapper(), with_label: false} }'></span>
-        <br/>
-
-        <span data-bind="text: $root.workflow_properties.reducer.label"></span
-        <input type="text" data-bind="value: properties.reducer" />
-        <span data-bind='template: { name: "common-fs-link", data: {path: properties.reducer(), with_label: false} }'></span>
-        
-        <div data-bind="template: { name: 'common-properties-files' }"></div>
-      </div>
-    </div>
-
-    <div data-bind="visible: ! $root.isEditing()">
-      <span data-bind="text: $root.workflow_properties.mapper.label, visible: properties.mapper().length > 0"></span>
-      <span data-bind='template: { name: "common-fs-link", data: {path: properties.mapper(), with_label: true} }, visible: properties.mapper().length > 0'></span>
-      </br>
-      <span data-bind="text: $root.workflow_properties.reducer.label, visible: properties.reducer().length > 0"></span>
-      <span data-bind='template: { name: "common-fs-link", data: {path: properties.reducer(), with_label: true} }, visible: properties.reducer().length > 0'></span>
-    </div>
-
-    <div data-bind="visible: $parent.ooziePropertiesExpanded">
-      <ul class="nav nav-tabs">
-        <li class="active"><a data-bind="attr: { href: '#properties-' + id()}" data-toggle="tab">${ _('Properties') }</a></li>
-        <li><a data-bind="attr: { href: '#sla-' + id()}" href="#sla" data-toggle="tab">${ _('SLA') }</a></li>
-        <li><a data-bind="attr: { href: '#credentials-' + id()}" data-toggle="tab">${ _('Credentials') }</a></li>
-        <li><a data-bind="attr: { href: '#transitions-' + id()}" data-toggle="tab">${ _('Transitions') }</a></li>
-      </ul>
-      <div class="tab-content">
-        <div class="tab-pane active" data-bind="attr: { id: 'properties-' + id() }">
-          <span data-bind="template: { name: 'common-action-properties' }"></span>
-        </div>
-
-        <div class="tab-pane" data-bind="attr: { id: 'sla-' + id() }">
-          <span data-bind="template: { name: 'common-action-sla' }"></span>
-        </div>
-
-        <div class="tab-pane" data-bind="attr: { id: 'credentials-' + id() }">
-          <span data-bind="template: { name: 'common-action-credentials' }"></span>
-        </div>
-
-        <div class="tab-pane" data-bind="attr: { id: 'transitions-' + id() }">
-          <span data-bind="template: { name: 'common-action-transition' }"></span>
-        </div>
-      </div>
-    </div>
-  </div>
-  <!-- /ko -->
-</script>
-
-
-<script type="text/html" id="distcp-widget">
-  <!-- ko if: $root.workflow.getNodeById(id()) -->
-  <div class="row-fluid" data-bind="with: $root.workflow.getNodeById(id())" style="padding: 10px">
-    <div data-bind="visible: $root.isEditing">
-      <div data-bind="visible: ! $parent.ooziePropertiesExpanded()" class="nowrap">
-
-        <h6>
-          <a class="pointer" data-bind="click: function(){ properties.distcp_parameters.push(ko.mapping.fromJS({'value': ''}));}">
-            <span data-bind="text: $root.workflow_properties.distcp_parameters.label"></span> <i class="fa fa-plus"></i>
-          </a>
-        </h6>
-        <ul data-bind="foreach: properties.distcp_parameters" class="unstyled">
-          <li>
-            <input type="text" class="input-xlarge filechooser-input" data-bind="filechooser: value, filechooserOptions: globalFilechooserOptions, value: value, attr: { placeholder: $root.workflow_properties.distcp_parameters.help_text }"/>
-            <span data-bind='template: { name: "common-fs-link", data: {path: value(), with_label: false} }, visible: value().length > 0'></span>
-            <a href="#" data-bind="click: function(){ $parent.properties.distcp_parameters.remove(this);  }">
-              <i class="fa fa-minus"></i>
-            </a>
-          </li>
-        </ul>
-
-      </div>
-    </div>
-    
-    <div data-bind="visible: ! $root.isEditing()">
-      ${ _('Parameters') }
-      <ul data-bind="foreach: properties.distcp_parameters" class="unstyled">
-        <li>
-          <span data-bind='template: { name: "common-fs-link", data: {path: value(), with_label: true} }, visible: value().length > 0'></span>
-        </li>
-      </ul>
-    </div>
-
-    <div data-bind="visible: $parent.ooziePropertiesExpanded">
-      <ul class="nav nav-tabs">
-        <li class="active"><a data-bind="attr: { href: '#properties-' + id()}" data-toggle="tab">${ _('Properties') }</a></li>
-        <li><a data-bind="attr: { href: '#sla-' + id()}" href="#sla" data-toggle="tab">${ _('SLA') }</a></li>
-        <li><a data-bind="attr: { href: '#credentials-' + id()}" data-toggle="tab">${ _('Credentials') }</a></li>
-        <li><a data-bind="attr: { href: '#transitions-' + id()}" data-toggle="tab">${ _('Transitions') }</a></li>
-      </ul>
-      <div class="tab-content">
-        <div class="tab-pane active" data-bind="attr: { id: 'properties-' + id() }">
-
-		 <h6>${ _('Prepare') }</h6>
-		   <ul data-bind="visible: properties.prepares().length > 0, foreach: properties.prepares" class="unstyled">
-		     <li>
-		       <div style="display: inline-block; width: 60px" data-bind="text: type"></div>
-		       <input type="text" class="filechooser-input input-xlarge"
-		            data-bind="filechooser: value, filechooserOptions: globalFilechooserOptions, value: value, attr: { placeholder: $root.workflow_properties.prepares.help_text }"/>
-		        <a href="#" data-bind="click: function(){ $parent.properties.prepares.remove(this); $(document).trigger('drawArrows') }">
-		          <i class="fa fa-minus"></i>
-		        </a>
-		      </li>
-		   </ul>
-		   <a class="pointer" data-bind="click: function(){ properties.prepares.push({'type': 'mkdir', 'value': ''}); $(document).trigger('drawArrows') }">
-		     ${ _('Directory') } <i class="fa fa-plus"></i>
-		   </a>
-		   <a class="pointer" data-bind="click: function(){ properties.prepares.push({'type': 'delete', 'value': ''}); $(document).trigger('drawArrows') }">
-		     ${ _('Delete') } <i class="fa fa-plus"></i>
-		   </a>
-		
-		   <h6>
-		     <a class="pointer" data-bind="click: function(){ properties.job_properties.push({'name': '', 'value': ''}); $(document).trigger('drawArrows') }">
-		       ${ _('Properties') } <i class="fa fa-plus"></i>
-		     </a>
-		   </h6>
-           <ul data-bind="visible: properties.job_properties().length > 0, foreach: properties.job_properties" class="unstyled">
-           <li>
-             <input type="text" data-bind="value: name" placeholder="${ _('name, e.g. mapred.job.queue.name') }"/>
-             <input type="text" class="filechooser-input input-xlarge" data-bind="filechooser: value, filechooserOptions: globalFilechooserOptions, value: value, attr: { placeholder: $root.workflow_properties.job_properties.help_text }"/>
-             <a href="#" data-bind="click: function(){ $parent.properties.job_properties.remove(this); $(document).trigger('drawArrows') }">
-               <i class="fa fa-minus"></i>
-              </a>
-             </li>
-           </ul>
-           <em data-bind="visible: properties.job_properties().length == 0">${ _('No properties defined.') }</em>
-
-           <h6>             
-             <span data-bind="text: $root.workflow_properties.java_opts.label"></span>             
-           </h6>
-           <input type="text" class="input-xlarge" data-bind="value: properties.java_opts, attr: { placeholder: $root.workflow_properties.java_opts.help_text }" />
-        </div>
-
-        <div class="tab-pane" data-bind="attr: { id: 'sla-' + id() }">
-          <span data-bind="template: { name: 'common-action-sla' }"></span>
-        </div>
-
-        <div class="tab-pane" data-bind="attr: { id: 'credentials-' + id() }">
-          <span data-bind="template: { name: 'common-action-credentials' }"></span>
-        </div>
-
-        <div class="tab-pane" data-bind="attr: { id: 'transitions-' + id() }">
-          <span data-bind="template: { name: 'common-action-transition' }"></span>
-        </div>
-      </div>
-    </div>
-  </div>
-  <!-- /ko -->
-</script>
-
-
-<div id="addActionDemiModal" class="demi-modal demi-modal-half hide" data-backdrop="false">
-  <div class="modal-body">
-    <table data-bind="foreach: addActionProperties">
-      <tr>
-        <td data-bind="text: label" style="width: 1%; padding-right: 10px" class="no-wrap"></td>
-        <td>
-          <!-- ko if: type() == '' -->
-          <input type="text" class="filechooser-input" style="width:80%" data-bind="value: value, valueUpdate:'afterkeydown', filechooser: value, filechooserOptions: globalFilechooserOptions, attr: { placeholder: help_text }">
-          <!-- /ko -->
-          <!-- ko if: type() == 'text' -->
-          <input type="text" data-bind="value: value, valueUpdate:'afterkeydown', attr: { placeholder: help_text }" class="input-xlarge"/>
-          <!-- /ko -->
-          <!-- ko if: type() == 'textarea' -->
-          <textarea data-bind="value: value, valueUpdate:'afterkeydown'" class="input-xlarge"></textarea>
-          <!-- /ko -->
-          <!-- ko if: type() == 'workflow' -->
-          <select data-bind="options: $root.subworfklows, optionsText: 'name', optionsValue: 'value', value: value"></select>
-          <!-- /ko -->
-
-          <!-- ko if: type() == 'distcp' -->
-          ${ _('Source') }
-          <input type="text" class="filechooser-input" data-bind="value: value()[0].value, valueUpdate:'afterkeydown', filechooser: value()[0].value, filechooserOptions: globalFilechooserOptions" placeholder="${ _('e.g. ${nameNode1}/path/to/input.txt') }">
-          </br>
-          ${ _('Destination') }
-          <input type="text" class="filechooser-input" data-bind="value: value()[1].value, valueUpdate:'afterkeydown', filechooser: value()[1].value, filechooserOptions: globalFilechooserOptions" placeholder="${ _('e.g. ${nameNode2}/path/to/output.txt') }">
-          <!-- /ko -->
-
-          <!-- ko if: ['jar_path', 'script_path', 'mapper', 'reducer', 'hive_xml'].indexOf(name()) != -1 &&  value().length > 0 -->
-            <span data-bind='template: { name: "common-fs-link", data: {path: value(), with_label: false}}'></span>
-          <!-- /ko -->
-          <!-- ko if: name() == 'workflow' && $root.getSubWorkflow(value())-->
-          <span data-bind="with: $root.getSubWorkflow(value())">
-            <a href="#" data-bind="attr: { href: '${ url('oozie:edit_workflow') }' + '?workflow=' + $data.value() }" target="_blank" title="${ _('Open') }">
-              <i class="fa fa-external-link-square"></i>
-            </a>
-          </span>
-          <!-- /ko -->
-        </td>
-      </tr>
-    </table>
-
-    <br/>
-    <a class="btn btn-primary disable-feedback" data-bind="css: {'disabled': ! addActionPropertiesFilledOut()}, click: function(field){ addActionPropertiesFilledOut() ? addActionDemiModalFieldPreview(field) : void(0) } ">
-      ${ _('Add') }
-    </a>
-  </div>
-</div>
-
-<div id="settingsModal" class="modal fade hide">
-  <div class="modal-header" style="padding-bottom: 2px">
-    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
-    <h3>${ _('Workflow Settings') }</h3>
-  </div>
-  <div class="modal-body">
-      <h4>${ _('Variables') }</h4>
-      <ul data-bind="foreach: $root.workflow.properties.parameters" class="unstyled">
-        <!-- ko if: name() != 'oozie.use.system.libpath' -->
-        <li>
-          <input type="text" data-bind="value: name"/>
-          <input type="text" data-bind="value: value"/>
-          <a href="#" data-bind="click: function(){ $root.workflow.properties.parameters.remove(this); }">
-            <i class="fa fa-minus"></i>
-          </a>
-        </li>
-        <!-- /ko -->
-      </ul>
-      <a class="pointer" data-bind="click: function(){ $root.workflow.properties.parameters.push(ko.mapping.fromJS({'name': '', 'value': ''})); }">
-        <i class="fa fa-plus"></i> ${ _('Add parameter') }
-      </a>
-
-      <h4>${_("Workspace")}</h4>
-      <input type="text" class="input-xlarge filechooser-input" data-bind="filechooser: {value: $root.workflow.properties.deployment_dir, displayJustLastBit: true}, filechooserOptions: globalFilechooserOptions" rel="tooltip"/>
-
-	  <h4>${ _('Hadoop Properties') }</h4>
-      <ul data-bind="foreach: $root.workflow.properties.properties" class="unstyled">
-        <li>
-          <input type="text" data-bind="value: name"/>
-          <input type="text" data-bind="value: value"/>
-          <a href="#" data-bind="click: function(){ $root.workflow.properties.properties.remove(this); }">
-            <i class="fa fa-minus"></i>
-          </a>
-        </li>
-      </ul>
-      <a class="pointer"  data-bind="click: function(){ $root.workflow.properties.properties.push({'name': '', 'value': ''}); }">
-        <i class="fa fa-plus"></i> ${ _('Add property') }
-      </a>
-
-      <h4>${ _("Show graph arrows") }</h4>      
-      <input type="checkbox" data-bind="checked: $root.workflow.properties.show_arrows" title="${ _('Toggle arrow showing') }" rel="tooltip" data-placement="bottom" />
-
-      <h4>${ _("Version") }</h4>
-      <select class="input-xlarge" data-bind="value: $root.workflow.properties.schema_version, options: $root.workflow.versions"></select>
-
-      <h4>${ _("Job XML") }</h4>
-      <input type="text" class="input-xlarge filechooser-input" data-bind="filechooser: $root.workflow.properties.job_xml, filechooserOptions: globalFilechooserOptions"/>
-
-      <h4>${ _('SLA Configuration') }</h4>
-      <div class="sla-form" data-bind="with: $root.workflow.properties">
-        ${ utils.slaForm() }
-      </div>
-  </div>
-</div>
-
-
-<div id="submit-wf-modal" class="modal hide"></div>
-
-<div id="chooseFile" class="modal hide fade">
-  <div class="modal-header">
-      <a href="#" class="close" data-dismiss="modal">&times;</a>
-      <h3>${_('Choose a file')}</h3>
-  </div>
-  <div class="modal-body">
-      <div id="filechooser">
-      </div>
-  </div>
-  <div class="modal-footer">
-  </div>
-</div>
-
-
-</div>
-
-<div id="exposeOverlay"></div>
-
-<link rel="stylesheet" href="/static/ext/css/hue-filetypes.css">
-<link rel="stylesheet" href="/static/ext/css/hue-charts.css">
-<link rel="stylesheet" href="/static/ext/chosen/chosen.min.css">
-<link rel="stylesheet" href="/oozie/static/css/common-editor.css">
-<link rel="stylesheet" href="/oozie/static/css/workflow-editor.css">
-
-
-${ dashboard.import_layout() }
-
-${ commonshare() | n,unicode }
-
-<script src="/static/ext/js/bootstrap-editable.min.js" type="text/javascript" charset="utf-8"></script>
-<script src="/static/js/hue.utils.js"></script>
-<script src="/static/js/ko.editable.js" type="text/javascript" charset="utf-8"></script>
-<script src="/static/ext/chosen/chosen.jquery.min.js" type="text/javascript" charset="utf-8"></script>
-<script src="/static/js/share.vm.js"></script>
-<script src="/static/js/jquery.hdfsautocomplete.js" type="text/javascript" charset="utf-8"></script>
-
-${ dashboard.import_bindings() }
-
-<script src="/oozie/static/js/workflow-editor.ko.js" type="text/javascript" charset="utf-8"></script>
-<script src="/static/ext/js/jquery/plugins/jquery.curvedarrow.js" type="text/javascript" charset="utf-8"></script>
-
-
-<script type="text/javascript">
-  ${ utils.slaGlobal() }
-
-  var viewModel = new WorkflowEditorViewModel(${ layout_json | n,unicode }, ${ workflow_json | n,unicode }, ${ credentials_json | n,unicode }, ${ workflow_properties_json | n,unicode }, ${ subworkflows_json | n,unicode }, ${ can_edit_json | n,unicode }); 
-  ko.applyBindings(viewModel, $("#editor")[0]);
-
-  var shareViewModel = initSharing("#documentShareModal");
-  shareViewModel.setDocId(${ doc1_id });
-
-  viewModel.init();
-  fullLayout(viewModel);
-
-  var globalFilechooserOptions = {
-    skipInitialPathIfEmpty: true,
-    showExtraHome: true,
-    uploadFile: true,
-    createFolder: true,
-    extraHomeProperties: {
-      label: '${ _('Workspace') }',
-      icon: 'fa-folder-open',
-      path: viewModel.workflow.properties.deployment_dir()
-    }
-  }
-
-  function columnDropAdditionalHandler(widget) {
-    widgetDraggedAdditionalHandler(widget);
-  }
-
-  function widgetDraggedAdditionalHandler(widget) {
-    $("canvas").remove();
-    if (viewModel.currentlyDraggedWidget() && viewModel.currentlyDraggedWidget().id() == ""){
-      viewModel.workflow.newNode(widget);
-      showAddActionDemiModal(widget);
-    }
-    else {
-      if (viewModel.currentlyDraggedOp() == "move"){
-        viewModel.workflow.moveNode(widget);
-      }
-      else { // Copy
-        var _sourceNode = viewModel.workflow.getNodeById(viewModel.currentlyDraggedWidget().id());
-        viewModel.workflow.newNode(widget, viewModel.workflow.addNode, _sourceNode);
-      }
-      $(document).trigger("drawArrows");
-    }
-  }
-
-
-  $(document).on("showSubmitPopup", function(event, data){
-    if (! viewModel.workflow.isDirty()){
-      $('#submit-wf-modal').html(data);
-      $('#submit-wf-modal').modal('show');
-    }
-  });
-
-
-  function showAddActionDemiModal(widget) {
-    viewModel.newAction(widget);
-    $("#exposeOverlay").fadeIn(300);
-    var _el = $("#wdg_" + widget.id());
-    _el.css("zIndex", "1032");
-    var lastSeenPosition = _el.position();
-    var _width = _el.width();
-
-    _el.css("position", "absolute");
-    _el.css({
-      "top": (lastSeenPosition.top) + "px",
-      "left": lastSeenPosition.left + "px",
-      "width": 450
-    });
-    $("#addActionDemiModal").width(_el.width()).css("top", _el.offset().top + 25).css("left", _el.offset().left).modal("show");
-    $("html, body").animate({
-      scrollTop: $("#addActionDemiModal").offset().top - 200
-    }, 200);
-  }
-
-  function addActionDemiModalFieldPreview(field) {
-    if (viewModel.newAction() != null) {
-      var _el = $("#wdg_" + viewModel.newAction().id());
-      _el.css("position", "static");
-      _el.css("width", "");
-      viewModel.workflow.addNode(viewModel.newAction());
-      $("#addActionDemiModal").modal("hide");
-      $("#wdg_" + viewModel.newAction().id()).css("zIndex", "0");
-      $("#exposeOverlay").fadeOut(300);
-      viewModel.newAction(null);
-    }
-  }
-
-  function addActionDemiModalFieldCancel() {
-    $("#exposeOverlay").fadeOut(300);
-    $("#addActionDemiModal").modal("hide");
-    if (viewModel.newAction()){
-      viewModel.removeWidgetById(viewModel.newAction().id());
-    }
-    viewModel.newAction(null);
-  }
-
-  function linkWidgets(fromId, toId) {
-    var _from = $("#wdg_" + (typeof fromId == "function" ? fromId() : fromId));
-    var _to = $("#wdg_" + (typeof toId == "function" ? toId() : toId));
-    if (_from.length > 0 && _to.length > 0){
-      var _fromCenter = {
-        x: _from.position().left + _from.outerWidth() / 2,
-        y: _from.position().top + _from.outerHeight() + 3
-      }
-
-      var _toCenter = {
-        x: _to.position().left + _to.outerWidth() / 2,
-        y: _to.position().top - 5
-      }
-
-      var _curveCoords = {};
-
-      if (_fromCenter.x == _toCenter.x) {
-        _curveCoords.x = _fromCenter.x;
-        _curveCoords.y = _fromCenter.y + (_toCenter.y - _fromCenter.y) / 2;
-      }
-      else {
-        if (_fromCenter.x > _toCenter.x) {
-          _fromCenter.x = _fromCenter.x - 5;
-          _toCenter.x = _toCenter.x + 5;
-        }
-        else {
-          _fromCenter.x = _fromCenter.x + 5;
-          _toCenter.x = _toCenter.x - 5;
-        }
-        _curveCoords.x = _fromCenter.x - (_fromCenter.x - _toCenter.x) / 4;
-        _curveCoords.y = _fromCenter.y + (_toCenter.y - _fromCenter.y) / 2;
-      }
-
-      $(document.body).curvedArrow({
-        p0x: _fromCenter.x,
-        p0y: _fromCenter.y,
-        p1x: _curveCoords.x,
-        p1y: _curveCoords.y,
-        p2x: _toCenter.x,
-        p2y: _toCenter.y,
-        lineWidth: 2,
-        size: 10,
-        strokeStyle: viewModel.isEditing()?'#e5e5e5':'#dddddd'
-      });
-    }
-  }
-
-  function drawArrows(){
-    $("canvas").remove();
-    if (viewModel.oozieColumns()[0].rows().length > 3){
-      var _links = viewModel.workflow.linkMapping();
-      Object.keys(_links).forEach(function(id){
-        if (_links[id].length > 0){
-          _links[id].forEach(function(nextId){
-            linkWidgets(id, nextId);
-          });
-        }
-      });
-    }
-  }
-
-  var _linkMappingTimeout = -1;
-  $(document).on("drawArrows", function(){
-    window.clearTimeout(_linkMappingTimeout);
-    _linkMappingTimeout = window.setTimeout(renderChangeables, 25);
-  });
-
-  $(document).on("removeArrows", function(){
-    $("canvas").remove();
-  });
-
-  $(document).on("editingToggled", function(){
-    $("canvas").remove();
-    exposeOverlayClickHandler();
-    window.setTimeout(renderChangeables, 100);
-  });
-
-  function resizeDrops() {
-    $(".drop-target-side").each(function () {
-      var _el = $(this);
-      _el.height(0);
-      window.setTimeout(function(){
-        _el.height(_el.parent().parent().innerHeight() - 12);
-      }, 20);
-    });
-  }
-
-  function renderChangeables() {
-    resizeDrops();
-    if (viewModel.workflow.properties.show_arrows()){
-      drawArrows();
-    }
-  }
-
-  var lastSeenPosition = null;
-  var lastExpandedWidget = null;
-  function setLastExpandedWidget(widget) {
-    lastExpandedWidget = widget;
-    if (! widget.oozieExpanded()){
-      var _el = $("#wdg_" + widget.id());
-      if (_el.width() < 400){
-        _el.css("z-index", "1032");
-        lastSeenPosition = _el.position();
-        var _width = _el.width();
-
-        _el.css("position", "absolute");
-        _el.css({
-          "top": (lastSeenPosition.top) + "px",
-          "left": lastSeenPosition.left + "px",
-          "width": _width
-        });
-        _el.width(500);
-        $("#exposeOverlay").fadeIn(300);  
-        widget.oozieExpanded(true);
-      }
-      else {
-        widget.oozieExpanded(false);
-      }
-    }
-  }
-
-  function toggleProperties(widget) {
-    if (widget.oozieMovable()) {
-      var _el = $("#wdg_" + widget.id());
-      if (! widget.ooziePropertiesExpanded()) {
-        setLastExpandedWidget(widget);
-        _el.find(".prop-editor").show();
-        widget.ooziePropertiesExpanded(true);
-      }
-      else {
-        if (widget.oozieExpanded()){
-          exposeOverlayClickHandler();
-        }
-        else {
-          _el.find(".prop-editor").hide();
-          widget.ooziePropertiesExpanded(false);
-        }
-      }
-      $(document).trigger("drawArrows");
-    }
-  }
-
-  function exposeOverlayClickHandler() {
-    if (lastExpandedWidget) {
-      var _el = $("#wdg_" + lastExpandedWidget.id());
-      _el.find(".prop-editor").hide();
-      _el.removeAttr("style");
-      lastExpandedWidget.ooziePropertiesExpanded(false);
-      lastExpandedWidget.oozieExpanded(false);
-    }
-    addActionDemiModalFieldCancel();
-    $("#exposeOverlay").fadeOut(300);
-    $(document).trigger("drawArrows");
-  }
-
-  $(document).ready(function(){
-    renderChangeables();
-
-    $("#exposeOverlay").on("click", exposeOverlayClickHandler);
-
-    $(document).keyup(function(e) {
-      if (e.keyCode == 27) {
-        exposeOverlayClickHandler();
-        addActionDemiModalFieldCancel();
-        $("#addActionDemiModal").modal("hide");
-      }
-    });
-
-    var resizeTimeout = -1;
-    $(window).on("resize", function () {
-      window.clearTimeout(resizeTimeout);
-      resizeTimeout = window.setTimeout(function () {
-        renderChangeables();
-      }, 200);
-    });
-
-    $(document).on("click", ".widget-main-section", function(e){
-      if (! $(e.target).is("a") && ! $(e.target).is("input") && ! $(e.target).is("i") && ! $(e.target).is("button")){
-        setLastExpandedWidget(ko.dataFor($(e.target).parents(".card-widget")[0]));
-      }
-    });
-
-    $.jHueScrollUp();
-    $(".custom-popover").popover();
-  });
-
-</script>
-
-${ commonfooter(messages) | n,unicode }
diff --git a/apps/oozie/src/oozie/templates/editor2/bundle_editor.mako b/apps/oozie/src/oozie/templates/editor2/bundle_editor.mako
new file mode 100644
index 0000000..42ddb08
--- /dev/null
+++ b/apps/oozie/src/oozie/templates/editor2/bundle_editor.mako
@@ -0,0 +1,240 @@
+## Licensed to Cloudera, Inc. under one
+## or more contributor license agreements.  See the NOTICE file
+## distributed with this work for additional information
+## regarding copyright ownership.  Cloudera, Inc. licenses this file
+## to you under the Apache License, Version 2.0 (the
+## "License"); you may not use this file except in compliance
+## with the License.  You may obtain a copy of the License at
+##
+##     http://www.apache.org/licenses/LICENSE-2.0
+##
+## Unless required by applicable law or agreed to in writing, software
+## distributed under the License is distributed on an "AS IS" BASIS,
+## WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+## See the License for the specific language governing permissions and
+## limitations under the License.
+<%!
+from desktop.views import commonheader, commonfooter, commonshare
+from django.utils.translation import ugettext as _
+%>
+
+<%namespace name="dashboard" file="/common_dashboard.mako" />
+
+${ commonheader(_("Bundle Editor"), "Oozie", user) | n,unicode }
+
+<script type="text/javascript">
+  if (window.location.hash != "") {
+    if (window.location.hash.indexOf("bundle") > -1) {
+      location.href = "/oozie/editor/bundle/edit/?" + window.location.hash.substr(1);
+    }
+  }
+</script>
+
+
+<div id="editor">
+
+
+<div class="search-bar">
+  <div class="pull-right" style="padding-right:50px">
+    <a title="${ _('Submit') }" rel="tooltip" data-placement="bottom" data-bind="click: showSubmitPopup, css: {'btn': true}, visible: bundle.id() != null">
+      <i class="fa fa-play"></i>
+    </a>
+    <a title="${ _('Edit') }" rel="tooltip" data-placement="bottom" data-bind="click: toggleEditing, css: {'btn': true, 'btn-inverse': isEditing}, visible: canEdit">
+      <i class="fa fa-pencil"></i>
+    </a>
+
+    &nbsp;&nbsp;&nbsp;
+
+    <button type="button" title="${ _('Settings') }" rel="tooltip" data-placement="bottom" data-toggle="modal" data-target="#settingsModal" data-bind="css: {'btn': true}, visible: canEdit">
+      <i class="fa fa-cog"></i>
+    </button>
+
+    &nbsp;&nbsp;&nbsp;
+
+    <button type="button" title="${ _('Save') }" rel="tooltip" data-placement="bottom" data-loading-text="${ _("Saving...") }" data-bind="click: $root.save, css: {'btn': true}, visible: canEdit">
+      <i class="fa fa-save"></i>
+    </button>
+
+    <a class="share-link btn" rel="tooltip" data-placement="bottom" data-bind="click: openShareModal,
+        attr: {'data-original-title': '${ _("Share") } ' + name},
+        css: {'isShared': isShared(), 'btn': true},
+        visible: bundle.id() != null && canEdit()">
+      <i class="fa fa-users"></i>
+    </a>
+
+    &nbsp;&nbsp;&nbsp;
+
+    <a class="btn" href="${ url('oozie:new_bundle') }" title="${ _('New') }" rel="tooltip" data-placement="bottom" data-bind="css: {'btn': true}">
+      <i class="fa fa-file-o"></i>
+    </a>
+    <a class="btn" href="${ url('oozie:list_editor_bundles') }" title="${ _('Bundles') }" rel="tooltip" data-placement="bottom" data-bind="css: {'btn': true}">
+      <i class="fa fa-tags"></i>
+    </a>
+  </div>
+
+  <form class="form-search">
+    <div class="inline object-name">
+      <span data-bind="editable: $root.bundle.name, editableOptions: {enabled: $root.isEditing(), placement: 'right'}"></span>
+    </div>
+  </form>
+</div>
+
+
+<div class="container-fluid">
+  <div class="row-fluid">
+    <div class="span12 bundle">
+
+      <div class="card card-home">
+        <h1 class="card-heading simple">${ _('Which schedules to bundle?') }</h1>
+
+        <div class="card-body">
+
+          <a class="pointer" data-bind="click: function() { showChooseCoordinator(); }">
+            <i class="fa fa-plus"></i> ${ _('Add a coordinator') }
+          </a>
+
+          
+          <ul data-bind="foreach: bundle.coordinators" class="unstyled">
+            <li>
+              <h3><a class="pointer" data-bind="click: function() { showChooseCoordinator(this); }, text: $root.getCoordinatorById(coordinator()).name"></a></h3>
+
+              <ul data-bind="foreach: properties" class="unstyled">
+                <li>
+                  <input data-bind="value: name"/>
+                  <input data-bind="value: value"/>
+                  <a href="#" data-bind="click: function(){ $parent.properties.remove(this); }">
+                    <i class="fa fa-minus"></i>
+                  </a>
+                </li>
+              </ul>
+
+              <a class="pointer" data-bind="click: function(){ $data.properties.push({'name': '', 'value': ''}); }">
+                <i class="fa fa-plus"></i> ${ _('Add a parameter') }
+              </a>
+            </li>          
+          </ul>
+        </div>
+        
+      </div>
+
+    </div>
+  </div>
+</div>
+
+
+<div id="chooseCoordinatorDemiModal" class="demi-modal hide" data-backdrop="false">
+  <div class="modal-body">
+    <a href="javascript: void(0)" data-dismiss="modal" class="pull-right"><i class="fa fa-times"></i></a>
+    <div style="float: left; margin-right: 10px;text-align: center">
+      <input type="text" data-bind="clearable: $root.coordinatorModalFilter, valueUpdate:'afterkeydown'" placeholder="${_('Filter coordinators')}" class="input" style="float: left" /><br/>
+    </div>
+    <div>
+      <ul data-bind="foreach: $root.filteredModalCoordinators().sort(function (l, r) { return l.name() > r.name() ? 1 : -1 }), visible: $root.filteredModalCoordinators().length > 0"
+          class="unstyled inline fields-chooser" style="height: 100px; overflow-y: auto">
+        <li data-bind="click: selectCoordinator">
+          <span class="badge badge-info"><span data-bind="text: name(), attr: {'title': uuid()}"></span>
+          </span>
+        </li>
+      </ul>
+      <div class="alert alert-info inline" data-bind="visible: $root.filteredModalCoordinators().length == 0" style="margin-left: 250px;margin-right: 50px; height: 42px;line-height: 42px">
+        ${_('There are no coordinators matching your search term.')}
+      </div>
+    </div>
+  </div>
+</div>
+
+
+<div id="settingsModal" class="modal hide fade">
+  <div class="modal-header" style="padding-bottom: 2px">
+    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
+    <h3 id="myModalLabel">${ _('Settings') }</h3>
+  </div>
+  <div class="modal-body">
+      <h4>${ _('Kick off time') }</h4>
+      <input data-bind="value: bundle.properties.kickoff"/>
+        
+      <h4>${ _('Submission Parameters') }</h4>
+      <ul data-bind="foreach: bundle.properties.parameters" class="unstyled">
+        <li>
+          <input data-bind="value: name"/>
+          <input data-bind="value: value"/>
+          <a href="#" data-bind="click: function(){ $root.bundle.properties.parameters.remove(this); }">
+            <i class="fa fa-minus"></i>
+          </a>
+        </li>
+      </ul>
+      <a class="pointer" data-bind="click: function(){ $root.bundle.properties.parameters.push({'name': '', 'value': ''}); }">
+        <i class="fa fa-plus"></i> ${ _('Add parameter') }
+      </a>
+  </div>
+</div>
+
+
+<div id="submit-modal" class="modal hide"></div>
+
+
+</div>
+
+
+<div id="exposeOverlay"></div>
+
+<link rel="stylesheet" href="/static/ext/css/hue-filetypes.css">
+<link rel="stylesheet" href="/static/ext/css/hue-charts.css">
+<link rel="stylesheet" href="/static/ext/chosen/chosen.min.css">
+<link rel="stylesheet" href="/oozie/static/css/common-editor.css">
+<link rel="stylesheet" href="/oozie/static/css/coordinator-editor.css">
+
+${ dashboard.import_layout() }
+
+${ commonshare() | n,unicode }
+
+<script src="/static/ext/js/bootstrap-editable.min.js" type="text/javascript" charset="utf-8"></script>
+<script src="/static/js/hue.utils.js"></script>
+<script src="/static/js/ko.editable.js" type="text/javascript" charset="utf-8"></script>
+<script src="/static/ext/chosen/chosen.jquery.min.js" type="text/javascript" charset="utf-8"></script>
+<script src="/static/js/share.vm.js"></script>
+
+${ dashboard.import_bindings() }
+
+<script src="/oozie/static/js/bundle-editor.ko.js" type="text/javascript" charset="utf-8"></script>
+
+
+<script type="text/javascript">
+  var viewModel = new BundleEditorViewModel(${ bundle_json | n,unicode }, ${ coordinators_json | n,unicode }, ${ can_edit_json | n,unicode });
+  ko.applyBindings(viewModel, $("#editor")[0]);
+
+  var shareViewModel = initSharing("#documentShareModal");
+  shareViewModel.setDocId(${ doc1_id });
+
+  var tempCoordinator = null;
+  function showChooseCoordinator(coord) {
+    if (typeof coord != "undefined"){
+      tempCoordinator = coord;  
+    }
+    $("#chooseCoordinatorDemiModal").modal("show");
+  }
+
+  function selectCoordinator(coord) {
+    if (tempCoordinator != null){
+      tempCoordinator.coordinator(coord.uuid());
+      tempCoordinator = null;
+    } 
+    else  {
+      viewModel.addBundledCoordinator(coord.uuid());
+    }
+    $("#chooseCoordinatorDemiModal").modal("hide");
+  }
+
+  $(document).on("showSubmitPopup", function(event, data){
+    $('#submit-modal').html(data);
+    $('#submit-modal').modal('show');
+  });
+
+  $(document).ready(function() {
+    $("#chooseCoordinatorDemiModal").modal({
+      show: false
+    });
+  });
+</script>
+
+${ commonfooter(messages) | n,unicode }
diff --git a/apps/oozie/src/oozie/templates/editor2/coordinator_editor.mako b/apps/oozie/src/oozie/templates/editor2/coordinator_editor.mako
new file mode 100644
index 0000000..3cf93c3
--- /dev/null
+++ b/apps/oozie/src/oozie/templates/editor2/coordinator_editor.mako
@@ -0,0 +1,569 @@
+## Licensed to Cloudera, Inc. under one
+## or more contributor license agreements.  See the NOTICE file
+## distributed with this work for additional information
+## regarding copyright ownership.  Cloudera, Inc. licenses this file
+## to you under the Apache License, Version 2.0 (the
+## "License"); you may not use this file except in compliance
+## with the License.  You may obtain a copy of the License at
+##
+##     http://www.apache.org/licenses/LICENSE-2.0
+##
+## Unless required by applicable law or agreed to in writing, software
+## distributed under the License is distributed on an "AS IS" BASIS,
+## WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+## See the License for the specific language governing permissions and
+## limitations under the License.
+<%!
+from desktop.views import commonheader, commonfooter, commonshare
+from django.utils.translation import ugettext as _
+%>
+
+<%namespace name="dashboard" file="/common_dashboard.mako" />
+<%namespace name="utils" file="../utils.inc.mako" />
+<%namespace name="coordinator_utils" file="coordinator_utils.mako" />
+
+${ commonheader(_("Coordinator Editor"), "Oozie", user) | n,unicode }
+
+<script type="text/javascript">
+  if (window.location.hash != "") {
+    if (window.location.hash.indexOf("coordinator") > -1) {
+      location.href = "/oozie/editor/coordinator/edit/?" + window.location.hash.substr(1);
+    }
+  }
+</script>
+
+
+<div id="editor">
+
+<div class="search-bar">
+  <div class="pull-right" style="padding-right:50px">
+    <a title="${ _('Submit') }" rel="tooltip" data-placement="bottom" data-bind="click: showSubmitPopup, css: {'btn': true}, visible: coordinator.id() != null">
+      <i class="fa fa-play"></i>
+    </a>
+    
+    &nbsp;&nbsp;&nbsp;
+    
+    <a title="${ _('Edit') }" rel="tooltip" data-placement="bottom" data-bind="click: toggleEditing, css: {'btn': true, 'btn-inverse': isEditing}, visible: canEdit">
+      <i class="fa fa-pencil"></i>
+    </a>
+
+    &nbsp;&nbsp;&nbsp;
+
+    <button type="button" title="${ _('Settings') }" rel="tooltip" data-placement="bottom" data-toggle="modal" data-target="#settingsModal" data-bind="css: {'btn': true}, visible: canEdit">
+      <i class="fa fa-cog"></i>
+    </button>
+
+    &nbsp;&nbsp;&nbsp;
+
+    <button type="button" title="${ _('Save') }" rel="tooltip" data-placement="bottom" data-loading-text="${ _("Saving...") }"
+        data-bind="click: $root.save, css: {'btn': true}, visible: coordinator.properties.workflow() && canEdit">
+      <i class="fa fa-save"></i>
+    </button>
+
+    <a class="share-link btn" rel="tooltip" data-placement="bottom" data-bind="click: openShareModal,
+        attr: {'data-original-title': '${ _("Share") } ' + name},
+        css: {'isShared': isShared(), 'btn': true},
+        visible: coordinator.id() != null && canEdit()">
+      <i class="fa fa-users"></i>
+    </a>
+
+    &nbsp;&nbsp;&nbsp;
+
+    <a class="btn" href="${ url('oozie:new_coordinator') }" title="${ _('New') }" rel="tooltip" data-placement="bottom" data-bind="css: {'btn': true}">
+      <i class="fa fa-file-o"></i>
+    </a>
+    <a class="btn" href="${ url('oozie:list_editor_coordinators') }" title="${ _('Coordinators') }" rel="tooltip" data-placement="bottom" data-bind="css: {'btn': true}">
+      <i class="fa fa-tags"></i>
+    </a>
+
+  </div>
+
+  <form class="form-search">
+    <span data-bind="visible: coordinator.id() == null" class="muted pull-right">${ _('Unsaved') }&nbsp;&nbsp;&nbsp;</span>
+
+    <div class="inline object-name">
+      <span data-bind="editable: $root.coordinator.name, editableOptions: {enabled: $root.isEditing(), placement: 'right'}"></span>
+    </div>
+  </form>
+</div>
+
+
+<div class="container-fluid">
+  <div class="row-fluid">
+    <div class="span12 coordinator">
+
+      <div class="card card-home">
+        <h1 class="card-heading simple">${ _('Which workflow to schedule?') }</h1>
+
+        <div class="card-body">
+          <a class="pointer" data-bind="visible: ! coordinator.properties.workflow(), click: showChooseWorkflow">${ _('Choose a workflow...') }</a>
+          <!-- ko if: coordinator.properties.workflow -->
+            <!-- ko if: isEditing -->
+            <a class="pointer" data-bind="click: showChooseWorkflow, text: getWorkflowById(coordinator.properties.workflow()).name"></a>
+
+            <a data-bind="attr: { href: '${ url('oozie:edit_workflow') }?workflow=' + coordinator.properties.workflow() }" target="_blank" title="${ _('Open') }">
+             <i class="fa fa-external-link-square"></i>
+            </a>
+            <!-- /ko -->
+            <!-- ko ifnot: isEditing -->
+            <span data-bind="text: getWorkflowById(coordinator.properties.workflow()).name"></span>
+            <a data-bind="attr: { href: '${ url('oozie:edit_workflow') }?workflow=' + coordinator.properties.workflow() }" target="_blank" title="${ _('Open') }">
+              <i class="fa fa-external-link-square"></i>
+            </a>
+            <!-- /ko -->
+          <!-- /ko -->
+        </div>
+      </div>
+
+      <div class="card card-home" data-bind="visible: coordinator.properties.workflow" style="margin-top: 20px">
+        <h1 class="card-heading simple">${ _('How often?') }</h1>
+
+        <div class="card-body">
+
+        <form class="form-horizontal">
+          <div class="control-group" data-bind="visible: ! coordinator.properties.cron_advanced()">
+            <div class="controls" id="jqCron-container">
+              <div id="jqCron-instance" style="margin-top: 5px; display: inline-block"></div>
+            </div>
+          </div>
+          <div class="control-group" data-bind="visible: coordinator.properties.cron_advanced">
+            <label class="control-label">${ _('Crontab') }</label>
+            <div class="controls">
+              <input id="coord-frequency" type="text" data-bind="value: coordinator.properties.cron_frequency" name="cron_frequency"/>
+              <span class="help-inline"><a data-bind="visible: coordinator.properties.cron_advanced" href="http://quartz-scheduler.org/api/2.2.0/org/quartz/CronExpression.html" target="_blank">
+                <i class="fa fa-question-circle" title="${ _('Check syntax ?') }"></i></a>
+              </span>
+            </div>
+          </div>
+          <div class="control-group" style="margin-bottom: 0">
+            <label class="control-label"></label>
+            <div class="controls">
+            <a href="#" data-bind="click: function() { $root.coordinator.showAdvancedFrequencyUI(! $root.coordinator.showAdvancedFrequencyUI()) }">
+              <i class="fa fa-sliders"></i> <span data-bind="visible: ! coordinator.showAdvancedFrequencyUI()">${ _('Options') }</span>
+              <span data-bind="visible: coordinator.showAdvancedFrequencyUI">${ _('Hide') }</span>
+            </a>
+            </div>
+          </div>
+        </form>
+
+
+          <div data-bind="visible: coordinator.showAdvancedFrequencyUI">
+            <form class="form-horizontal">
+
+              <div class="control-group">
+                <div class="controls">
+                  <label class="checkbox" style="display: inline-block; margin-top: 5px">
+                    <input type="checkbox" name="coordinator.properties.cron_advanced" data-bind="checked: coordinator.properties.cron_advanced" /> ${ _('Advanced syntax') }
+                  </label>
+                </div>
+              </div>
+
+              <div class="control-group">
+                <label class="control-label">${ _('From') }</label>
+                <div class="controls">
+                  <div class="input-prepend input-group">
+                    <span class="add-on input-group-addon"><i class="fa fa-calendar"></i></span><input type="text" class="input-small" data-bind="value: coordinator.properties.startDateUI, datepicker: {}" />
+                  </div>
+                  <div class="input-prepend input-group">
+                    <span class="add-on input-group-addon"><i class="fa fa-clock-o"></i></span><input type="text" class="input-mini" data-bind="value: coordinator.properties.startTimeUI, timepicker: {}" />
+                  </div>
+                  <span class="help-inline"></span>
+                </div>
+              </div>
+              <div class="control-group">
+                <label class="control-label">${ _('To') }</label>
+                <div class="controls">
+                  <div class="input-prepend input-group">
+                    <span class="add-on input-group-addon"><i class="fa fa-calendar"></i></span><input type="text" class="input-small" data-bind="value: coordinator.properties.endDateUI, datepicker: {}" />
+                  </div>
+                  <div class="input-prepend input-group">
+                    <span class="add-on input-group-addon"><i class="fa fa-clock-o"></i></span><input type="text" class="input-mini" data-bind="value: coordinator.properties.endTimeUI, timepicker: {}" />
+                  </div>
+                  <span class="help-inline"></span>
+                </div>
+              </div>
+              <div class="control-group" style="margin-bottom: 0">
+                <label class="control-label">${ _('Timezone') }</label>
+                <div class="controls">
+                  <select data-bind="options: $root.availableTimezones, select2: { placeholder: '${ _("Select a Timezone") }', update: coordinator.properties.timezone}" style="width: 180px"></select>
+                  <span class="help-inline"></span>
+                </div>
+              </div>
+
+            </form>
+
+          </div>
+
+
+        </div>
+      </div>
+
+
+      <div class="card card-home" data-bind="visible: coordinator.properties.workflow()" style="margin-top: 20px; margin-bottom: 20px">
+        <h1 class="card-heading simple">${ _('Workflow Parameters') }</h1>
+
+        <div class="card-body">
+          <ul data-bind="foreach: coordinator.variables" class="unstyled">
+            <li style="margin-bottom: 10px">
+              <select data-bind="options: $parent.coordinator.workflowParameters, optionsText: 'name', optionsValue: 'name', select2: { placeholder: '${ _("Select a parameter") }', update: workflow_variable, type: 'parameter'}, visible: $root.isEditing" style="width: 250px"></select>
+
+              <span data-bind="text: workflow_variable, visible: ! $root.isEditing()"/></span>
+
+              &nbsp;&nbsp;
+
+              <div class="btn-group">
+                <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown"
+                        aria-expanded="false">
+                  <!-- ko if: dataset_type() == 'parameter' -->
+                  ${ _('Parameter') }
+                  <!-- /ko -->
+                  <!-- ko if: dataset_type() == 'input_path' -->
+                  ${ _('Input Path') }
+                  <!-- /ko -->
+                  <!-- ko if: dataset_type() == 'output_path' -->
+                  ${ _('Output Path') }
+                  <!-- /ko --> <span class="caret"></span>
+                </button>
+                <ul class="dropdown-menu" role="menu" data-bind="foreach: $parent.coordinator.variablesUI">
+                  <!-- ko if: $data != $parent.dataset_type() -->
+                  <li>
+                    <a href="#" data-bind="click: function() { $parent.dataset_type($data) } ">
+                      <!-- ko if: $data == 'parameter' -->
+                      ${ _('Parameter') }
+                      <!-- /ko -->
+                      <!-- ko if: $data == 'input_path' -->
+                      ${ _('Input Path') }
+                      <!-- /ko -->
+                      <!-- ko if: $data == 'output_path' -->
+                      ${ _('Output Path') }
+                      <!-- /ko -->
+                    </a>
+                  </li>
+                  <!-- /ko -->
+                </ul>
+              </div>
+              
+              &nbsp;&nbsp;
+              
+              <input type="text" class="filechooser-input dataset-input" data-bind="value: dataset_variable, filechooser: dataset_variable, attr: { placeholder:
+                dataset_type() == 'input_path' ? '${ _("Required data path dependency to start the worklow") }' : 
+                dataset_type() == 'output_path' ? '${ _("Data path created by the workflow") }' : 
+                '${ _("e.g. 1, 2, 3, /data/logs, coord:nominalTime()") }' },
+                valueUpdate: 'afterkeydown'" style="margin-bottom:0; width: 380px" />
+
+              <a href="#" data-bind="click: function(){ $root.coordinator.variables.remove(this); }, visible: $root.isEditing">
+                <i class="fa fa-minus"></i>
+              </a>
+
+              <!-- ko if: dataset_type() == 'input_path' || dataset_type() == 'output_path' -->
+
+                <a href="#" data-bind="click: function() { show_advanced(! show_advanced()) }">
+                  <i class="fa fa-sliders"></i>
+                </a>
+                
+                <span style="padding-left:100px">
+                  <span data-bind="visible: dataset_variable().length == 0">
+                    e.g. /data/${'$'}{YEAR}/${'$'}{MONTH}/${'$'}{DAY}
+                  </span>
+                  <span data-bind="visible: dataset_variable().length > 0">
+                    ${ _('Will convert to') }
+                    <a href="/filebrowser/view">
+                    /user/hue/2015/01/01
+                    ## use start_date as the date
+                  </span>
+                  </a>
+                </span>
+
+                <div data-bind="visible: show_advanced" style="padding: 20px">
+                  <form class="form-horizontal">
+                    <div class="control-group">
+                      <label class="control-label">${ _('Done flag') }</label>
+                      <div class="controls">
+                        <input type="checkbox" data-bind="checked: use_done_flag, style: {'margin-top': !use_done_flag()?'9px':'-1px'}" />
+                        <input type="text" data-bind="value: done_flag, visible: use_done_flag"/>
+                      </div>
+                    </div>
+                    <div class="control-group">
+                      <label class="control-label">${ _('Same frequency') }</label>
+                      <div class="controls">
+                        <input type="checkbox" data-bind="checked: same_frequency, style: {'margin-top': same_frequency() ? '5px' : '0'}" />
+                        <span data-bind="visible: ! same_frequency()">
+                          ${ _('Every') }
+                        </span>
+                        <select data-bind="value: frequency_number, visible: ! same_frequency()" style="width: 50px">
+                          % for i in xrange(0, 60):
+                          <option value="${ i }">${ i }</option>
+                          % endfor
+                        </select>
+                        <select data-bind="value: frequency_unit, visible: ! same_frequency()" style="width: 100px">
+                          <option value="minutes">Minutes</option>
+                          <option value="hours">Hours</option>
+                          <option value="days" selected="selected">Days</option>
+                          <option value="months">Months</option>
+                        </select>
+                      </div>
+                    </div>                  
+                    <div class="control-group">
+                      <label class="control-label">${ _('Same start') }</label>
+                      <div class="controls">
+                        <input type="checkbox" data-bind="checked: same_start, style: {'margin-top': same_start()?'9px':'-1px'}" />
+                        <input type="text" data-bind="value: start, visible: ! same_start()"/>
+                      </div>
+                    </div>                  
+                    <div class="control-group">
+                      <label class="control-label">${ _('Same timezone') }</label>
+                      <div class="controls">
+                        <input type="checkbox" data-bind="checked: same_timezone, style: {'margin-top': same_timezone()?'5px':'0'}" />
+                        <select data-bind="options: $root.availableTimezones, select2: { placeholder: '${ _("Select a Timezone") }', update: timezone}, visible: ! same_timezone()" style="width: 180px"></select>
+                      </div>
+                    </div>
+                    <div class="control-group">
+                      <label class="control-label">${ _('Instance') }</label>
+                      <div class="controls">
+                        <div class="btn-group" data-toggle="buttons-radio">
+                          <button id="default-btn" type="button" class="btn"
+                                  data-bind="click: function() { instance_choice('default'); }, css: { active: instance_choice() == 'default' }">
+                            ${ _('Default') }
+                          </button>
+                          <button id="single-btn" type="button" class="btn"
+                                  data-bind="click: function() { instance_choice('single'); }, css: { active: instance_choice() == 'single' }">
+                            ${ _('Single') }
+                          </button>
+                          <button id="range-btn" type="button" class="btn"
+                                  data-bind="click: function() { instance_choice('range'); }, css: { active: instance_choice() == 'range' }">
+                            ${ _('Range') }
+                          </button>
+                        </div>
+                      </div>
+                    </div>
+                    <div class="control-group" data-bind="visible: $.inArray(instance_choice(), ['single', 'range']) != -1">
+                      <label class="control-label">${ _('Start') }</label>
+                      <div class="controls">
+                        <input name="instance_start" type="number" data-bind="value: start_instance, enable: ! is_advanced_start_instance()"/>
+                        <label style="display: inline">
+                            &nbsp;
+                            <input type="checkbox" data-bind="checked: is_advanced_start_instance" style="margin-top:0">
+                            ${ _('(advanced)') }
+                          </label>
+                          <input type="text" data-bind="value: advanced_start_instance, visible: is_advanced_start_instance()"/>
+                      </div>
+                    </div>
+                    <div class="control-group" data-bind="visible: instance_choice() == 'range'">
+                      <label class="control-label">${ _('End') }</label>
+                      <div class="controls">
+                        <input name="instance_end" type="number" data-bind="value: end_instance, enable: ! is_advanced_end_instance()"/>
+                        <label style="display: inline">
+                            &nbsp;
+                            <input type="checkbox" data-bind="checked: is_advanced_end_instance" style="margin-top:0">
+                            ${ _('(advanced)') }
+                          </label>
+                          <input type="text" data-bind="value: advanced_end_instance, visible: is_advanced_end_instance()"/>
+                      </div>
+                    </div>
+                  </form>
+                </div>
+              <!-- /ko -->
+            </li>
+          </ul>
+
+          <a class="pointer" data-bind="click: function() { coordinator.addVariable() }, visible: isEditing">
+            <i class="fa fa-plus"></i> ${ _('Add parameter') }
+          </a>
+
+        </div>
+
+      </div>
+
+      <div class="card card-home" data-bind="visible: coordinator.id() == null && coordinator.properties.workflow()">
+        <div class="card-body">
+          <a href type="button" title="${ _('Save') }" rel="tooltip" data-placement="bottom" data-loading-text="${ _("Saving...") }"
+            data-bind="click: $root.save, css: {'btn': true}">
+            ${ _('Save') }
+          </a>
+        </div>
+      </div>
+
+    </div>
+  </div>
+</div>
+
+<div id="chooseWorkflowDemiModal" class="demi-modal hide" data-backdrop="false">
+  <div class="modal-body">
+    <a href="javascript: void(0)" data-dismiss="modal" class="pull-right"><i class="fa fa-times"></i></a>
+    <div style="float: left; margin-right: 10px;text-align: center">
+      <input type="text" data-bind="clearable: $root.workflowModalFilter, valueUpdate:'afterkeydown'" placeholder="${_('Filter workflows')}" class="input" style="float: left" /><br/>
+    </div>
+    <div>
+      <ul data-bind="foreach: $root.filteredModalWorkflows().sort(function (l, r) { return l.name() > r.name() ? 1 : -1 }), visible: $root.filteredModalWorkflows().length > 0"
+          class="unstyled inline fields-chooser" style="height: 100px; overflow-y: auto">
+        <li>
+          <span class="badge badge-info" data-bind="click: selectWorkflow">
+            <span data-bind="text: name(), attr: {'title': uuid()}"></span>
+          </span>
+          <a data-bind="attr: { href: '${ url('oozie:edit_workflow') }?workflow=' + uuid() }" target="_blank" title="${ _('Open') }">
+            <i class="fa fa-external-link-square"></i>
+          </a>
+        </li>
+      </ul>
+      <div class="alert alert-info inline" data-bind="visible: $root.filteredModalWorkflows().length == 0" style="margin-left: 250px;margin-right: 50px; height: 42px;line-height: 42px">
+        ${_('There are no workflows matching your search term.')}
+      </div>
+    </div>
+  </div>
+</div>
+
+<div id="settingsModal" class="modal hide fade">
+  <div class="modal-header" style="padding-bottom: 2px">
+    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
+    <h3 id="myModalLabel">${ _('Coordinator Settings') }</h3>
+  </div>
+  <div class="modal-body">
+      <h4>${ _('Submission Parameters') }</h4>
+      <ul data-bind="foreach: coordinator.properties.parameters" class="unstyled">
+        <!-- ko if: ['oozie.use.system.libpath', 'start_date', 'end_date'].indexOf(name()) == -1 -->
+        <li>
+          <input data-bind="value: name"/>
+          <input data-bind="value: value"/>
+          <a href="#" data-bind="click: function(){ $root.coordinator.properties.parameters.remove(this); }">
+            <i class="fa fa-minus"></i>
+          </a>
+        </li>
+        <!-- /ko -->
+      </ul>
+      <a class="pointer" data-bind="click: function(){ $root.coordinator.properties.parameters.push(ko.mapping.fromJS({'name': '', 'value': ''})); }">
+        <i class="fa fa-plus"></i> ${ _('Add parameter') }
+      </a>
+
+      <h4>${ _('Timeout') }</h4>
+      <input data-bind="value: coordinator.properties.timeout" type="number"/>
+
+      <h4>${ _('Concurrency') }</h4>
+      <select data-bind="options: availableSettings, optionsCaption: '${ _("Default") }', value: coordinator.properties.concurrency"></select>
+      
+      <h4>${ _('Execution') }</h4>
+      <select data-bind="value: coordinator.properties.execution">
+		<option value="FIFO">${ _("FIFO (oldest first)") }</option>
+		<option value="LIFO">${ _("LIFO (newest first)") }</option>
+		<option value="LAST_ONLY">${ _("LAST_ONLY (discards all older materializations)") }</option>
+      </select>
+
+      <h4>${ _('Throttle') }</h4>
+      <select data-bind="options: availableSettings, optionsCaption: '${ _("Default") }', value: coordinator.properties.throttle"></select>
+
+      <h4>${ _('SLA Configuration') }</h4>
+      <div class="sla-form" data-bind="with: $root.coordinator.properties">
+        ${ utils.slaForm() }
+      </div>
+  </div>
+</div>
+
+
+<div id="submit-coord-modal" class="modal hide"></div>
+<div id="chooseFile" class="modal hide fade">
+  <div class="modal-header">
+      <a href="#" class="close" data-dismiss="modal">&times;</a>
+      <h3>${_('Choose a file')}</h3>
+  </div>
+  <div class="modal-body">
+      <div id="filechooser">
+      </div>
+  </div>
+  <div class="modal-footer">
+  </div>
+</div>
+
+
+</div>
+
+<div id="exposeOverlay"></div>
+
+<link rel="stylesheet" href="/static/ext/css/hue-filetypes.css">
+<link rel="stylesheet" href="/static/ext/css/hue-charts.css">
+<link rel="stylesheet" href="/static/ext/chosen/chosen.min.css">
+<link rel="stylesheet" href="/oozie/static/css/common-editor.css">
+<link rel="stylesheet" href="/oozie/static/css/coordinator-editor.css">
+
+<link href="/static/css/jqCron.css" rel="stylesheet" type="text/css" />
+<script src="/static/js/jqCron.js" type="text/javascript"></script>
+
+<script src="/static/ext/js/moment.min.js" type="text/javascript" charset="utf-8"></script>
+
+<link rel="stylesheet" href="/static/ext/select2/select2.css">
+<script src="/static/ext/select2/select2.min.js" type="text/javascript" charset="utf-8"></script>
+
+${ dashboard.import_layout() }
+
+${ commonshare() | n,unicode }
+
+<script src="/static/ext/js/bootstrap-editable.min.js" type="text/javascript" charset="utf-8"></script>
+<script src="/static/js/hue.utils.js"></script>
+<script src="/static/js/ko.editable.js" type="text/javascript" charset="utf-8"></script>
+<script src="/static/ext/chosen/chosen.jquery.min.js" type="text/javascript" charset="utf-8"></script>
+<script src="/static/js/share.vm.js"></script>
+
+${ dashboard.import_bindings() }
+
+<script src="/oozie/static/js/coordinator-editor.ko.js" type="text/javascript" charset="utf-8"></script>
+
+
+<script type="text/javascript">
+  ${ utils.slaGlobal() }
+
+  ${ utils.cron_js() }
+
+  var coordCron =
+    $('#coord-frequency')
+      .jqCron({
+        texts: {
+          i18n: cron_i18n
+        },
+        enabled_minute: false,
+        multiple_dom: true,
+        multiple_month: true,
+        multiple_mins: true,
+        multiple_dow: true,
+        multiple_time_hours: true,
+        multiple_time_minutes: false,
+        default_period: 'day',
+        default_value: ${ coordinator_json | n,unicode }.properties.cron_frequency,
+        no_reset_button: true,
+        lang: 'i18n',
+        jquery_container: $('#jqCron-container'),
+        jquery_element: $('#jqCron-instance')
+      })
+      .jqCronGetInstance();
+
+  var viewModel = new CoordinatorEditorViewModel(${ coordinator_json | n,unicode }, ${ credentials_json | n,unicode }, ${ workflows_json | n,unicode }, ${ can_edit_json | n,unicode });
+  ko.applyBindings(viewModel, $("#editor")[0]);
+
+  viewModel.coordinator.properties.cron_advanced.valueHasMutated(); // Update jsCron enabled status
+
+  var shareViewModel = initSharing("#documentShareModal");
+  shareViewModel.setDocId(${ doc1_id });
+
+  function showChooseWorkflow() {
+    $("#chooseWorkflowDemiModal").modal("show");
+  }
+
+  function selectWorkflow(wf) {
+    viewModel.coordinator.properties.workflow(wf.uuid());
+    $("#chooseWorkflowDemiModal").modal("hide");
+  }
+
+  $(document).on("showSubmitPopup", function(event, data){
+    $('#submit-coord-modal').html(data);
+    $('#submit-coord-modal').modal('show');
+  });
+
+  $(document).ready(function() {
+    $("#chooseWorkflowDemiModal").modal({
+      show: false
+    });
+    
+    $(".dataset-input").typeahead({
+      source: ["/data/${'${'}YEAR}/${'${'}MONTH}/${'${'}DAY}", "${'${'}MINUTE}", "${'${'}HOUR}", "${'${'}DAY}", "${'${'}MONTH}", "${'${'}YEAR", "${'${'}coord:nominalTime()}", "${'${'}coord:formatTime(coord:nominalTime(), 'yyyyMMdd')}"]
+    });
+  });
+</script>
+
+${ commonfooter(messages) | n,unicode }
diff --git a/apps/oozie/src/oozie/templates/editor2/coordinator_utils.mako b/apps/oozie/src/oozie/templates/editor2/coordinator_utils.mako
new file mode 100644
index 0000000..e1f91d7
--- /dev/null
+++ b/apps/oozie/src/oozie/templates/editor2/coordinator_utils.mako
@@ -0,0 +1,42 @@
+## Licensed to Cloudera, Inc. under one
+## or more contributor license agreements.  See the NOTICE file
+## distributed with this work for additional information
+## regarding copyright ownership.  Cloudera, Inc. licenses this file
+## to you under the Apache License, Version 2.0 (the
+## "License"); you may not use this file except in compliance
+## with the License.  You may obtain a copy of the License at
+##
+##     http://www.apache.org/licenses/LICENSE-2.0
+##
+## Unless required by applicable law or agreed to in writing, software
+## distributed under the License is distributed on an "AS IS" BASIS,
+## WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+## See the License for the specific language governing permissions and
+## limitations under the License.
+
+<%!
+  from django.utils.translation import ugettext as _
+  from liboozie.oozie_api import get_oozie
+%>
+
+
+<%def name="frequency_fields()">
+  <div class="control-group">
+    <label class="control-label">${ _('When') }</label>
+    <div class="controls">
+      <div class="row-fluid">
+        <div class="span9">
+          <a data-bind="visible: isAdvancedCron" href="http://quartz-scheduler.org/api/2.0.0/org/quartz/CronExpression.html" class="pull-right" target="_blank">&nbsp;<i class="fa fa-question-circle" title="${ _('Check syntax ?') }"></i></a>
+          <input data-bind="visible: isAdvancedCron" id="coord-frequency" name="cron_frequency" class="pull-right"/>
+          <span data-bind="visible: isAdvancedCron" class="pull-right" style="padding-right:20px">
+            ${ _('Crontab') }
+          </span>&nbsp;
+          <label class="checkbox" style="display: inline-block"><input type="checkbox" name="isAdvancedCron" data-bind="checked: isAdvancedCron" /> (${ _('advanced') })</label>
+        </div>
+        <div class="span3">
+        </div>
+      </div>
+      <span class="help-block">${ _('The time frequency at which interval a workflow should be submitted by the coordinator. For example, once a day, every Monday at midnight, every week days, every three days...') }</span>
+    </div>
+  </div>
+</%def>
diff --git a/apps/oozie/src/oozie/templates/editor2/gen/bundle.xml.mako b/apps/oozie/src/oozie/templates/editor2/gen/bundle.xml.mako
new file mode 100644
index 0000000..bf39569
--- /dev/null
+++ b/apps/oozie/src/oozie/templates/editor2/gen/bundle.xml.mako
@@ -0,0 +1,59 @@
+## -*- coding: utf-8 -*-
+## Licensed to Cloudera, Inc. under one
+## or more contributor license agreements.  See the NOTICE file
+## distributed with this work for additional information
+## regarding copyright ownership.  Cloudera, Inc. licenses this file
+## to you under the Apache License, Version 2.0 (the
+## "License"); you may not use this file except in compliance
+## with the License.  You may obtain a copy of the License at
+##
+##     http://www.apache.org/licenses/LICENSE-2.0
+##
+## Unless required by applicable law or agreed to in writing, software
+## distributed under the License is distributed on an "AS IS" BASIS,
+## WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+## See the License for the specific language governing permissions and
+## limitations under the License.
+
+<%!
+  import json
+  from oozie.models import BundledCoordinator
+%>
+
+<bundle-app name="${ bundle.validated_name }"
+  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
+  xmlns="${ bundle.data['properties']['schema_version'] }">
+  % if bundle.data['properties']['parameters']:
+  <parameters>
+    % for p in bundle.data['properties']['parameters']:
+    <property>
+        <name>${ p['name'] }</name>
+        <value>${ json.dumps(p['value']) }</value>
+    </property>
+    % endfor
+  </parameters>
+  % endif
+
+  <controls>
+     <kick-off-time>${ bundle.kick_off_time_utc }</kick-off-time>
+  </controls>
+
+
+  % for bundled in bundle.data['coordinators']:
+  <coordinator name="${ mapping['coord_%s' % loop.index].name }-${ loop.index }">
+     <app-path>${'${'}nameNode}${ mapping['coord_%s_dir' % loop.index ] }</app-path>
+     <configuration>
+       <property>
+          <name>wf_application_path</name>
+          <value>${ mapping['wf_%s_dir' % loop.index] }</value>
+      </property>
+      % for param in bundled['properties']:
+      <property>
+          <name>${ param['name'] }</name>
+          <value>${ param['value'] }</value>
+     </property>
+     % endfor
+    </configuration>
+  </coordinator>
+  % endfor
+</bundle-app>
diff --git a/apps/oozie/src/oozie/templates/editor2/gen/coordinator.xml.mako b/apps/oozie/src/oozie/templates/editor2/gen/coordinator.xml.mako
new file mode 100644
index 0000000..6ccb460
--- /dev/null
+++ b/apps/oozie/src/oozie/templates/editor2/gen/coordinator.xml.mako
@@ -0,0 +1,144 @@
+## -*- coding: utf-8 -*-
+## Licensed to Cloudera, Inc. under one
+## or more contributor license agreements.  See the NOTICE file
+## distributed with this work for additional information
+## regarding copyright ownership.  Cloudera, Inc. licenses this file
+## to you under the Apache License, Version 2.0 (the
+## "License"); you may not use this file except in compliance
+## with the License.  You may obtain a copy of the License at
+##
+##     http://www.apache.org/licenses/LICENSE-2.0
+##
+## Unless required by applicable law or agreed to in writing, software
+## distributed under the License is distributed on an "AS IS" BASIS,
+## WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+## See the License for the specific language governing permissions and
+## limitations under the License.
+
+<%!
+  from oozie.utils import smart_path
+  from oozie.conf import ENABLE_CRON_SCHEDULING
+%>
+
+<%namespace name="common" file="workflow-common.xml.mako" />
+
+
+<%def name="render_dataset_instance(dataset)">
+  % if dataset.data['instance_choice'] == 'default':
+    <instance>${ '${'}coord:current(0)}</instance>
+  % elif dataset.data['instance_choice'] == 'single':
+    % if not dataset.data['is_advanced_start_instance']:
+      <instance>${ '${'}coord:current(${ dataset.data['start_instance'] })}</instance>
+    % else:
+      <instance>${ dataset.data['advanced_start_instance'] }</instance>
+    % endif
+  % else:
+    <start-instance>
+      % if not dataset.data['is_advanced_start_instance']:
+        ${ '${'}coord:current(${ dataset.data['start_instance'] })}
+      % else:
+        ${ dataset.data['advanced_start_instance'] }
+      % endif
+    </start-instance>
+    <end-instance>
+      % if not dataset.data['is_advanced_end_instance']:
+        ${ '${'}coord:current(${ dataset.data['end_instance'] })}
+      % else:
+        ${ dataset.data['advanced_end_instance'] }
+      % endif
+    </end-instance>
+  % endif
+</%def>
+
+
+<coordinator-app name="${ coord.validated_name | x }"
+  % if ENABLE_CRON_SCHEDULING.get():
+  frequency="${ coord.cron_frequency }"
+  % else:
+  frequency="${ coord.frequency }"
+  % endif
+  start="${ coord.start_utc }" end="${ coord.end_utc }" timezone="${ coord.data['properties']['timezone'] }"
+  xmlns="${ 'uri:oozie:coordinator:0.4' if coord.data['properties']['sla_enabled'] else coord.data['properties']['schema_version'] | n,unicode }"
+  ${ 'xmlns:sla="uri:oozie:sla:0.2"' if coord.data['properties']['sla_enabled'] else '' | n,unicode }>
+  % if coord.data['properties']['timeout'] or coord.data['properties'].get('concurrency') or coord.data['properties']['execution'] or coord.data['properties'].get('throttle'):
+  <controls>
+    % if coord.data['properties']['timeout']:
+    <timeout>${ coord.data['properties']['timeout'] }</timeout>
+    % endif
+    % if coord.data['properties'].get('concurrency'):
+    <concurrency>${ coord.data['properties']['concurrency'] }</concurrency>
+    % endif
+    % if coord.data['properties']['execution']:
+    <execution>${ coord.data['properties']['execution'] }</execution>
+    % endif
+    % if coord.data['properties'].get('throttle'):
+    <throttle>${ coord.data['properties']['throttle'] }</throttle>
+    % endif
+  </controls>
+  % endif
+
+  % if coord.datasets:
+  <datasets>
+    % for dataset in coord.datasets:
+    <dataset name="${ dataset.data['name'] }" frequency="${ dataset.frequency }"
+             initial-instance="${ dataset.start_utc }" timezone="${ dataset.data['timezone'] }">
+      <uri-template>${ smart_path(dataset.data['dataset_variable'], mapping) }</uri-template>
+      % if dataset.data['use_done_flag']:
+      <done-flag>${ dataset.data['done_flag'] }</done-flag>
+      % else:
+      <done-flag></done-flag>
+      % endif
+    </dataset>
+    % endfor
+  </datasets>
+  % endif
+
+  % if coord.inputDatasets:
+  <input-events>
+    % for dataset in coord.inputDatasets:
+    <data-in name="${ dataset.data['workflow_variable'] }" dataset="${ dataset.data['name'] }">
+      ${ render_dataset_instance(dataset) }
+    </data-in>
+    % endfor
+  </input-events>
+  % endif
+
+  % if coord.outputDatasets:
+  <output-events>
+    % for dataset in coord.outputDatasets:
+    <data-out name="${ dataset.data['workflow_variable'] }" dataset="${ dataset.data['name'] }">
+      ${ render_dataset_instance(dataset) }
+    </data-out>
+    % endfor
+  </output-events>
+  % endif
+
+  <action>
+    <workflow>
+      <app-path>${'${'}wf_application_path}</app-path>
+      % if coord.inputDatasets or coord.outputDatasets or coord.properties:
+      <configuration>
+        % for dataset in coord.inputDatasets:
+          <property>
+            <name>${ dataset.data['name'] }</name>
+            <value>${'${'}coord:dataIn('${ dataset.data['name'] }')}</value>
+          </property>
+        % endfor
+        % for dataset in coord.outputDatasets:
+        <property>
+          <name>${ dataset.data['name'] }</name>
+          <value>${'${'}coord:dataOut('${ dataset.data['name'] }')}</value>
+        </property>
+        % endfor
+        % for property in coord.properties:
+        <property>
+          <name>${ property['name'] }</name>
+          <value>${ property['value'] }</value>
+        </property>
+        % endfor
+      </configuration>
+      % endif
+   </workflow>
+   ${ common.sla(coord.data) }
+  </action>
+</coordinator-app>
diff --git a/apps/oozie/src/oozie/templates/editor2/gen/workflow-common.xml.mako b/apps/oozie/src/oozie/templates/editor2/gen/workflow-common.xml.mako
new file mode 100644
index 0000000..3afb729
--- /dev/null
+++ b/apps/oozie/src/oozie/templates/editor2/gen/workflow-common.xml.mako
@@ -0,0 +1,83 @@
+## -*- coding: utf-8 -*-
+## Licensed to Cloudera, Inc. under one
+## or more contributor license agreements.  See the NOTICE file
+## distributed with this work for additional information
+## regarding copyright ownership.  Cloudera, Inc. licenses this file
+## to you under the Apache License, Version 2.0 (the
+## "License"); you may not use this file except in compliance
+## with the License.  You may obtain a copy of the License at
+##
+##     http://www.apache.org/licenses/LICENSE-2.0
+##
+## Unless required by applicable law or agreed to in writing, software
+## distributed under the License is distributed on an "AS IS" BASIS,
+## WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+## See the License for the specific language governing permissions and
+## limitations under the License.
+
+<%!
+  import posixpath
+  from oozie.utils import smart_path
+%>
+
+
+<%def name="filelink(path)">${ '#' in path and path or path + '#' + posixpath.basename(path) }</%def>
+
+
+<%def name="credentials(credentials)">${ ' cred="%s"' % ','.join([cred['name'] for cred in credentials if cred['value']]) if credentials else '' | n,unicode }</%def>
+
+
+<%def name="prepares(prepares)">
+        % if prepares:
+            <prepare>
+                % for p in sorted(prepares, key=lambda k: k['type']):
+                  <%
+                    operation = p['type']
+                    path = p['value']
+                  %>
+                  <${ operation } path="${ smart_path(path, mapping) }"/>
+                % endfor
+            </prepare>
+        % endif
+</%def>
+
+
+<%def name="configuration(properties)">
+        % if properties:
+            <configuration>
+                % for p in properties:
+                <property>
+                    <name>${ p['name'] }</name>
+                    <value>${ p['value'] }</value>
+                </property>
+                % endfor
+            </configuration>
+        % endif
+</%def>
+
+
+<%def name="distributed_cache(files, archives)">
+    % for f in files:
+        % if f:
+            <file>${ filelink(f['value']) }</file>
+        % endif
+    % endfor
+    % for a in archives:
+        % if a:
+            <archive>${ filelink(a['name']) }</archive>
+        % endif
+    % endfor
+</%def>
+
+
+<%def name="sla(element)">
+        % if element['properties']['sla_enabled']:
+          <sla:info>
+          % for sla in element['sla']:
+            % if sla['value'] and sla['key'] != 'enabled':
+            <sla:${ sla['key'] }>${ sla['value'] }</sla:${ sla['key'] }>
+            % endif
+          % endfor
+          </sla:info>
+        % endif
+</%def>
diff --git a/apps/oozie/src/oozie/templates/editor2/gen/workflow-decision.xml.mako b/apps/oozie/src/oozie/templates/editor2/gen/workflow-decision.xml.mako
new file mode 100644
index 0000000..183a013
--- /dev/null
+++ b/apps/oozie/src/oozie/templates/editor2/gen/workflow-decision.xml.mako
@@ -0,0 +1,33 @@
+## -*- coding: utf-8 -*-
+## Licensed to Cloudera, Inc. under one
+## or more contributor license agreements.  See the NOTICE file
+## distributed with this work for additional information
+## regarding copyright ownership.  Cloudera, Inc. licenses this file
+## to you under the Apache License, Version 2.0 (the
+## "License"); you may not use this file except in compliance
+## with the License.  You may obtain a copy of the License at
+##
+##     http://www.apache.org/licenses/LICENSE-2.0
+##
+## Unless required by applicable law or agreed to in writing, software
+## distributed under the License is distributed on an "AS IS" BASIS,
+## WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+## See the License for the specific language governing permissions and
+## limitations under the License.
+
+    <decision name="${ node['name'] }">
+        <switch>
+          % for child in node['children']:
+            % if child['condition'] != 'default':
+            <case to="${ node_mapping[child['to']].name }">
+              ${ child['condition'] }
+            </case>
+            % endif
+          % endfor
+          % for child in node['children']:
+            % if child['condition'] == 'default':          
+            <default to="${ node_mapping[child['to']].name }"/>
+            % endif
+          % endfor            
+        </switch>
+    </decision>
diff --git a/apps/oozie/src/oozie/templates/editor2/gen/workflow-distcp.xml.mako b/apps/oozie/src/oozie/templates/editor2/gen/workflow-distcp.xml.mako
new file mode 100644
index 0000000..15c5f92
--- /dev/null
+++ b/apps/oozie/src/oozie/templates/editor2/gen/workflow-distcp.xml.mako
@@ -0,0 +1,39 @@
+## -*- coding: utf-8 -*-
+## Licensed to Cloudera, Inc. under one
+## or more contributor license agreements.  See the NOTICE file
+## distributed with this work for additional information
+## regarding copyright ownership.  Cloudera, Inc. licenses this file
+## to you under the Apache License, Version 2.0 (the
+## "License"); you may not use this file except in compliance
+## with the License.  You may obtain a copy of the License at
+##
+##     http://www.apache.org/licenses/LICENSE-2.0
+##
+## Unless required by applicable law or agreed to in writing, software
+## distributed under the License is distributed on an "AS IS" BASIS,
+## WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+## See the License for the specific language governing permissions and
+## limitations under the License.
+
+<%namespace name="common" file="workflow-common.xml.mako" />
+
+    <action name="${ node['name'] }"${ common.credentials(node['properties']['credentials']) }>
+        <distcp xmlns="uri:oozie:distcp-action:0.1">
+            <job-tracker>${'${'}jobTracker}</job-tracker>
+            <name-node>${'${'}nameNode}</name-node>
+
+            ${ common.prepares(node['properties']['prepares']) }
+            ${ common.configuration(node['properties']['job_properties']) }
+
+            % if node['properties']['java_opts']:
+              <java-opts>${ node['properties']['java_opts'] }</java-opts>
+            % endif
+
+            % for argument in node['properties']['distcp_parameters']:
+              <arg>${ argument['value'] }</arg>
+            % endfor
+        </distcp>
+        <ok to="${ node_mapping[node['children'][0]['to']].name }"/>
+        <error to="${ node_mapping[node['children'][1]['error']].name }"/>
+        ${ common.sla(node) }
+    </action>
diff --git a/apps/oozie/src/oozie/templates/editor2/gen/workflow-email.xml.mako b/apps/oozie/src/oozie/templates/editor2/gen/workflow-email.xml.mako
new file mode 100644
index 0000000..40109a2
--- /dev/null
+++ b/apps/oozie/src/oozie/templates/editor2/gen/workflow-email.xml.mako
@@ -0,0 +1,32 @@
+## -*- coding: utf-8 -*-
+## Licensed to Cloudera, Inc. under one
+## or more contributor license agreements.  See the NOTICE file
+## distributed with this work for additional information
+## regarding copyright ownership.  Cloudera, Inc. licenses this file
+## to you under the Apache License, Version 2.0 (the
+## "License"); you may not use this file except in compliance
+## with the License.  You may obtain a copy of the License at
+##
+##     http://www.apache.org/licenses/LICENSE-2.0
+##
+## Unless required by applicable law or agreed to in writing, software
+## distributed under the License is distributed on an "AS IS" BASIS,
+## WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+## See the License for the specific language governing permissions and
+## limitations under the License.
+
+<%namespace name="common" file="workflow-common.xml.mako" />
+
+    <action name="${ node['name'] }"${ common.credentials(node['properties']['credentials']) }>
+        <email xmlns="uri:oozie:email-action:0.1">
+            <to>${ node['properties']['to'] }</to>
+            % if node['properties']['cc']:
+            <cc>${ node['properties']['cc'] }</cc>
+            % endif
+            <subject>${ node['properties']['subject'] }</subject>
+            <body>${ node['properties']['body'] }</body>
+        </email>
+        <ok to="${ node_mapping[node['children'][0]['to']].name }"/>
+        <error to="${ node_mapping[node['children'][1]['error']].name }"/>
+        ${ common.sla(node) }
+    </action>
diff --git a/apps/oozie/src/oozie/templates/editor2/gen/workflow-end.xml.mako b/apps/oozie/src/oozie/templates/editor2/gen/workflow-end.xml.mako
new file mode 100644
index 0000000..ba02df8
--- /dev/null
+++ b/apps/oozie/src/oozie/templates/editor2/gen/workflow-end.xml.mako
@@ -0,0 +1,18 @@
+## -*- coding: utf-8 -*-
+## Licensed to Cloudera, Inc. under one
+## or more contributor license agreements.  See the NOTICE file
+## distributed with this work for additional information
+## regarding copyright ownership.  Cloudera, Inc. licenses this file
+## to you under the Apache License, Version 2.0 (the
+## "License"); you may not use this file except in compliance
+## with the License.  You may obtain a copy of the License at
+##
+##     http://www.apache.org/licenses/LICENSE-2.0
+##
+## Unless required by applicable law or agreed to in writing, software
+## distributed under the License is distributed on an "AS IS" BASIS,
+## WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+## See the License for the specific language governing permissions and
+## limitations under the License.
+
+    <end name="${ node['name'] }"/>
diff --git a/apps/oozie/src/oozie/templates/editor2/gen/workflow-fork.xml.mako b/apps/oozie/src/oozie/templates/editor2/gen/workflow-fork.xml.mako
new file mode 100644
index 0000000..459e60c
--- /dev/null
+++ b/apps/oozie/src/oozie/templates/editor2/gen/workflow-fork.xml.mako
@@ -0,0 +1,22 @@
+## -*- coding: utf-8 -*-
+## Licensed to Cloudera, Inc. under one
+## or more contributor license agreements.  See the NOTICE file
+## distributed with this work for additional information
+## regarding copyright ownership.  Cloudera, Inc. licenses this file
+## to you under the Apache License, Version 2.0 (the
+## "License"); you may not use this file except in compliance
+## with the License.  You may obtain a copy of the License at
+##
+##     http://www.apache.org/licenses/LICENSE-2.0
+##
+## Unless required by applicable law or agreed to in writing, software
+## distributed under the License is distributed on an "AS IS" BASIS,
+## WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+## See the License for the specific language governing permissions and
+## limitations under the License.
+
+    <fork name="${ node['name'] }">
+        % for child in node['children']:
+        <path start="${ node_mapping[child['to']].name }" />
+        % endfor
+    </fork>
diff --git a/apps/oozie/src/oozie/templates/editor2/gen/workflow-fs.xml.mako b/apps/oozie/src/oozie/templates/editor2/gen/workflow-fs.xml.mako
new file mode 100644
index 0000000..ee62bee
--- /dev/null
+++ b/apps/oozie/src/oozie/templates/editor2/gen/workflow-fs.xml.mako
@@ -0,0 +1,61 @@
+## -*- coding: utf-8 -*-
+## Licensed to Cloudera, Inc. under one
+## or more contributor license agreements.  See the NOTICE file
+## distributed with this work for additional information
+## regarding copyright ownership.  Cloudera, Inc. licenses this file
+## to you under the Apache License, Version 2.0 (the
+## "License"); you may not use this file except in compliance
+## with the License.  You may obtain a copy of the License at
+##
+##     http://www.apache.org/licenses/LICENSE-2.0
+##
+## Unless required by applicable law or agreed to in writing, software
+## distributed under the License is distributed on an "AS IS" BASIS,
+## WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+## See the License for the specific language governing permissions and
+## limitations under the License.
+
+<%!
+  from oozie.utils import smart_path
+%>
+
+<%namespace name="common" file="workflow-common.xml.mako" />
+
+    <action name="${ node['name'] }"${ common.credentials(node['properties']['credentials']) }>
+        <fs>
+            % for param in node['properties']['deletes']:
+              <delete path='${ smart_path(param['value'], mapping) }'/>
+            % endfor
+
+            % for param in node['properties']['mkdirs']:
+              <mkdir path='${ smart_path(param['value'], mapping) }'/>
+            % endfor
+
+            % for param in node['properties']['moves']:
+              <move source='${ smart_path(param['source'], mapping) }' target='${ smart_path(param['destination'], mapping) }'/>
+            % endfor
+
+            % for param in node['properties']['chmods']:
+              <chmod path='${ smart_path(param['value'], mapping) }' permissions='${ param['permissions'] }' dir-files='${ 'true' if param['dir_files'] else 'false' }'>
+              % if param['recursive']:
+                <recursive/>
+              % endif
+              </chmod>              
+            % endfor
+
+            % for param in node['properties']['touchzs']:
+              <touchz path='${ smart_path(param['value'], mapping) }'/>
+            % endfor
+            
+            % for param in node['properties']['chgrps']:
+              <chgrp path='${ smart_path(param['value'], mapping) }' group='${ param['group'] }' dir-files='${ 'true' if param['dir_files'] else 'false' }'>
+              % if param['recursive']:
+                <recursive/>
+              % endif
+              </chgrp>              
+            % endfor            
+        </fs>
+        <ok to="${ node_mapping[node['children'][0]['to']].name }"/>
+        <error to="${ node_mapping[node['children'][1]['error']].name }"/>
+        ${ common.sla(node) }
+    </action>
diff --git a/apps/oozie/src/oozie/templates/editor2/gen/workflow-generic.xml.mako b/apps/oozie/src/oozie/templates/editor2/gen/workflow-generic.xml.mako
new file mode 100644
index 0000000..8f386e8
--- /dev/null
+++ b/apps/oozie/src/oozie/templates/editor2/gen/workflow-generic.xml.mako
@@ -0,0 +1,24 @@
+## -*- coding: utf-8 -*-
+## Licensed to Cloudera, Inc. under one
+## or more contributor license agreements.  See the NOTICE file
+## distributed with this work for additional information
+## regarding copyright ownership.  Cloudera, Inc. licenses this file
+## to you under the Apache License, Version 2.0 (the
+## "License"); you may not use this file except in compliance
+## with the License.  You may obtain a copy of the License at
+##
+##     http://www.apache.org/licenses/LICENSE-2.0
+##
+## Unless required by applicable law or agreed to in writing, software
+## distributed under the License is distributed on an "AS IS" BASIS,
+## WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+## See the License for the specific language governing permissions and
+## limitations under the License.
+
+<%namespace name="common" file="workflow-common.xml.mako" />
+
+    <action name="${ node }"${ common.credentials(node.credentials) }>
+        ${ node.xml | n,unicode }
+        <ok to="${ node.get_oozie_child('ok') }"/>
+        <error to="${ node.get_oozie_child('error') }"/>
+    </action>
diff --git a/apps/oozie/src/oozie/templates/editor2/gen/workflow-graph-status.xml.mako b/apps/oozie/src/oozie/templates/editor2/gen/workflow-graph-status.xml.mako
new file mode 100644
index 0000000..8921b29
--- /dev/null
+++ b/apps/oozie/src/oozie/templates/editor2/gen/workflow-graph-status.xml.mako
@@ -0,0 +1,123 @@
+## -*- coding: utf-8 -*-
+## Licensed to Cloudera, Inc. under one
+## or more contributor license agreements.  See the NOTICE file
+## distributed with this work for additional information
+## regarding copyright ownership.  Cloudera, Inc. licenses this file
+## to you under the Apache License, Version 2.0 (the
+## "License"); you may not use this file except in compliance
+## with the License.  You may obtain a copy of the License at
+##
+##     http://www.apache.org/licenses/LICENSE-2.0
+##
+## Unless required by applicable law or agreed to in writing, software
+## distributed under the License is distributed on an "AS IS" BASIS,
+## WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+## See the License for the specific language governing permissions and
+## limitations under the License.
+
+<%namespace name="graph" file="workflow-graph.xml.mako" />
+<%namespace name="utils" file="../../utils.inc.mako" />
+
+<%!
+  from django.utils.translation import ugettext as _
+%>
+
+<%def name="get_tab(form, action, control, css_box_class)">
+  <ul style="margin-bottom:0" class="nav nav-tabs">
+    <li class="active"><a style="line-height:10px
+    % if not action:
+          ;background-color: #F9F9F9;
+    % endif
+    " data-toggle="tab"><i class="fa ${css_box_class}" style="color:#DDD"></i> &nbsp; <strong style="color:#999">
+      % if action and action.externalId:
+        ${ form.instance.node_type }
+      % else:
+        ${ form.instance.__unicode__() }
+      % endif
+    </strong> &nbsp;&nbsp;
+      % if action and action.externalId:
+        <span class="label ${ utils.get_status(action.status) }">${ action.status }</span>
+      % elif control:
+        <span class="label ${ utils.get_status(control.status) }">${ control.status }</span>
+      % endif
+    </a>
+    </li>
+  </ul>
+</%def>
+
+<%def name="get_content(form, action, control, inverse=False)">
+  <div class="row-fluid">
+    % if action and action.externalId:
+      <div style="text-align:left; padding:10px;border:1px solid #DDD; border-top:0" class="span12">
+          <div style="font-size: 30px; margin-top:14px" class="pull-right"><a href="${ url('jobbrowser.views.job_single_logs', job=action.externalId) }" title="${ _('View the logs') }" rel="tooltip" data-row-selector-exclude="true"><i class="fa fa-tasks"></i></a></div>
+          <h4><a href="${ action.get_absolute_url() }" title="${ _('View workflow action') }" rel="tooltip">${ form.instance.__unicode__() }</a></h4>
+          <span class="muted">${ form.instance.description }&nbsp;</span>
+          % if action:
+            ${ action.errorMessage or '' }
+          % elif control:
+            ${ control.errorMessage or '' }
+          % endif
+      </div>
+    % else:
+      <div style="border:0;" class="span12
+      %if inverse:
+      inverse_gradient
+      %else:
+      gradient
+      %endif
+      ">
+      </div>
+    % endif
+  </div>
+</%def>
+
+
+<%def name="print_status_node(form)">
+  <%
+    is_start = form.instance.get_full_node().node_type == 'start'
+    is_end = form.instance.get_full_node().node_type == 'end'
+    is_fork = form.instance.get_full_node().node_type == 'fork'
+    is_join = form.instance.get_full_node().node_type == 'join'
+    is_decision = form.instance.get_full_node().node_type == 'decision'
+    is_decision_end = form.instance.get_full_node().node_type == 'decisionend'
+    action = actions.get(unicode(form.instance))
+    control = controls.get(unicode(form.instance))
+    css_box_class = ""
+    if is_start:
+      css_box_class = "fa-thumbs-up"
+    if is_end:
+      css_box_class = "fa-dot-circle-o"
+    if is_fork:
+      css_box_class = "fa-sitemap"
+    if is_join:
+      css_box_class = "fa-sitemap fa-rotate-180"
+    if is_decision:
+      css_box_class = "fa-magic"
+    if is_decision_end:
+      css_box_class = "fa-magic"
+    if action:
+      css_box_class = "fa-cogs"
+  %>
+
+  % if form.instance.get_full_node().is_visible():
+      <div class="span12 action" style="margin-top:0">
+        % if is_end or is_join:
+          ${get_content(form, action, control, True)}
+          <div class="tabbable tabs-below">
+          ${get_tab(form, action, control, css_box_class)}
+          </div>
+        % else:
+          ${get_tab(form, action, control, css_box_class)}
+          ${get_content(form, action, control)}
+        % endif
+      </div>
+  % endif
+
+</%def>
+
+${ graph.display_graph(nodes, print_status_node) }
+
+<style type="text/css">
+  .node-text-failed {color:white; font-weight:bold;};
+  .node-text-pass {color:black; font-weight:bold;};
+</style>
diff --git a/apps/oozie/src/oozie/templates/editor2/gen/workflow-graph.xml.mako b/apps/oozie/src/oozie/templates/editor2/gen/workflow-graph.xml.mako
new file mode 100644
index 0000000..08e7163
--- /dev/null
+++ b/apps/oozie/src/oozie/templates/editor2/gen/workflow-graph.xml.mako
@@ -0,0 +1,57 @@
+## -*- coding: utf-8 -*-
+## Licensed to Cloudera, Inc. under one
+## or more contributor license agreements.  See the NOTICE file
+## distributed with this work for additional information
+## regarding copyright ownership.  Cloudera, Inc. licenses this file
+## to you under the Apache License, Version 2.0 (the
+## "License"); you may not use this file except in compliance
+## with the License.  You may obtain a copy of the License at
+##
+##     http://www.apache.org/licenses/LICENSE-2.0
+##
+## Unless required by applicable law or agreed to in writing, software
+## distributed under the License is distributed on an "AS IS" BASIS,
+## WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+## See the License for the specific language governing permissions and
+## limitations under the License.
+
+<%def name="print_graph(nodes, print_node)">
+  % for node in nodes:
+    % if type(node) != list:
+      <div class="row-fluid">
+        ${ print_node(index[node.id]) }
+      </div>
+    % else:
+      % if type(node[0]) != list:
+      <div class="row-fluid">
+        ${ print_graph(node, print_node) }
+      </div>
+      % else:
+         <div class="row-fluid">
+         <%
+           children = [n for n in node if n]
+           columns = 12 / len(children)
+         %>
+          % for n in children:
+          <div class="${ 'span%d' % columns } action2">
+            ${ print_graph(n, print_node) }
+          </div>
+        % endfor
+        </div>
+      % endif
+    % endif
+  % endfor
+</%def>
+
+
+<%def name="display_graph(form, print_node)">
+  <div class="row action2" style="min-height:400px;margin-left:1px">
+    ${ print_graph(nodes, print_node) }
+  </div>
+
+  <style type="text/css">
+    .action2 {text-align: center;}
+    .action {border-style:solid; border-width:1px; border-color:LightGrey; padding: 3px; margin:25px;}
+    .action-link:hover {cursor: pointer;}
+  </style>
+</%def>
diff --git a/apps/oozie/src/oozie/templates/editor2/gen/workflow-hive.xml.mako b/apps/oozie/src/oozie/templates/editor2/gen/workflow-hive.xml.mako
new file mode 100644
index 0000000..f075692
--- /dev/null
+++ b/apps/oozie/src/oozie/templates/editor2/gen/workflow-hive.xml.mako
@@ -0,0 +1,42 @@
+## -*- coding: utf-8 -*-
+## Licensed to Cloudera, Inc. under one
+## or more contributor license agreements.  See the NOTICE file
+## distributed with this work for additional information
+## regarding copyright ownership.  Cloudera, Inc. licenses this file
+## to you under the Apache License, Version 2.0 (the
+## "License"); you may not use this file except in compliance
+## with the License.  You may obtain a copy of the License at
+##
+##     http://www.apache.org/licenses/LICENSE-2.0
+##
+## Unless required by applicable law or agreed to in writing, software
+## distributed under the License is distributed on an "AS IS" BASIS,
+## WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+## See the License for the specific language governing permissions and
+## limitations under the License.
+
+<%namespace name="common" file="workflow-common.xml.mako" />
+
+    <action name="${ node['name'] }"${ common.credentials(node['properties']['credentials']) }>
+        <hive xmlns="uri:oozie:hive-action:0.2">
+            <job-tracker>${'${'}jobTracker}</job-tracker>
+            <name-node>${'${'}nameNode}</name-node>
+
+            ${ common.prepares(node['properties']['prepares']) }
+            % if node['properties']['hive_xml']:
+              <job-xml>${ node['properties']['hive_xml'] }</job-xml>
+            % endif
+            ${ common.configuration(node['properties']['properties']) }
+
+            <script>${ node['properties']['script_path'] }</script>
+
+            % for param in node['properties']['parameters']:
+              <param>${ param['value'] }</param>
+            % endfor
+
+            ${ common.distributed_cache(node['properties']['files'], node['properties']['archives']) }
+        </hive>
+        <ok to="${ node_mapping[node['children'][0]['to']].name }"/>
+        <error to="${ node_mapping[node['children'][1]['error']].name }"/>
+        ${ common.sla(node) }
+    </action>
diff --git a/apps/oozie/src/oozie/templates/editor2/gen/workflow-hive2.xml.mako b/apps/oozie/src/oozie/templates/editor2/gen/workflow-hive2.xml.mako
new file mode 100644
index 0000000..992b25a
--- /dev/null
+++ b/apps/oozie/src/oozie/templates/editor2/gen/workflow-hive2.xml.mako
@@ -0,0 +1,46 @@
+## -*- coding: utf-8 -*-
+## Licensed to Cloudera, Inc. under one
+## or more contributor license agreements.  See the NOTICE file
+## distributed with this work for additional information
+## regarding copyright ownership.  Cloudera, Inc. licenses this file
+## to you under the Apache License, Version 2.0 (the
+## "License"); you may not use this file except in compliance
+## with the License.  You may obtain a copy of the License at
+##
+##     http://www.apache.org/licenses/LICENSE-2.0
+##
+## Unless required by applicable law or agreed to in writing, software
+## distributed under the License is distributed on an "AS IS" BASIS,
+## WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+## See the License for the specific language governing permissions and
+## limitations under the License.
+
+<%namespace name="common" file="workflow-common.xml.mako" />
+
+    <action name="${ node['name'] }"${ common.credentials(node['properties']['credentials']) }>
+        <hive2 xmlns="uri:oozie:hive2-action:0.1">
+            <job-tracker>${'${'}jobTracker}</job-tracker>
+            <name-node>${'${'}nameNode}</name-node>
+
+            ${ common.prepares(node['properties']['prepares']) }
+            % if node['properties']['job_xml']:
+              <job-xml>${ node['properties']['job_xml'] }</job-xml>
+            % endif
+            ${ common.configuration(node['properties']['properties']) }
+            
+            <jdbc-url>${ node['properties']['jdbc_url'] }</jdbc-url>
+            % if node['properties']['password']:
+            <password>${ node['properties']['password'] }</password>
+            % endif
+            <script>${ node['properties']['script_path'] }</script>
+
+            % for param in node['properties']['parameters']:
+              <param>${ param['value'] }</param>
+            % endfor
+
+            ${ common.distributed_cache(node['properties']['files'], node['properties']['archives']) }
+        </hive2>
+        <ok to="${ node_mapping[node['children'][0]['to']].name }"/>
+        <error to="${ node_mapping[node['children'][1]['error']].name }"/>
+        ${ common.sla(node) }
+    </action>
diff --git a/apps/oozie/src/oozie/templates/editor2/gen/workflow-java.xml.mako b/apps/oozie/src/oozie/templates/editor2/gen/workflow-java.xml.mako
new file mode 100644
index 0000000..a373a8e
--- /dev/null
+++ b/apps/oozie/src/oozie/templates/editor2/gen/workflow-java.xml.mako
@@ -0,0 +1,50 @@
+## -*- coding: utf-8 -*-
+## Licensed to Cloudera, Inc. under one
+## or more contributor license agreements.  See the NOTICE file
+## distributed with this work for additional information
+## regarding copyright ownership.  Cloudera, Inc. licenses this file
+## to you under the Apache License, Version 2.0 (the
+## "License"); you may not use this file except in compliance
+## with the License.  You may obtain a copy of the License at
+##
+##     http://www.apache.org/licenses/LICENSE-2.0
+##
+## Unless required by applicable law or agreed to in writing, software
+## distributed under the License is distributed on an "AS IS" BASIS,
+## WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+## See the License for the specific language governing permissions and
+## limitations under the License.
+
+<%namespace name="common" file="workflow-common.xml.mako" />
+
+    <action name="${ node['name'] }"${ common.credentials(node['properties']['credentials']) }>
+        <java>
+            <job-tracker>${'${'}jobTracker}</job-tracker>
+            <name-node>${'${'}nameNode}</name-node>
+
+            ${ common.prepares(node['properties']['prepares']) }
+            % if node['properties']['job_xml']:
+              <job-xml>${ node['properties']['job_xml'] }</job-xml>
+            % endif
+            ${ common.configuration(node['properties']['properties']) }
+
+            <main-class>${ node['properties']['main_class'] }</main-class>
+
+            % if node['properties']['java_opts']:
+            <java-opts>${ node['properties']['java_opts'] }</java-opts>
+            % endif
+
+            % for arg in node['properties']['arguments']:
+            <arg>${ arg['value'] }</arg>
+            % endfor
+
+            ${ common.distributed_cache(node['properties']['files'], node['properties']['archives']) }
+
+            % if node['properties']['capture_output']:
+            <capture-output/>
+            % endif
+        </java>
+        <ok to="${ node_mapping[node['children'][0]['to']].name }"/>
+        <error to="${ node_mapping[node['children'][1]['error']].name }"/>
+        ${ common.sla(node) }
+    </action>
diff --git a/apps/oozie/src/oozie/templates/editor2/gen/workflow-join.xml.mako b/apps/oozie/src/oozie/templates/editor2/gen/workflow-join.xml.mako
new file mode 100644
index 0000000..2dc6a11
--- /dev/null
+++ b/apps/oozie/src/oozie/templates/editor2/gen/workflow-join.xml.mako
@@ -0,0 +1,18 @@
+## -*- coding: utf-8 -*-
+## Licensed to Cloudera, Inc. under one
+## or more contributor license agreements.  See the NOTICE file
+## distributed with this work for additional information
+## regarding copyright ownership.  Cloudera, Inc. licenses this file
+## to you under the Apache License, Version 2.0 (the
+## "License"); you may not use this file except in compliance
+## with the License.  You may obtain a copy of the License at
+##
+##     http://www.apache.org/licenses/LICENSE-2.0
+##
+## Unless required by applicable law or agreed to in writing, software
+## distributed under the License is distributed on an "AS IS" BASIS,
+## WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+## See the License for the specific language governing permissions and
+## limitations under the License.
+
+    <join name="${ node['name'] }" to="${ node_mapping[node['children'][0]['to']].name }"/>
diff --git a/apps/oozie/src/oozie/templates/editor2/gen/workflow-kill.xml.mako b/apps/oozie/src/oozie/templates/editor2/gen/workflow-kill.xml.mako
new file mode 100644
index 0000000..3a7b476
--- /dev/null
+++ b/apps/oozie/src/oozie/templates/editor2/gen/workflow-kill.xml.mako
@@ -0,0 +1,20 @@
+## -*- coding: utf-8 -*-
+## Licensed to Cloudera, Inc. under one
+## or more contributor license agreements.  See the NOTICE file
+## distributed with this work for additional information
+## regarding copyright ownership.  Cloudera, Inc. licenses this file
+## to you under the Apache License, Version 2.0 (the
+## "License"); you may not use this file except in compliance
+## with the License.  You may obtain a copy of the License at
+##
+##     http://www.apache.org/licenses/LICENSE-2.0
+##
+## Unless required by applicable law or agreed to in writing, software
+## distributed under the License is distributed on an "AS IS" BASIS,
+## WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+## See the License for the specific language governing permissions and
+## limitations under the License.
+
+    <kill name="${ node['name'] }">
+        <message>${ node['properties']['message'] }</message>
+    </kill>
diff --git a/apps/oozie/src/oozie/templates/editor2/gen/workflow-mapreduce.xml.mako b/apps/oozie/src/oozie/templates/editor2/gen/workflow-mapreduce.xml.mako
new file mode 100644
index 0000000..8c85702
--- /dev/null
+++ b/apps/oozie/src/oozie/templates/editor2/gen/workflow-mapreduce.xml.mako
@@ -0,0 +1,36 @@
+## -*- coding: utf-8 -*-
+## Licensed to Cloudera, Inc. under one
+## or more contributor license agreements.  See the NOTICE file
+## distributed with this work for additional information
+## regarding copyright ownership.  Cloudera, Inc. licenses this file
+## to you under the Apache License, Version 2.0 (the
+## "License"); you may not use this file except in compliance
+## with the License.  You may obtain a copy of the License at
+##
+##     http://www.apache.org/licenses/LICENSE-2.0
+##
+## Unless required by applicable law or agreed to in writing, software
+## distributed under the License is distributed on an "AS IS" BASIS,
+## WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+## See the License for the specific language governing permissions and
+## limitations under the License.
+
+<%namespace name="common" file="workflow-common.xml.mako" />
+
+    <action name="${ node['name'] }"${ common.credentials(node['properties']['credentials']) }>
+        <map-reduce>
+            <job-tracker>${'${'}jobTracker}</job-tracker>
+            <name-node>${'${'}nameNode}</name-node>
+
+            ${ common.prepares(node['properties']['prepares']) }
+            % if node['properties']['job_xml']:
+              <job-xml>${ node['properties']['job_xml'] }</job-xml>
+            % endif
+            ${ common.configuration(node['properties']['properties']) }
+
+            ${ common.distributed_cache(node['properties']['files'], node['properties']['archives']) }
+        </map-reduce>
+        <ok to="${ node_mapping[node['children'][0]['to']].name }"/>
+        <error to="${ node_mapping[node['children'][1]['error']].name }"/>
+        ${ common.sla(node) }
+    </action>
diff --git a/apps/oozie/src/oozie/templates/editor2/gen/workflow-pig.xml.mako b/apps/oozie/src/oozie/templates/editor2/gen/workflow-pig.xml.mako
new file mode 100644
index 0000000..bf0078a
--- /dev/null
+++ b/apps/oozie/src/oozie/templates/editor2/gen/workflow-pig.xml.mako
@@ -0,0 +1,45 @@
+## -*- coding: utf-8 -*-
+## Licensed to Cloudera, Inc. under one
+## or more contributor license agreements.  See the NOTICE file
+## distributed with this work for additional information
+## regarding copyright ownership.  Cloudera, Inc. licenses this file
+## to you under the Apache License, Version 2.0 (the
+## "License"); you may not use this file except in compliance
+## with the License.  You may obtain a copy of the License at
+##
+##     http://www.apache.org/licenses/LICENSE-2.0
+##
+## Unless required by applicable law or agreed to in writing, software
+## distributed under the License is distributed on an "AS IS" BASIS,
+## WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+## See the License for the specific language governing permissions and
+## limitations under the License.
+
+<%namespace name="common" file="workflow-common.xml.mako" />
+
+    <action name="${ node['name'] }"${ common.credentials(node['properties']['credentials']) }>
+        <pig>
+            <job-tracker>${'${'}jobTracker}</job-tracker>
+            <name-node>${'${'}nameNode}</name-node>
+
+            ${ common.prepares(node['properties']['prepares']) }
+            % if node['properties']['job_xml']:
+              <job-xml>${ node['properties']['job_xml'] }</job-xml>
+            % endif
+            ${ common.configuration(node['properties']['job_properties']) }
+
+            <script>${ node['properties']['script_path'] }</script>
+
+            % for param in node['properties']['parameters']:
+              <param>${ param['value'] }</param>
+            % endfor
+            % for argument in node['properties']['arguments']:
+              <argument>${ argument['value'] }</argument>
+            % endfor
+
+            ${ common.distributed_cache(node['properties']['files'], node['properties']['archives']) }
+        </pig>
+        <ok to="${ node_mapping[node['children'][0]['to']].name }"/>
+        <error to="${ node_mapping[node['children'][1]['error']].name }"/>
+        ${ common.sla(node) }
+    </action>
diff --git a/apps/oozie/src/oozie/templates/editor2/gen/workflow-shell.xml.mako b/apps/oozie/src/oozie/templates/editor2/gen/workflow-shell.xml.mako
new file mode 100644
index 0000000..fb8a8c3
--- /dev/null
+++ b/apps/oozie/src/oozie/templates/editor2/gen/workflow-shell.xml.mako
@@ -0,0 +1,50 @@
+## -*- coding: utf-8 -*-
+## Licensed to Cloudera, Inc. under one
+## or more contributor license agreements.  See the NOTICE file
+## distributed with this work for additional information
+## regarding copyright ownership.  Cloudera, Inc. licenses this file
+## to you under the Apache License, Version 2.0 (the
+## "License"); you may not use this file except in compliance
+## with the License.  You may obtain a copy of the License at
+##
+##     http://www.apache.org/licenses/LICENSE-2.0
+##
+## Unless required by applicable law or agreed to in writing, software
+## distributed under the License is distributed on an "AS IS" BASIS,
+## WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+## See the License for the specific language governing permissions and
+## limitations under the License.
+
+<%namespace name="common" file="workflow-common.xml.mako" />
+
+    <action name="${ node['name'] }"${ common.credentials(node['properties']['credentials']) }>
+        <shell xmlns="uri:oozie:shell-action:0.1">
+            <job-tracker>${'${'}jobTracker}</job-tracker>
+            <name-node>${'${'}nameNode}</name-node>
+
+            ${ common.prepares(node['properties']['prepares']) }
+            % if node['properties']['job_xml']:
+              <job-xml>${ node['properties']['job_xml'] }</job-xml>
+            % endif
+            ${ common.configuration(node['properties']['properties']) }
+
+            <exec>${ node['properties']['shell_command'] }</exec>
+
+            % for param in node['properties']['arguments']:
+              <argument>${ param['value'] }</argument>
+            % endfor
+            
+            % for param in node['properties']['env_var']:
+              <env-var>${ param['value'] }</env-var>
+            % endfor            
+
+            ${ common.distributed_cache(node['properties']['files'], node['properties']['archives']) }
+
+            % if node['properties']['capture_output']:
+              <capture-output/>
+            % endif
+        </shell>
+        <ok to="${ node_mapping[node['children'][0]['to']].name }"/>
+        <error to="${ node_mapping[node['children'][1]['error']].name }"/>
+        ${ common.sla(node) }
+    </action>
diff --git a/apps/oozie/src/oozie/templates/editor2/gen/workflow-sqoop.xml.mako b/apps/oozie/src/oozie/templates/editor2/gen/workflow-sqoop.xml.mako
new file mode 100644
index 0000000..068e78b
--- /dev/null
+++ b/apps/oozie/src/oozie/templates/editor2/gen/workflow-sqoop.xml.mako
@@ -0,0 +1,44 @@
+## -*- coding: utf-8 -*-
+## Licensed to Cloudera, Inc. under one
+## or more contributor license agreements.  See the NOTICE file
+## distributed with this work for additional information
+## regarding copyright ownership.  Cloudera, Inc. licenses this file
+## to you under the Apache License, Version 2.0 (the
+## "License"); you may not use this file except in compliance
+## with the License.  You may obtain a copy of the License at
+##
+##     http://www.apache.org/licenses/LICENSE-2.0
+##
+## Unless required by applicable law or agreed to in writing, software
+## distributed under the License is distributed on an "AS IS" BASIS,
+## WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+## See the License for the specific language governing permissions and
+## limitations under the License.
+
+<%namespace name="common" file="workflow-common.xml.mako" />
+
+    <action name="${ node['name'] }"${ common.credentials(node['properties']['credentials']) }>
+        <sqoop xmlns="uri:oozie:sqoop-action:0.2">
+            <job-tracker>${'${'}jobTracker}</job-tracker>
+            <name-node>${'${'}nameNode}</name-node>
+
+            ${ common.prepares(node['properties']['prepares']) }
+            % if node['properties']['job_xml']:
+              <job-xml>${ node['properties']['job_xml'] }</job-xml>
+            % endif
+            ${ common.configuration(node['properties']['properties']) }
+
+            % if node['properties']['command']:
+            <command>${ node['properties']['command'] }</command>
+            % endif
+
+            % for param in node['properties']['parameters']:
+              <arg>${ param['value'] }</arg>
+            % endfor
+
+            ${ common.distributed_cache(node['properties']['files'], node['properties']['archives']) }
+        </sqoop>
+        <ok to="${ node_mapping[node['children'][0]['to']].name }"/>
+        <error to="${ node_mapping[node['children'][1]['error']].name }"/>
+        ${ common.sla(node) }
+    </action>
diff --git a/apps/oozie/src/oozie/templates/editor2/gen/workflow-ssh.xml.mako b/apps/oozie/src/oozie/templates/editor2/gen/workflow-ssh.xml.mako
new file mode 100644
index 0000000..f65c59e
--- /dev/null
+++ b/apps/oozie/src/oozie/templates/editor2/gen/workflow-ssh.xml.mako
@@ -0,0 +1,36 @@
+## -*- coding: utf-8 -*-
+## Licensed to Cloudera, Inc. under one
+## or more contributor license agreements.  See the NOTICE file
+## distributed with this work for additional information
+## regarding copyright ownership.  Cloudera, Inc. licenses this file
+## to you under the Apache License, Version 2.0 (the
+## "License"); you may not use this file except in compliance
+## with the License.  You may obtain a copy of the License at
+##
+##     http://www.apache.org/licenses/LICENSE-2.0
+##
+## Unless required by applicable law or agreed to in writing, software
+## distributed under the License is distributed on an "AS IS" BASIS,
+## WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+## See the License for the specific language governing permissions and
+## limitations under the License.
+
+<%namespace name="common" file="workflow-common.xml.mako" />
+
+    <action name="${ node['name'] }"${ common.credentials(node['properties']['credentials']) }>
+        <ssh xmlns="uri:oozie:ssh-action:0.1">
+            <host>${ node['properties']['host'] }</host>
+            <command>${ node['properties']['ssh_command'] }</command>
+
+            % for param in node['properties']['arguments']:
+            <args>${ param['value'] }</args>
+            % endfor
+
+            % if node['properties']['capture_output']:
+            <capture-output/>
+            % endif
+        </ssh>
+        <ok to="${ node_mapping[node['children'][0]['to']].name }"/>
+        <error to="${ node_mapping[node['children'][1]['error']].name }"/>
+        ${ common.sla(node) }
+    </action>
diff --git a/apps/oozie/src/oozie/templates/editor2/gen/workflow-start.xml.mako b/apps/oozie/src/oozie/templates/editor2/gen/workflow-start.xml.mako
new file mode 100644
index 0000000..3a7852c
--- /dev/null
+++ b/apps/oozie/src/oozie/templates/editor2/gen/workflow-start.xml.mako
@@ -0,0 +1,18 @@
+## -*- coding: utf-8 -*-
+## Licensed to Cloudera, Inc. under one
+## or more contributor license agreements.  See the NOTICE file
+## distributed with this work for additional information
+## regarding copyright ownership.  Cloudera, Inc. licenses this file
+## to you under the Apache License, Version 2.0 (the
+## "License"); you may not use this file except in compliance
+## with the License.  You may obtain a copy of the License at
+##
+##     http://www.apache.org/licenses/LICENSE-2.0
+##
+## Unless required by applicable law or agreed to in writing, software
+## distributed under the License is distributed on an "AS IS" BASIS,
+## WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+## See the License for the specific language governing permissions and
+## limitations under the License.
+
+    <start to="${ node_mapping[node['children'][0]['to']].name }"/>
diff --git a/apps/oozie/src/oozie/templates/editor2/gen/workflow-streaming.xml.mako b/apps/oozie/src/oozie/templates/editor2/gen/workflow-streaming.xml.mako
new file mode 100644
index 0000000..c59fcb1
--- /dev/null
+++ b/apps/oozie/src/oozie/templates/editor2/gen/workflow-streaming.xml.mako
@@ -0,0 +1,38 @@
+## -*- coding: utf-8 -*-
+## Licensed to Cloudera, Inc. under one
+## or more contributor license agreements.  See the NOTICE file
+## distributed with this work for additional information
+## regarding copyright ownership.  Cloudera, Inc. licenses this file
+## to you under the Apache License, Version 2.0 (the
+## "License"); you may not use this file except in compliance
+## with the License.  You may obtain a copy of the License at
+##
+##     http://www.apache.org/licenses/LICENSE-2.0
+##
+## Unless required by applicable law or agreed to in writing, software
+## distributed under the License is distributed on an "AS IS" BASIS,
+## WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+## See the License for the specific language governing permissions and
+## limitations under the License.
+
+<%namespace name="common" file="workflow-common.xml.mako" />
+
+    <action name="${ node['name'] }"${ common.credentials(node['properties']['credentials']) }>
+        <map-reduce>
+            <job-tracker>${ '${' }jobTracker}</job-tracker>
+            <name-node>${ '${' }nameNode}</name-node>
+            <streaming>
+                % if node['properties']['mapper']:
+                <mapper>${ node['properties']['mapper'] }</mapper>
+                % endif
+                % if node['properties']['reducer']:
+                <reducer>${ node['properties']['reducer'] }</reducer>
+                % endif
+            </streaming>
+            ${ common.configuration(node['properties']['properties']) }
+            ${ common.distributed_cache(node['properties']['files'], node['properties']['archives']) }
+        </map-reduce>
+        <ok to="${ node_mapping[node['children'][0]['to']].name }"/>
+        <error to="${ node_mapping[node['children'][1]['error']].name }"/>
+        ${ common.sla(node) }
+    </action>
diff --git a/apps/oozie/src/oozie/templates/editor2/gen/workflow-subworkflow.xml.mako b/apps/oozie/src/oozie/templates/editor2/gen/workflow-subworkflow.xml.mako
new file mode 100644
index 0000000..e20a4ce
--- /dev/null
+++ b/apps/oozie/src/oozie/templates/editor2/gen/workflow-subworkflow.xml.mako
@@ -0,0 +1,33 @@
+## -*- coding: utf-8 -*-
+## Licensed to Cloudera, Inc. under one
+## or more contributor license agreements.  See the NOTICE file
+## distributed with this work for additional information
+## regarding copyright ownership.  Cloudera, Inc. licenses this file
+## to you under the Apache License, Version 2.0 (the
+## "License"); you may not use this file except in compliance
+## with the License.  You may obtain a copy of the License at
+##
+##     http://www.apache.org/licenses/LICENSE-2.0
+##
+## Unless required by applicable law or agreed to in writing, software
+## distributed under the License is distributed on an "AS IS" BASIS,
+## WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+## See the License for the specific language governing permissions and
+## limitations under the License.
+
+<%namespace name="common" file="workflow-common.xml.mako" />
+
+    <action name="${ node['name'] }"${ common.credentials(node['properties']['credentials']) }>
+        <sub-workflow>
+            <app-path>${'${'}nameNode}${ workflow_mapping[node['properties']['workflow']].deployment_dir }</app-path>
+
+            % if node['properties']['propagate_configuration']:
+              <propagate-configuration/>
+            % endif
+
+            ${ common.configuration(node['properties']['job_properties']) }
+        </sub-workflow>
+        <ok to="${ node_mapping[node['children'][0]['to']].name }"/>
+        <error to="${ node_mapping[node['children'][1]['error']].name }"/>
+        ${ common.sla(node) }
+    </action>
diff --git a/apps/oozie/src/oozie/templates/editor2/gen/workflow.xml.mako b/apps/oozie/src/oozie/templates/editor2/gen/workflow.xml.mako
new file mode 100644
index 0000000..4383e6b
--- /dev/null
+++ b/apps/oozie/src/oozie/templates/editor2/gen/workflow.xml.mako
@@ -0,0 +1,53 @@
+## -*- coding: utf-8 -*-
+## Licensed to Cloudera, Inc. under one
+## or more contributor license agreements.  See the NOTICE file
+## distributed with this work for additional information
+## regarding copyright ownership.  Cloudera, Inc. licenses this file
+## to you under the Apache License, Version 2.0 (the
+## "License"); you may not use this file except in compliance
+## with the License.  You may obtain a copy of the License at
+##
+##     http://www.apache.org/licenses/LICENSE-2.0
+##
+## Unless required by applicable law or agreed to in writing, software
+## distributed under the License is distributed on an "AS IS" BASIS,
+## WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+## See the License for the specific language governing permissions and
+## limitations under the License.
+
+<%namespace name="common" file="workflow-common.xml.mako" />
+
+
+<workflow-app name="${ wf.validated_name }" xmlns="${ 'uri:oozie:workflow:0.5' if workflow['properties']['sla_workflow_enabled'] else workflow['properties']['schema_version'] | n,unicode }"${ ' xmlns:sla="uri:oozie:sla:0.2"' if workflow['properties']['sla_workflow_enabled'] else '' | n,unicode }>
+  % if workflow['properties']['job_xml'] or workflow['properties']['properties']:
+  <global>
+    % if workflow['properties']['job_xml']:
+      <job-xml>${ workflow['properties']['job_xml'] | x }</job-xml>
+    % endif
+    % if workflow['properties']['properties']:
+      ${ common.configuration(workflow['properties']['properties']) | x }
+    % endif
+  </global>
+  % endif
+  % if workflow['properties']['credentials']:
+  <credentials>
+    % for cred_type in workflow['properties']['credentials']:
+    <%
+      credential = mapping['credentials'][cred_type]
+    %>
+    <credential name="${ credential['xml_name'] }" type="${ cred_type }">
+    % for name, value in credential['properties']:
+      <property>
+        <name>${ name }</name>
+        <value>${ value }</value>
+      </property>
+    % endfor
+    </credential>
+    % endfor
+  </credentials>
+  % endif
+  % for node in nodes:
+      ${ node.to_xml(mapping, node_mapping, workflow_mapping) | n }
+  % endfor
+  ${ common.sla(workflow) }
+</workflow-app>
diff --git a/apps/oozie/src/oozie/templates/editor2/list_editor_bundles.mako b/apps/oozie/src/oozie/templates/editor2/list_editor_bundles.mako
new file mode 100644
index 0000000..a9615aa
--- /dev/null
+++ b/apps/oozie/src/oozie/templates/editor2/list_editor_bundles.mako
@@ -0,0 +1,274 @@
+## Licensed to Cloudera, Inc. under one
+## or more contributor license agreements.  See the NOTICE file
+## distributed with this work for additional information
+## regarding copyright ownership.  Cloudera, Inc. licenses this file
+## to you under the Apache License, Version 2.0 (the
+## "License"); you may not use this file except in compliance
+## with the License.  You may obtain a copy of the License at
+##
+##     http://www.apache.org/licenses/LICENSE-2.0
+##
+## Unless required by applicable law or agreed to in writing, software
+## distributed under the License is distributed on an "AS IS" BASIS,
+## WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+## See the License for the specific language governing permissions and
+## limitations under the License.
+
+<%!
+  from desktop.views import commonheader, commonfooter, commonshare
+  from django.utils.translation import ugettext as _
+%>
+<%namespace name="actionbar" file="../actionbar.mako" />
+<%namespace name="layout" file="../navigation-bar.mako" />
+<%namespace name="utils" file="../utils.inc.mako" />
+
+${ commonheader(_("Bundles"), "oozie", user) | n,unicode }
+${ layout.menubar(section='bundles', is_editor=True) }
+
+<div id="editor">
+
+<div class="container-fluid">
+  <div class="card card-small">
+  <h1 class="card-heading simple">${ _('Bundle Editor') }</h1>
+
+  <%actionbar:render>
+    <%def name="search()">
+      <input id="filterInput" type="text" class="input-xlarge search-query" placeholder="${_('Search for name, description, etc...')}">
+    </%def>
+
+    <%def name="actions()">
+      <div class="btn-toolbar" style="display: inline; vertical-align: middle">
+        <a data-bind="click: showSubmitPopup, css: {'btn': true, 'disabled': ! oneSelected()}">
+          <i class="fa fa-play"></i> ${ _('Submit') }
+        </a>
+
+        <span style="padding-right:40px"></span>
+
+        <a class="share-link btn" rel="tooltip" data-placement="bottom" data-bind="click: prepareShareModal,
+          attr: {'data-original-title': '${ _("Share") } ' + name},
+          css: {'disabled': ! oneSelected(), 'btn': true}">
+          <i class="fa fa-users"></i> ${ _('Share') }
+        </a>
+
+        <a data-bind="click: copy, css: {'btn': true, 'disabled': ! atLeastOneSelected()}">
+          <i class="fa fa-files-o"></i> ${ _('Copy') }
+        </a>
+
+        <a data-bind="click: function() { $('#deleteWf').modal('show'); }, css: {'btn': true, 'disabled': ! atLeastOneSelected() }">
+          <i class="fa fa-times"></i> ${ _('Delete') }
+        </a>
+
+      </div>
+    </%def>
+
+    <%def name="creation()">
+      <a href="${ url('oozie:new_bundle') }" class="btn"><i class="fa fa-plus-circle"></i> ${ _('Create') }</a>
+    </%def>
+  </%actionbar:render>
+
+  <table id="workflowTable" class="table datatables">
+    <thead>
+      <tr>
+        <th width="1%"><div data-bind="click: selectAll, css: {hueCheckbox: true, 'fa': true, 'fa-check': allSelected}" class="select-all"></div></th>
+        <th>${ _('Name') }</th>
+        <th>${ _('Description') }</th>
+        <th>${ _('Owner') }</th>
+        <th>${ _('Last Modified') }</th>
+      </tr>
+    </thead>
+    <tbody data-bind="foreach: { data: jobs }">
+      <tr>
+        <td data-bind="click: $root.handleSelect" class="center" style="cursor: default" data-row-selector-exclude="true">
+          <div data-bind="css: { 'hueCheckbox': true, 'fa': true, 'fa-check': isSelected }" data-row-selector-exclude="true"></div>
+          <!-- ko if: ! uuid() -->
+            <a data-bind="attr: { 'href': '${ url('oozie:open_old_bundle') }?bundle=' + id() }" data-row-selector="true"></a>
+          <!-- /ko -->
+          <!-- ko if: uuid() -->
+            <a data-bind="attr: { 'href': '${ url('oozie:edit_bundle') }?bundle=' + id() }" data-row-selector="true"></a>
+          <!-- /ko -->                     
+        </td>
+        <td data-bind="text: name"></td>
+        <td data-bind="text: description"></td>
+        <td data-bind="text: owner"></td>
+        <td data-bind="text: last_modified, attr: { 'data-sort-value': last_modified_ts }" data-type="date"></td>
+      </tr>
+    </tbody>
+  </table>
+
+  </div>
+</div>
+
+
+<div class="hueOverlay" data-bind="visible: isLoading">
+  <!--[if lte IE 9]>
+    <img src="/static/art/spinner-big.gif" />
+  <![endif]-->
+  <!--[if !IE]> -->
+    <i class="fa fa-spinner fa-spin"></i>
+  <!-- <![endif]-->
+</div>
+
+<div id="submit-wf-modal" class="modal hide"></div>
+
+<div id="deleteWf" class="modal hide fade">
+  <form id="deleteWfForm" method="POST" data-bind="submit: delete2">
+    ${ csrf_token(request) | n,unicode }
+    <div class="modal-header">
+      <a href="#" class="close" data-dismiss="modal">&times;</a>
+      <h3 id="deleteWfMessage">${ _('Delete the selected workflow(s)?') }</h3>
+    </div>
+    <div class="modal-footer">
+      <a href="#" class="btn" data-dismiss="modal">${ _('No') }</a>
+      <input type="submit" class="btn btn-danger" value="${ _('Yes') }"/>
+    </div>
+  </form>
+</div>
+
+
+</div>
+
+
+${ commonshare() | n,unicode }
+
+
+<script src="/static/ext/js/datatables-paging-0.1.js" type="text/javascript" charset="utf-8"></script>
+<script src="/static/ext/js/knockout-min.js" type="text/javascript" charset="utf-8"></script>
+<script src="/static/ext/js/knockout.mapping-2.3.2.js" type="text/javascript" charset="utf-8"></script>
+<script src="/static/js/share.vm.js"></script>
+
+
+<script type="text/javascript" charset="utf-8">
+  var Editor = function () {
+    var self = this;
+
+    self.jobs = ko.mapping.fromJS(${ bundles_json | n });
+    self.selectedJobs = ko.computed(function() {
+      return $.grep(self.jobs(), function(job) { return job.isSelected(); });
+    });
+    self.isLoading = ko.observable(false);
+
+    self.oneSelected = ko.computed(function() {
+      return self.selectedJobs().length == 1;
+    });
+    self.atLeastOneSelected = ko.computed(function() {
+      return self.selectedJobs().length >= 1;
+    });
+    self.allSelected = ko.observable(false);
+
+    self.handleSelect = function(wf) {
+      wf.isSelected(! wf.isSelected());
+    }
+
+    self.selectAll = function() {
+      self.allSelected(! self.allSelected());
+      ko.utils.arrayForEach(self.jobs(), function (job) {
+        job.isSelected(self.allSelected());
+      });
+    }
+
+    self.datatable = null;
+
+    self.showSubmitPopup = function () {
+      $.get("/oozie/editor/bundle/submit/" + self.selectedJobs()[0].id(), {
+      }, function (data) {
+        $(document).trigger("showSubmitPopup", data);
+      }).fail(function (xhr, textStatus, errorThrown) {
+        $(document).trigger("error", xhr.responseText);
+      });
+    };
+
+    self.delete2 = function() {
+      $.post("${ url('oozie:delete_editor_bundle') }", {
+        "selection": ko.mapping.toJSON(self.selectedJobs)
+      }, function() {
+        window.location.reload();
+        $('#deleteWf').modal('hide');
+      }).fail(function (xhr, textStatus, errorThrown) {
+        $(document).trigger("error", xhr.responseText);
+      });
+    };
+
+    self.copy = function() {
+      $.post("${ url('oozie:copy_bundle') }", {
+        "selection": ko.mapping.toJSON(self.selectedJobs)
+      }, function(data) {
+        window.location.reload();
+      }).fail(function (xhr, textStatus, errorThrown) {
+        $(document).trigger("error", xhr.responseText);
+      });
+    };
+
+    self.prepareShareModal = function() {
+     shareViewModel.setDocId(self.selectedJobs()[0].doc1_id());
+      openShareModal();
+    };
+  }
+
+  var viewModel;
+  var shareViewModel;
+
+  $(document).ready(function () {
+    viewModel = new Editor();
+    ko.applyBindings(viewModel, $("#editor")[0]);
+
+    shareViewModel = initSharing("#documentShareModal");
+    shareViewModel.setDocId(-1);
+
+    $(document).on("showSubmitPopup", function(event, data){
+      $('#submit-wf-modal').html(data);
+      $('#submit-wf-modal').modal('show');
+    });
+
+    var oTable = $("#workflowTable").dataTable({
+      "sPaginationType":"bootstrap",
+      'iDisplayLength':50,
+      "bLengthChange":false,
+      "sDom": "<'row'r>t<'row-fluid'<'dt-pages'p><'dt-records'i>>",
+      "aoColumns":[
+        { "bSortable":false },
+        null,
+        null,
+        null,
+        { "sSortDataType":"dom-sort-value", "sType":"numeric" }
+      ],
+      "aaSorting":[
+        [4, 'desc'],
+        [1, 'asc' ]
+      ],
+      "oLanguage":{
+        "sEmptyTable":"${_('No data available')}",
+        "sInfo":"${_('Showing _START_ to _END_ of _TOTAL_ entries')}",
+        "sInfoEmpty":"${_('Showing 0 to 0 of 0 entries')}",
+        "sInfoFiltered":"${_('(filtered from _MAX_ total entries)')}",
+        "sZeroRecords":"${_('No matching records')}",
+        "oPaginate":{
+          "sFirst":"${_('First')}",
+          "sLast":"${_('Last')}",
+          "sNext":"${_('Next')}",
+          "sPrevious":"${_('Previous')}"
+        },
+        "bDestroy": true
+      },
+      "fnDrawCallback":function (oSettings) {
+        $("a[data-row-selector='true']").jHueRowSelector();
+      }
+    });
+
+    viewModel.datatable = oTable;
+
+    $("#filterInput").keydown(function (e) {
+      if (e.which == 13) {
+        e.preventDefault();
+        return false;
+      }
+    });
+
+    $("#filterInput").keyup(function () {
+      oTable.fnFilter($(this).val());
+    });
+
+    $("a[data-row-selector='true']").jHueRowSelector();
+  });
+</script>
+
+${commonfooter(messages) | n,unicode}
diff --git a/apps/oozie/src/oozie/templates/editor2/list_editor_coordinators.mako b/apps/oozie/src/oozie/templates/editor2/list_editor_coordinators.mako
new file mode 100644
index 0000000..03bb0a2
--- /dev/null
+++ b/apps/oozie/src/oozie/templates/editor2/list_editor_coordinators.mako
@@ -0,0 +1,273 @@
+## Licensed to Cloudera, Inc. under one
+## or more contributor license agreements.  See the NOTICE file
+## distributed with this work for additional information
+## regarding copyright ownership.  Cloudera, Inc. licenses this file
+## to you under the Apache License, Version 2.0 (the
+## "License"); you may not use this file except in compliance
+## with the License.  You may obtain a copy of the License at
+##
+##     http://www.apache.org/licenses/LICENSE-2.0
+##
+## Unless required by applicable law or agreed to in writing, software
+## distributed under the License is distributed on an "AS IS" BASIS,
+## WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+## See the License for the specific language governing permissions and
+## limitations under the License.
+
+<%!
+  from desktop.views import commonheader, commonfooter, commonshare
+  from django.utils.translation import ugettext as _
+%>
+<%namespace name="actionbar" file="../actionbar.mako" />
+<%namespace name="layout" file="../navigation-bar.mako" />
+<%namespace name="utils" file="../utils.inc.mako" />
+
+${ commonheader(_("Coordinators"), "oozie", user) | n,unicode }
+${ layout.menubar(section='coordinators', is_editor=True) }
+
+<div id="editor">
+
+<div class="container-fluid">
+  <div class="card card-small">
+  <h1 class="card-heading simple">${ _('Coordinator Editor') }</h1>
+
+  <%actionbar:render>
+    <%def name="search()">
+      <input id="filterInput" type="text" class="input-xlarge search-query" placeholder="${_('Search for name, description, etc...')}">
+    </%def>
+
+    <%def name="actions()">
+      <div class="btn-toolbar" style="display: inline; vertical-align: middle">
+        <a data-bind="click: showSubmitPopup, css: {'btn': true, 'disabled': ! oneSelected()}">
+          <i class="fa fa-play"></i> ${ _('Submit') }
+        </a>
+
+        <span style="padding-right:40px"></span>
+
+        <a class="share-link btn" rel="tooltip" data-placement="bottom" data-bind="click: prepareShareModal,
+          attr: {'data-original-title': '${ _("Share") } ' + name},
+          css: {'disabled': ! oneSelected(), 'btn': true}">
+          <i class="fa fa-users"></i> ${ _('Share') }
+        </a>
+
+        <a data-bind="click: copy, css: {'btn': true, 'disabled': ! atLeastOneSelected()}">
+          <i class="fa fa-files-o"></i> ${ _('Copy') }
+        </a>
+
+        <a data-bind="click: function() { $('#deleteWf').modal('show'); }, css: {'btn': true, 'disabled': ! atLeastOneSelected() }">
+          <i class="fa fa-times"></i> ${ _('Delete') }
+        </a>
+
+      </div>
+    </%def>
+
+    <%def name="creation()">
+      <a href="${ url('oozie:new_coordinator') }" class="btn"><i class="fa fa-plus-circle"></i> ${ _('Create') }</a>
+    </%def>
+  </%actionbar:render>
+
+  <table id="workflowTable" class="table datatables">
+    <thead>
+      <tr>
+        <th width="1%"><div data-bind="click: selectAll, css: {hueCheckbox: true, 'fa': true, 'fa-check': allSelected}" class="select-all"></div></th>
+        <th>${ _('Name') }</th>
+        <th>${ _('Description') }</th>
+        <th>${ _('Owner') }</th>
+        <th>${ _('Last Modified') }</th>
+      </tr>
+    </thead>
+    <tbody data-bind="foreach: { data: jobs }">
+      <tr>
+        <td data-bind="click: $root.handleSelect" class="center" style="cursor: default" data-row-selector-exclude="true">
+          <div data-bind="css: { 'hueCheckbox': true, 'fa': true, 'fa-check': isSelected }" data-row-selector-exclude="true"></div>
+          <!-- ko if: ! uuid() -->
+            <a data-bind="attr: { 'href': '${ url('oozie:open_old_coordinator') }?coordinator=' + id() }" data-row-selector="true"></a>
+          <!-- /ko -->
+          <!-- ko if: uuid() -->
+            <a data-bind="attr: { 'href': '${ url('oozie:edit_coordinator') }?coordinator=' + id() }" data-row-selector="true"></a>
+          <!-- /ko -->                    
+        </td>
+        <td data-bind="text: name"></td>
+        <td data-bind="text: description"></td>
+        <td data-bind="text: owner"></td>
+        <td data-bind="text: last_modified, attr: { 'data-sort-value': last_modified_ts }" data-type="date"></td>
+      </tr>
+    </tbody>
+  </table>
+
+  </div>
+</div>
+
+
+<div class="hueOverlay" data-bind="visible: isLoading">
+  <!--[if lte IE 9]>
+    <img src="/static/art/spinner-big.gif" />
+  <![endif]-->
+  <!--[if !IE]> -->
+    <i class="fa fa-spinner fa-spin"></i>
+  <!-- <![endif]-->
+</div>
+
+<div id="submit-wf-modal" class="modal hide"></div>
+
+<div id="deleteWf" class="modal hide fade">
+  <form id="deleteWfForm" method="POST" data-bind="submit: delete2">
+    ${ csrf_token(request) | n,unicode }
+    <div class="modal-header">
+      <a href="#" class="close" data-dismiss="modal">&times;</a>
+      <h3 id="deleteWfMessage">${ _('Delete the selected coordinator(s)?') }</h3>
+    </div>
+    <div class="modal-footer">
+      <a href="#" class="btn" data-dismiss="modal">${ _('No') }</a>
+      <input type="submit" class="btn btn-danger" value="${ _('Yes') }"/>
+    </div>
+  </form>
+</div>
+
+
+</div>
+
+
+${ commonshare() | n,unicode }
+
+
+<script src="/static/ext/js/datatables-paging-0.1.js" type="text/javascript" charset="utf-8"></script>
+<script src="/static/ext/js/knockout-min.js" type="text/javascript" charset="utf-8"></script>
+<script src="/static/ext/js/knockout.mapping-2.3.2.js" type="text/javascript" charset="utf-8"></script>
+<script src="/static/js/share.vm.js"></script>
+
+
+<script type="text/javascript" charset="utf-8">
+  var Editor = function () {
+    var self = this;
+
+    self.jobs = ko.mapping.fromJS(${ coordinators_json | n });
+    self.selectedJobs = ko.computed(function() {
+      return $.grep(self.jobs(), function(job) { return job.isSelected(); });
+    });
+    self.isLoading = ko.observable(false);
+
+    self.oneSelected = ko.computed(function() {
+      return self.selectedJobs().length == 1;
+    });
+    self.atLeastOneSelected = ko.computed(function() {
+      return self.selectedJobs().length >= 1;
+    });
+    self.allSelected = ko.observable(false);
+
+    self.handleSelect = function(wf) {
+      wf.isSelected(! wf.isSelected());
+    }
+
+    self.selectAll = function() {
+      self.allSelected(! self.allSelected());
+      ko.utils.arrayForEach(self.jobs(), function (job) {
+        job.isSelected(self.allSelected());
+      });
+    }
+
+    self.datatable = null;
+
+    self.showSubmitPopup = function () {
+      $.get("/oozie/editor/coordinator/submit/" + self.selectedJobs()[0].id(), {
+      }, function (data) {
+        $(document).trigger("showSubmitPopup", data);
+      }).fail(function (xhr, textStatus, errorThrown) {
+        $(document).trigger("error", xhr.responseText);
+      });
+    };
+
+    self.delete2 = function() {
+      $.post("${ url('oozie:delete_editor_coordinator') }", {
+        "selection": ko.mapping.toJSON(self.selectedJobs)
+      }, function() {
+        window.location.reload();
+      }).fail(function (xhr, textStatus, errorThrown) {
+        $(document).trigger("error", xhr.responseText);
+      });
+    };
+
+    self.copy = function() {
+      $.post("${ url('oozie:copy_coordinator') }", {
+        "selection": ko.mapping.toJSON(self.selectedJobs)
+      }, function(data) {
+        window.location.reload();
+      }).fail(function (xhr, textStatus, errorThrown) {
+        $(document).trigger("error", xhr.responseText);
+      });
+    };
+
+    self.prepareShareModal = function() {
+     shareViewModel.setDocId(self.selectedJobs()[0].doc1_id());
+      openShareModal();
+    };
+  }
+
+  var viewModel;
+  var shareViewModel;
+
+  $(document).ready(function () {
+    viewModel = new Editor();
+    ko.applyBindings(viewModel, $("#editor")[0]);
+
+    shareViewModel = initSharing("#documentShareModal");
+    shareViewModel.setDocId(-1);
+
+    $(document).on("showSubmitPopup", function(event, data){
+      $('#submit-wf-modal').html(data);
+      $('#submit-wf-modal').modal('show');
+    });
+
+    var oTable = $("#workflowTable").dataTable({
+      "sPaginationType":"bootstrap",
+      'iDisplayLength':50,
+      "bLengthChange":false,
+      "sDom": "<'row'r>t<'row-fluid'<'dt-pages'p><'dt-records'i>>",
+      "aoColumns":[
+        { "bSortable":false },
+        null,
+        null,
+        null,
+        { "sSortDataType":"dom-sort-value", "sType":"numeric" }
+      ],
+      "aaSorting":[
+        [4, 'desc'],
+        [1, 'asc' ]
+      ],
+      "oLanguage":{
+        "sEmptyTable":"${_('No data available')}",
+        "sInfo":"${_('Showing _START_ to _END_ of _TOTAL_ entries')}",
+        "sInfoEmpty":"${_('Showing 0 to 0 of 0 entries')}",
+        "sInfoFiltered":"${_('(filtered from _MAX_ total entries)')}",
+        "sZeroRecords":"${_('No matching records')}",
+        "oPaginate":{
+          "sFirst":"${_('First')}",
+          "sLast":"${_('Last')}",
+          "sNext":"${_('Next')}",
+          "sPrevious":"${_('Previous')}"
+        },
+        "bDestroy": true
+      },
+      "fnDrawCallback":function (oSettings) {
+        $("a[data-row-selector='true']").jHueRowSelector();
+      }
+    });
+
+    viewModel.datatable = oTable;
+
+    $("#filterInput").keydown(function (e) {
+      if (e.which == 13) {
+        e.preventDefault();
+        return false;
+      }
+    });
+
+    $("#filterInput").keyup(function () {
+      oTable.fnFilter($(this).val());
+    });
+
+    $("a[data-row-selector='true']").jHueRowSelector();
+  });
+</script>
+
+${commonfooter(messages) | n,unicode}
diff --git a/apps/oozie/src/oozie/templates/editor2/list_editor_workflows.mako b/apps/oozie/src/oozie/templates/editor2/list_editor_workflows.mako
new file mode 100644
index 0000000..1caaa63
--- /dev/null
+++ b/apps/oozie/src/oozie/templates/editor2/list_editor_workflows.mako
@@ -0,0 +1,276 @@
+## Licensed to Cloudera, Inc. under one
+## or more contributor license agreements.  See the NOTICE file
+## distributed with this work for additional information
+## regarding copyright ownership.  Cloudera, Inc. licenses this file
+## to you under the Apache License, Version 2.0 (the
+## "License"); you may not use this file except in compliance
+## with the License.  You may obtain a copy of the License at
+##
+##     http://www.apache.org/licenses/LICENSE-2.0
+##
+## Unless required by applicable law or agreed to in writing, software
+## distributed under the License is distributed on an "AS IS" BASIS,
+## WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+## See the License for the specific language governing permissions and
+## limitations under the License.
+
+<%!
+  from desktop.views import commonheader, commonfooter, commonshare
+  from django.utils.translation import ugettext as _
+%>
+<%namespace name="actionbar" file="../actionbar.mako" />
+<%namespace name="layout" file="../navigation-bar.mako" />
+<%namespace name="utils" file="../utils.inc.mako" />
+
+${ commonheader(_("Workflows"), "oozie", user) | n,unicode }
+${ layout.menubar(section='workflows', is_editor=True) }
+
+
+<div id="editor">
+
+<div class="container-fluid">
+  <div class="card card-small">
+  <h1 class="card-heading simple">${ _('Workflow Editor') }</h1>
+
+  <%actionbar:render>
+    <%def name="search()">
+      <input id="filterInput" type="text" class="input-xlarge search-query" placeholder="${_('Search for name, description, etc...')}">
+    </%def>
+
+    <%def name="actions()">
+      <div class="btn-toolbar" style="display: inline; vertical-align: middle">
+        <a data-bind="click: showSubmitPopup, css: {'btn': true, 'disabled': ! oneSelected()}">
+          <i class="fa fa-play"></i> ${ _('Submit') }
+        </a>
+
+        <span style="padding-right:40px"></span>
+
+        <a class="share-link btn" rel="tooltip" data-placement="bottom" data-bind="click: prepareShareModal,
+          attr: {'data-original-title': '${ _("Share") } ' + name},
+          css: {'disabled': ! oneSelected(), 'btn': true}">
+          <i class="fa fa-users"></i> ${ _('Share') }
+        </a>
+
+        <a data-bind="click: copy, css: {'btn': true, 'disabled': ! atLeastOneSelected()}">
+          <i class="fa fa-files-o"></i> ${ _('Copy') }
+        </a>
+
+        <a data-bind="click: function() { $('#deleteWf').modal('show'); }, css: {'btn': true, 'disabled': ! atLeastOneSelected() }">
+          <i class="fa fa-times"></i> ${ _('Delete') }
+        </a>
+
+      </div>
+    </%def>
+
+    <%def name="creation()">
+      <a href="${ url('oozie:new_workflow') }" class="btn"><i class="fa fa-plus-circle"></i> ${ _('Create') }</a>
+    </%def>
+  </%actionbar:render>
+
+  <table id="workflowTable" class="table datatables">
+    <thead>
+      <tr>
+        <th width="1%"><div data-bind="click: selectAll, css: {hueCheckbox: true, 'fa': true, 'fa-check': allSelected}" class="select-all"></div></th>
+        <th>${ _('Name') }</th>
+        <th>${ _('Description') }</th>
+        <th>${ _('Owner') }</th>
+        <th>${ _('Last Modified') }</th>
+      </tr>
+    </thead>
+    <tbody data-bind="foreach: { data: jobs }">
+      <tr>
+        <td data-bind="click: $root.handleSelect" class="center" style="cursor: default" data-row-selector-exclude="true">
+          <div data-bind="css: { 'hueCheckbox': true, 'fa': true, 'fa-check': isSelected }" data-row-selector-exclude="true"></div>          
+          <!-- ko if: ! uuid() -->
+            <a data-bind="attr: { 'href': '${ url('oozie:open_old_workflow') }?workflow=' + id() }" data-row-selector="true"></a>
+          <!-- /ko -->
+          <!-- ko if: uuid() -->
+            <a data-bind="attr: { 'href': '${ url('oozie:edit_workflow') }?workflow=' + id() }" data-row-selector="true"></a>
+          <!-- /ko -->
+        </td>
+        <td data-bind="text: name"></td>
+        <td data-bind="text: description"></td>
+        <td data-bind="text: owner"></td>
+        <td data-bind="text: last_modified, attr: { 'data-sort-value': last_modified_ts }" data-type="date"></td>
+      </tr>
+    </tbody>
+  </table>
+
+  </div>
+</div>
+
+
+<div class="hueOverlay" data-bind="visible: isLoading">
+  <!--[if lte IE 9]>
+    <img src="/static/art/spinner-big.gif" />
+  <![endif]-->
+  <!--[if !IE]> -->
+    <i class="fa fa-spinner fa-spin"></i>
+  <!-- <![endif]-->
+</div>
+
+<div id="submit-wf-modal" class="modal hide"></div>
+
+<div id="deleteWf" class="modal hide fade">
+  <form id="deleteWfForm" method="POST" data-bind="submit: delete2">
+    ${ csrf_token(request) | n,unicode }
+    <div class="modal-header">
+      <a href="#" class="close" data-dismiss="modal">&times;</a>
+      <h3 id="deleteWfMessage">${ _('Delete the selected workflow(s)?') }</h3>
+    </div>
+    <div class="modal-footer">
+      <a href="#" class="btn" data-dismiss="modal">${ _('No') }</a>
+      <input type="submit" class="btn btn-danger" value="${ _('Yes') }"/>
+    </div>
+  </form>
+</div>
+
+
+</div>
+
+
+${ commonshare() | n,unicode }
+
+
+<script src="/static/ext/js/datatables-paging-0.1.js" type="text/javascript" charset="utf-8"></script>
+<script src="/static/ext/js/knockout-min.js" type="text/javascript" charset="utf-8"></script>
+<script src="/static/ext/js/knockout.mapping-2.3.2.js" type="text/javascript" charset="utf-8"></script>
+<script src="/static/js/share.vm.js"></script>
+
+
+<script type="text/javascript" charset="utf-8">
+  var Editor = function () {
+    var self = this;
+
+    self.jobs = ko.mapping.fromJS(${ workflows_json | n });
+    self.selectedJobs = ko.computed(function() {
+      return $.grep(self.jobs(), function(job) { return job.isSelected(); });
+    });
+    self.isLoading = ko.observable(false);
+
+    self.oneSelected = ko.computed(function() {
+      return self.selectedJobs().length == 1;
+    });
+    self.atLeastOneSelected = ko.computed(function() {
+      return self.selectedJobs().length >= 1;
+    });
+    self.allSelected = ko.observable(false);
+
+    self.handleSelect = function(wf) {
+      wf.isSelected(! wf.isSelected());
+    }
+
+    self.selectAll = function() {
+      self.allSelected(! self.allSelected());
+      ko.utils.arrayForEach(self.jobs(), function (job) {
+        job.isSelected(self.allSelected());
+      });
+    }
+
+    self.datatable = null;
+
+    self.showSubmitPopup = function () {
+      $.get("/oozie/editor/workflow/submit/" + self.selectedJobs()[0].id(), {
+      }, function (data) {
+        $(document).trigger("showSubmitPopup", data);
+      }).fail(function (xhr, textStatus, errorThrown) {
+        $(document).trigger("error", xhr.responseText);
+      });
+    };
+
+    self.delete2 = function() {
+      $.post("${ url('oozie:delete_editor_workflow') }", {
+        "selection": ko.mapping.toJSON(self.selectedJobs)
+      }, function() {
+        window.location.reload();
+        $('#deleteWf').modal('hide');
+      }).fail(function (xhr, textStatus, errorThrown) {
+        $(document).trigger("error", xhr.responseText);
+      });
+    };
+
+    self.copy = function() {
+      $.post("${ url('oozie:copy_workflow') }", {
+        "selection": ko.mapping.toJSON(self.selectedJobs)
+      }, function(data) {
+        window.location.reload();
+      }).fail(function (xhr, textStatus, errorThrown) {
+        $(document).trigger("error", xhr.responseText);
+      });
+    };
+
+    self.prepareShareModal = function() {
+     shareViewModel.setDocId(self.selectedJobs()[0].doc1_id());
+      openShareModal();
+    };
+  }
+
+  var viewModel;
+  var shareViewModel;
+
+  $(document).ready(function () {
+    viewModel = new Editor();
+    ko.applyBindings(viewModel, $("#editor")[0]);
+
+    shareViewModel = initSharing("#documentShareModal");
+    shareViewModel.setDocId(-1);
+
+    $(document).on("showSubmitPopup", function(event, data){
+      $('#submit-wf-modal').html(data);
+      $('#submit-wf-modal').modal('show');
+    });
+
+    var oTable = $("#workflowTable").dataTable({
+      "sPaginationType":"bootstrap",
+      'iDisplayLength':50,
+      "bLengthChange":false,
+      "sDom": "<'row'r>t<'row-fluid'<'dt-pages'p><'dt-records'i>>",
+      "aoColumns":[
+        { "bSortable":false },
+        null,
+        null,
+        null,
+        { "sSortDataType":"dom-sort-value", "sType":"numeric" }
+      ],
+      "aaSorting":[
+        [4, 'desc'],
+        [1, 'asc' ]
+      ],
+      "oLanguage":{
+        "sEmptyTable":"${_('No data available')}",
+        "sInfo":"${_('Showing _START_ to _END_ of _TOTAL_ entries')}",
+        "sInfoEmpty":"${_('Showing 0 to 0 of 0 entries')}",
+        "sInfoFiltered":"${_('(filtered from _MAX_ total entries)')}",
+        "sZeroRecords":"${_('No matching records')}",
+        "oPaginate":{
+          "sFirst":"${_('First')}",
+          "sLast":"${_('Last')}",
+          "sNext":"${_('Next')}",
+          "sPrevious":"${_('Previous')}"
+        },
+        "bDestroy": true
+      },
+      "fnDrawCallback":function (oSettings) {
+        $("a[data-row-selector='true']").jHueRowSelector();
+      }
+    });
+
+    viewModel.datatable = oTable;
+
+    $("#filterInput").keydown(function (e) {
+      if (e.which == 13) {
+        e.preventDefault();
+        return false;
+      }
+    });
+
+    $("#filterInput").keyup(function () {
+      oTable.fnFilter($(this).val());
+    });
+
+    $("a[data-row-selector='true']").jHueRowSelector();
+  });
+</script>
+
+
+${commonfooter(messages) | n,unicode}
diff --git a/apps/oozie/src/oozie/templates/editor2/submit_job_popup.mako b/apps/oozie/src/oozie/templates/editor2/submit_job_popup.mako
new file mode 100644
index 0000000..4f226c3
--- /dev/null
+++ b/apps/oozie/src/oozie/templates/editor2/submit_job_popup.mako
@@ -0,0 +1,138 @@
+## Licensed to Cloudera, Inc. under one
+## or more contributor license agreements.  See the NOTICE file
+## distributed with this work for additional information
+## regarding copyright ownership.  Cloudera, Inc. licenses this file
+## to you under the Apache License, Version 2.0 (the
+## "License"); you may not use this file except in compliance
+## with the License.  You may obtain a copy of the License at
+##
+##     http://www.apache.org/licenses/LICENSE-2.0
+##
+## Unless required by applicable law or agreed to in writing, software
+## distributed under the License is distributed on an "AS IS" BASIS,
+## WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+## See the License for the specific language governing permissions and
+## limitations under the License.
+
+<%!
+  from django.utils.translation import ugettext as _
+%>
+
+<%namespace name="utils" file="../utils.inc.mako" />
+
+<link rel="stylesheet" href="/oozie/static/css/common-editor.css">
+
+<form action="${ action }" method="POST" class="form submit-form">
+  ${ csrf_token(request) | n,unicode }
+  <div class="modal-header">
+    <a href="#" class="close" data-dismiss="modal">&times;</a>
+    <h3>${ _('Submit %(job)s?') % {'job': name} }</h3>
+  </div>
+  <div class="modal-body">
+    
+      <div id="param-container">
+
+       ${ params_form.management_form | n,unicode }
+
+       % for form in params_form.forms:
+          % for hidden in form.hidden_fields():
+            ${ hidden | n,unicode }
+          % endfor
+
+          <div class="control-group"
+            % if form['name'].form.initial.get('name') == 'oozie.use.system.libpath':
+                style="display: none"
+            % endif
+          ">
+            <label class="control-label">${ form['name'].form.initial.get('name') }</label>
+            <div class="controls">
+              ${ utils.render_field(form['value'], show_label=False, extra_attrs={'class': 'filechooser-input input-xlarge'}) }
+              <div class="btn-group">
+                <a class="btn btn-default dropdown-toggle" data-toggle="dropdown">
+                  <i class="fa fa-calendar"></i>
+                  <span class="caret"></span>
+                </a>
+                <ul class="dropdown-menu pull-right" role="menu">
+                  <li>
+                    <a class="pointer now-link">
+                      ${ _('Now') }
+                    </a>
+                    <a class="pointer calendar-link">
+                      ${ _('Calendar') }
+                    </a>
+                  </li>
+                </ul>
+                </div>
+            </div>
+          </div>
+
+         % endfor
+      </div>
+
+  </div>
+  <div class="modal-footer">
+    <a href="#" class="btn" data-dismiss="modal">${ _('Cancel') }</a>
+    <input id="submit-btn" type="submit" class="btn btn-primary" value="${ _('Submit') }"/>
+  </div>
+</form>
+
+<div id="chooseFile" class="modal hide fade">
+  <div class="modal-header">
+      <a href="#" class="close" data-dismiss="modal">&times;</a>
+      <h3>${_('Choose a file')}</h3>
+  </div>
+  <div class="modal-body">
+      <div id="filechooser">
+      </div>
+  </div>
+  <div class="modal-footer">
+  </div>
+</div>
+
+
+<script src="/static/js/ko.hue-bindings.js"></script>
+<link rel="stylesheet" href="/static/ext/css/bootstrap-datepicker.min.css" type="text/css" media="screen" title="no title" charset="utf-8" />
+<link rel="stylesheet" href="/static/ext/css/bootstrap-timepicker.min.css" type="text/css" media="screen" title="no title" charset="utf-8" />
+
+<style type="text/css">
+  .datepicker {
+    z-index: 4999;
+  }
+  #param-container input[type="text"].filechooser-input.input-xlarge {
+    width: 450px;
+  }
+  #param-container .control-group {
+    float: left;
+  }
+  #param-container .btn-group {
+    margin-left: 10px;
+  }
+}
+</style>
+
+<script src="/static/ext/js/moment.min.js" type="text/javascript" charset="utf-8"></script>
+<script src="/static/ext/js/bootstrap-datepicker.min.js" type="text/javascript" charset="utf-8"></script>
+<script src="/static/ext/js/bootstrap-timepicker.min.js" type="text/javascript" charset="utf-8"></script>
+
+<script type="text/javascript">
+  $('.submit-form .filechooser-input').each(function(){
+    $(this).after(getFileBrowseButton($(this), true, null, true));
+  });
+
+  $(".now-link").on("click", function(){
+    $(this).parents(".controls").find("input[type='text']").val(moment().format("YYYY-MM-DD[T]HH:mm") + 'Z');
+  });
+
+  $(".calendar-link").on("click", function(){
+    var DATE_FORMAT = "YYYY-MM-DD";
+    var _el = $(this).parents(".controls").find("input[type='text']");
+    _el.datepicker({
+      format: DATE_FORMAT.toLowerCase()
+     }).on("changeDate", function () {
+      _el.datepicker('hide');
+      _el.val(_el.val() + "T00:00Z");
+    });
+   _el.datepicker('show');
+  }); 
+</script>
+
diff --git a/apps/oozie/src/oozie/templates/editor2/workflow_editor.mako b/apps/oozie/src/oozie/templates/editor2/workflow_editor.mako
new file mode 100644
index 0000000..62c0efa
--- /dev/null
+++ b/apps/oozie/src/oozie/templates/editor2/workflow_editor.mako
@@ -0,0 +1,2162 @@
+## Licensed to Cloudera, Inc. under one
+## or more contributor license agreements.  See the NOTICE file
+## distributed with this work for additional information
+## regarding copyright ownership.  Cloudera, Inc. licenses this file
+## to you under the Apache License, Version 2.0 (the
+## "License"); you may not use this file except in compliance
+## with the License.  You may obtain a copy of the License at
+##
+##     http://www.apache.org/licenses/LICENSE-2.0
+##
+## Unless required by applicable law or agreed to in writing, software
+## distributed under the License is distributed on an "AS IS" BASIS,
+## WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+## See the License for the specific language governing permissions and
+## limitations under the License.
+<%!
+from desktop.views import commonheader, commonfooter, commonshare
+from django.utils.translation import ugettext as _
+%>
+
+<%namespace name="dashboard" file="/common_dashboard.mako" />
+<%namespace name="utils" file="../utils.inc.mako" />
+
+${ commonheader(_("Workflow Editor"), "Oozie", user, "40px") | n,unicode }
+
+<script type="text/javascript">
+  if (window.location.hash != "") {
+    if (window.location.hash.indexOf("workflow") > -1) {
+      location.href = "/oozie/editor/workflow/edit/?" + window.location.hash.substr(1);
+    }
+  }
+</script>
+
+
+<div id="editor">
+
+<%dashboard:layout_toolbar>
+  <%def name="skipLayout()"></%def>
+  <%def name="widgetSectionName()">${ _('ACTIONS') }</%def>
+  <%def name="widgets()">
+    <div data-bind="css: { 'draggable-widget': true },
+                    draggable: {data: draggableHiveAction(), isEnabled: true,
+                    options: {'refreshPositions': true, 'stop': function(){ $root.isDragging(false); }, 'start': function(event, ui){ $root.isDragging(true); $root.currentlyDraggedWidget(draggableHiveAction());}}}"
+         title="${_('Hive Script')}" rel="tooltip" data-placement="top">
+         <a class="draggable-icon"><img src="/oozie/static/art/icon_beeswax_48.png" class="app-icon"></a>
+    </div>
+
+    <div data-bind="css: { 'draggable-widget': true },
+                    draggable: {data: draggableHive2Action(), isEnabled: true,
+                    options: {'refreshPositions': true, 'stop': function(){ $root.isDragging(false); }, 'start': function(event, ui){ $root.isDragging(true); $root.currentlyDraggedWidget(draggableHive2Action());}}}"
+         title="${_('HiveServer2 Script')}" rel="tooltip" data-placement="top">
+         <a class="draggable-icon"><img src="/oozie/static/art/icon_beeswax_48.png" class="app-icon"><sup style="color: #338bb8; margin-left: -4px; top: -14px; font-size: 12px">2</sup></a>
+    </div>
+
+    <div data-bind="css: { 'draggable-widget': true},
+                    draggable: {data: draggablePigAction(), isEnabled: true,
+                    options: {'refreshPositions': true, 'stop': function(){ $root.isDragging(false); }, 'start': function(event, ui){ $root.isDragging(true); $root.currentlyDraggedWidget(draggablePigAction());}}}"
+         title="${_('Pig Script')}" rel="tooltip" data-placement="top">
+         <a class="draggable-icon"><img src="/oozie/static/art/icon_pig_48.png" class="app-icon"></a>
+    </div>
+
+    <div data-bind="css: { 'draggable-widget': true },
+                    draggable: {data: draggableJavaAction(), isEnabled: true,
+                    options: {'refreshPositions': true, 'stop': function(){ $root.isDragging(false); }, 'start': function(event, ui){ $root.isDragging(true); $root.currentlyDraggedWidget(draggableJavaAction());}}}"
+         title="${_('Java program')}" rel="tooltip" data-placement="top">
+         <a class="draggable-icon"><i class="fa fa-file-code-o"></i></a>
+    </div>
+
+    <div data-bind="css: { 'draggable-widget': true },
+                    draggable: {data: draggableSqoopAction(), isEnabled: true,
+                    options: {'refreshPositions': true, 'stop': function(){ $root.isDragging(false); }, 'start': function(event, ui){ $root.isDragging(true); $root.currentlyDraggedWidget(draggableSqoopAction());}}}"
+         title="${_('Sqoop 1')}" rel="tooltip" data-placement="top">
+         <a class="draggable-icon"><img src="/oozie/static/art/icon_sqoop_48.png" class="app-icon"></a>
+    </div>
+
+    <div data-bind="css: { 'draggable-widget': true },
+                    draggable: {data: draggableMapReduceAction(), isEnabled: true,
+                    options: {'refreshPositions': true, 'stop': function(){ $root.isDragging(false); }, 'start': function(event, ui){ $root.isDragging(true); $root.currentlyDraggedWidget(draggableMapReduceAction());}}}"
+         title="${_('MapReduce job')}" rel="tooltip" data-placement="top">
+         <a class="draggable-icon"><i class="fa fa-file-archive-o"></i></a>
+    </div>
+
+    <div data-bind="css: { 'draggable-widget': true },
+                    draggable: {data: draggableSubworkflowAction(), isEnabled: true,
+                    options: {'refreshPositions': true, 'stop': function(){ $root.isDragging(false); }, 'start': function(event, ui){ $root.isDragging(true); $root.currentlyDraggedWidget(draggableSubworkflowAction());}}}"
+         title="${_('Sub workflow')}" rel="tooltip" data-placement="top">
+         <a class="draggable-icon"><i class="fa fa-code-fork"></i></a>
+    </div>
+
+    <div data-bind="css: { 'draggable-widget': true },
+                    draggable: {data: draggableShellAction(), isEnabled: true,
+                    options: {'refreshPositions': true, 'stop': function(){ $root.isDragging(false); }, 'start': function(event, ui){ $root.isDragging(true); $root.currentlyDraggedWidget(draggableShellAction());}}}"
+         title="${_('Shell')}" rel="tooltip" data-placement="top">
+         <a class="draggable-icon"><i class="fa fa-terminal"></i></a>
+    </div>
+
+    <div data-bind="css: { 'draggable-widget': true },
+                    draggable: {data: draggableSshAction(), isEnabled: true,
+                    options: {'refreshPositions': true, 'stop': function(){ $root.isDragging(false); }, 'start': function(event, ui){ $root.isDragging(true); $root.currentlyDraggedWidget(draggableSshAction());}}}"
+         title="${_('Ssh')}" rel="tooltip" data-placement="top">
+         <a class="draggable-icon"><i class="fa fa-tty"></i></a>
+    </div>
+
+    <div data-bind="css: { 'draggable-widget': true },
+                    draggable: {data: draggableFsAction(), isEnabled: true,
+                    options: {'refreshPositions': true, 'stop': function(){ $root.isDragging(false); }, 'start': function(event, ui){ $root.isDragging(true); $root.currentlyDraggedWidget(draggableFsAction());}}}"
+         title="${_('HDFS Fs')}" rel="tooltip" data-placement="top">
+         <a class="draggable-icon"><i class="fa fa-file-o"></i></a>
+    </div>
+
+    <div data-bind="css: { 'draggable-widget': true },
+                    draggable: {data: draggableEmailAction(), isEnabled: true,
+                    options: {'refreshPositions': true, 'stop': function(){ $root.isDragging(false); }, 'start': function(event, ui){ $root.isDragging(true); $root.currentlyDraggedWidget(draggableEmailAction());}}}"
+         title="${_('Email')}" rel="tooltip" data-placement="top">
+         <a class="draggable-icon"><i class="fa fa-envelope-o"></i></a>
+    </div>
+
+    <div data-bind="css: { 'draggable-widget': true },
+                    draggable: {data: draggableStreamingAction(), isEnabled: true,
+                    options: {'refreshPositions': true, 'stop': function(){ $root.isDragging(false); }, 'start': function(event, ui){ $root.isDragging(true); $root.currentlyDraggedWidget(draggableStreamingAction());}}}"
+         title="${_('Streaming')}" rel="tooltip" data-placement="top">
+         <a class="draggable-icon"><i class="fa fa-exchange"></i></a>
+    </div>
+
+    <div data-bind="css: { 'draggable-widget': true },
+                    draggable: {data: draggableDistCpAction(), isEnabled: true,
+                    options: {'refreshPositions': true, 'stop': function(){ $root.isDragging(false); }, 'start': function(event, ui){ $root.isDragging(true); $root.currentlyDraggedWidget(draggableDistCpAction());}}}"
+         title="${_('Distcp')}" rel="tooltip" data-placement="top">
+         <a class="draggable-icon"><i class="fa fa-files-o"></i></a>
+    </div>
+
+    <div data-bind="css: { 'draggable-widget': true },
+                    draggable: {data: draggableKillNode(), isEnabled: true,
+                    options: {'refreshPositions': true, 'stop': function(){ $root.isDragging(false); }, 'start': function(event, ui){ $root.isDragging(true); $root.currentlyDraggedWidget(draggableKillNode());}}}"
+         title="${_('Kill')}" rel="tooltip" data-placement="top">
+         <a class="draggable-icon"><i class="fa fa-stop"></i></a>
+    </div>
+</%def>
+</%dashboard:layout_toolbar>
+
+
+
+<div class="search-bar">
+  <div class="pull-right" style="padding-right:50px">
+
+    <span data-bind="visible: workflow.isDirty() || workflow.id() == null" class="muted">${ _('Unsaved') }&nbsp;&nbsp;&nbsp;</span>
+
+    <a title="${ _('Submit') }" rel="tooltip" data-placement="bottom" data-bind="click: showSubmitPopup, css: {'btn': true, 'disabled': workflow.isDirty()}, visible: workflow.id() != null">
+      <i class="fa fa-fw fa-play"></i>
+    </a>
+    <a title="${ _('Schedule') }" rel="tooltip" data-placement="bottom" data-bind="click: showSubmitPopup, css: {'btn': true, 'disabled': workflow.isDirty()}, visible: workflow.id() != null">
+      <i class="fa fa-fw fa-calendar"></i>
+    </a>
+
+    &nbsp;&nbsp;&nbsp;
+    
+    <a title="${ _('Edit') }" rel="tooltip" data-placement="bottom" data-bind="click: toggleEditing, css: {'btn': true, 'btn-inverse': isEditing}, visible: canEdit">
+      <i class="fa fa-fw fa-pencil"></i>
+    </a>
+
+    &nbsp;&nbsp;&nbsp;
+
+    <button type="button" title="${ _('Settings') }" rel="tooltip" data-placement="bottom" data-toggle="modal" data-target="#settingsModal" data-bind="css: {'btn': true}, visible: canEdit">
+      <i class="fa fa-fw fa-cog"></i>
+    </button>
+
+    <a title="${ _('Workspace') }" target="_blank" rel="tooltip" data-placement="right"
+        data-original-title="${ _('Go upload additional files and libraries to the deployment directory on HDFS') }"
+        data-bind="css: {'btn': true}, attr: { href: '/filebrowser/view' + $root.workflow.properties.deployment_dir() }">
+      <i class="fa fa-fw fa-folder-open"></i>
+    </a>
+
+    &nbsp;&nbsp;&nbsp;
+
+    <button type="button" title="${ _('Save') }" rel="tooltip" data-placement="bottom" data-loading-text="${ _("Saving...") }" data-bind="click: $root.save, css: {'btn': true}, visible: canEdit">
+      <i class="fa fa-fw fa-save"></i>
+    </button>
+
+    <a class="share-link btn" rel="tooltip" data-placement="bottom" data-bind="click: openShareModal,
+        attr: {'data-original-title': '${ _("Share") } ' + name},
+        css: {'isShared': isShared(), 'btn': true},
+        visible: workflow.id() != null && canEdit()">
+      <i class="fa fa-users"></i>
+    </a>
+
+    &nbsp;&nbsp;&nbsp;
+
+    <a class="btn" href="${ url('oozie:new_workflow') }" title="${ _('New') }" rel="tooltip" data-placement="bottom" data-bind="css: {'btn': true}">
+      <i class="fa fa-fw fa-file-o"></i>
+    </a>
+
+    <a class="btn" href="${ url('oozie:list_editor_workflows') }" title="${ _('Workflows') }" rel="tooltip" data-placement="bottom" data-bind="css: {'btn': true}">
+      <i class="fa fa-fw fa-tags"></i>
+    </a>
+  </div>
+
+
+  <form class="form-search">
+    <div class="inline object-name">
+      <span data-bind="editable: $root.workflow.name, editableOptions: {enabled: $root.isEditing(), placement: 'right'}"></span>
+    </div>
+    <div class="inline object-description">
+      <span data-bind="editable: $root.workflow.properties.description, editableOptions: {enabled: $root.isEditing(), placement: 'right', emptytext: '${_('Add a description...')}'}"></span>
+    </div>
+    
+    <!-- ko if: $root.workflow.properties.imported -->
+    <div class="inline alert alert-warn" style="margin-left:100px">
+      ${ _('This workflow was imported from an old Hue version, save it to create a copy in the new format or') }
+      <a data-bind="attr: { href: '/oozie/edit_workflow/' + $root.workflow.properties.wf1_id() }">${ _('open it in the old editor.') }</a>
+    </div>
+    <!-- /ko -->
+  </form>
+</div>
+
+
+<div id="emptyDashboard" data-bind="fadeVisible: !isEditing() && oozieColumns().length == 0">
+  <div style="float:left; padding-top: 90px; margin-right: 20px; text-align: center; width: 260px">${ _('Click on the pencil to get started with your dashboard!') }</div>
+  <img src="/static/art/hint_arrow.png" />
+</div>
+
+<div id="emptyDashboardEditing" data-bind="fadeVisible: isEditing() && oozieColumns().length == 0 && previewColumns() == ''">
+  <div style="float:right; padding-top: 90px; margin-left: 20px; text-align: center; width: 260px">${ _('Pick an index and Click on a layout to start your dashboard!') }</div>
+  <img src="/static/art/hint_arrow_horiz_flipped.png" />
+</div>
+
+
+<div data-bind="css: {'dashboard': true, 'readonly': ! isEditing()}">
+  <div class="container-fluid">
+    <div class="row-fluid" data-bind="template: { name: 'column-template', foreach: oozieColumns}">
+    </div>
+    <div class="clearfix"></div>
+  </div>
+</div>
+
+
+<script type="text/html" id="column-template">
+  <div data-bind="css: klass()" style="min-height: 50px !important;">
+    <div data-bind="template: { name: 'row-template', data: oozieStartRow }" style="margin-top: 50px"></div>
+
+    <div class="container-fluid" data-bind="visible: $root.isEditing() && oozieRows().length > 0">
+      <div class="row-fluid">
+        <div data-bind="visible: enableOozieDropOnBefore, css: {'span4 offset4': true, 'drop-target': true, 'drop-target-dragging': $root.isDragging(), 'is-editing': $root.isEditing}, droppable: {enabled: $root.isEditing, onDrop: function(x, y){ var _w = $root.addDraggedWidget($data, true); widgetDraggedAdditionalHandler(_w); } }"></div>
+        <div data-bind="visible: ! enableOozieDropOnBefore(), css: {'drop-target drop-target-disabled': true, 'drop-target-dragging': $root.isDragging(), 'is-editing': $root.isEditing}"></div>
+      </div>
+    </div>
+    <div data-bind="template: { name: 'internal-row-template', foreach: oozieRows}">
+    </div>
+    <div class="container-fluid" data-bind="visible: $root.isEditing() && rows().length > 0">
+      <div class="row-fluid">
+        <div data-bind="visible: enableOozieDropOnAfter, css: {'span4 offset4': true, 'drop-target': true, 'drop-target-dragging': $root.isDragging(), 'is-editing': $root.isEditing}, droppable: {enabled: $root.isEditing, onDrop: function(){ var _w = $root.addDraggedWidget($data, false); widgetDraggedAdditionalHandler(_w); } }">
+          <span data-bind="visible: oozieRows().length == 0">${ _('Drop your action here') }</span>
+        </div>
+        <div data-bind="visible: ! enableOozieDropOnAfter(), css: {'drop-target drop-target-disabled': true, 'drop-target-dragging': $root.isDragging(), 'is-editing': $root.isEditing}"></div>
+      </div>
+    </div>
+
+    <div data-bind="template: { name: 'row-template', data: oozieEndRow }"></div>
+
+    <div data-bind="template: { name: 'row-template', data: oozieKillRow }" style="margin-top: 60px"></div>
+  </div>
+</script>
+
+
+<script type="text/html" id="internal-column-template">
+  <div data-bind="css: klass(), style: {'minHeight': '50px !important', 'width': percWidth() + '%' }">
+    <div class="container-fluid" data-bind="visible: $root.isEditing()">
+      <div data-bind="visible: ! enableOozieDropOnBefore(), css: {'drop-target drop-target-disabled': true, 'drop-target-dragging': $root.isDragging(), 'is-editing': $root.isEditing}"></div>
+      <div data-bind="visible: enableOozieDropOnBefore, css: {'drop-target': true, 'drop-target-dragging': $root.isDragging(), 'is-editing': $root.isEditing}, droppable: {enabled: $root.isEditing, onDrop: function(){ var _w = $root.addDraggedWidget($data, true); widgetDraggedAdditionalHandler(_w); } }"></div>
+    </div>
+    <div data-bind="template: { name: 'internal-row-template', foreach: rows}">
+    </div>
+    <div class="container-fluid" data-bind="visible: $root.isEditing()">
+      <div data-bind="visible: ! enableOozieDropOnAfter(), css: {'drop-target drop-target-disabled': true, 'drop-target-dragging': $root.isDragging(), 'is-editing': $root.isEditing}"></div>
+      <div data-bind="visible: enableOozieDropOnAfter, css: {'drop-target': true, 'drop-target-dragging': $root.isDragging(), 'is-editing': $root.isEditing}, droppable: {enabled: $root.isEditing, onDrop: function(){ var _w = $root.addDraggedWidget($data, false); widgetDraggedAdditionalHandler(_w); } }"></div>
+    </div>
+  </div>
+</script>
+
+
+<script type="text/html" id="row-template">
+  <div class="container-fluid">
+    <div class="row-fluid">
+      <div class="span4 offset4">
+        <div data-bind="css: {'row-fluid': true, 'row-container':true, 'is-editing': $root.isEditing},
+          sortable: { template: 'widget-template', data: widgets, allowDrop: $root.isEditing() && widgets().length < 1, isEnabled: $root.isEditing() && widgets().length < 1,
+          options: {'opacity': 0.7, 'placeholder': 'row-highlight', 'greedy': true,
+              'stop': function(event, ui){},
+              'helper': function(event){lastWindowScrollPosition = $(window).scrollTop(); var _par = $('<div>');_par.addClass('card card-widget');var _title = $('<h2>');_title.addClass('card-heading simple');_title.text($(event.toElement).text());_title.appendTo(_par);_par.height(80);_par.width(180);return _par;}},
+              dragged: function(widget){widgetDraggedAdditionalHandler(widget)}}">
+        </div>
+      </div>
+    </div>
+  </div>
+</script>
+
+<script type="text/html" id="internal-row-template">
+  <div class="container-fluid">
+    <div class="row-fluid" data-bind="visible: $index() > 0 && $root.isEditing() && ! $root.isRowBeforeJoin($data) && ! $root.isRowAfterFork($data)" style="margin-bottom: 10px">
+      <div data-bind="css: {'span1': true, 'offset3andhalf': ($root.isEditing() && $parents.length <= 2 && columns().length == 0), 'offset4': (!$root.isEditing() && $parents.length <= 2 && columns().length == 0), 'readonly': ! $root.isEditing()}"></div>
+      <div data-bind="css: {'span10': ($parents.length > 2 || columns().length > 0), 'span4': ($parents.length <= 2 && columns().length == 0), 'offset3andhalf': (!$root.isEditing() && $parents.length <= 2 && columns().length == 0), 'readonly': ! $root.isEditing()}">
+        <div data-bind="visible: $root.isEditing() && ! enableOozieDropOnBefore(), css: {'drop-target drop-target-disabled': true, 'drop-target-dragging': $root.isDragging(), 'is-editing': $root.isEditing}"></div>
+        <div style="text-align: left" data-bind="visible: $root.isEditing() && enableOozieDropOnBefore(), css: {'drop-target': true, 'drop-target-dragging': $root.isDragging(), 'is-editing': $root.isEditing}, droppable: {enabled: $root.isEditing, onDrop: function(){ var _w = $root.addDraggedWidget($data); widgetDraggedAdditionalHandler(_w); } }"></div>
+      </div>
+      <div data-bind="css: {'span1': true, 'readonly': ! $root.isEditing()}"></div>
+    </div>
+    <div class="row-fluid" data-bind="style: {'width': columns().length < 5 ? '100%' : (columns().length * 25)+'%' }">
+      <div data-bind="css: {'span1': true, 'offset3andhalf': ($root.isEditing() && $parents.length <= 2 && columns().length == 0), 'offset4': (!$root.isEditing() && $parents.length <= 2 && columns().length == 0), 'readonly': ! $root.isEditing()}">
+        <div data-bind="visible: $root.isEditing() && enableOozieDropOnSide() && !($data.widgets().length > 0 && ['join-widget', 'decision-widget'].indexOf($data.widgets()[0].widgetType()) > -1), css: {'drop-target drop-target-side': true, 'drop-target-dragging': $root.isDragging(), 'is-editing': $root.isEditing}, droppable: {enabled: $root.isEditing, onDrop: function(){ var _w = $root.addSideDraggedWidget($data, true); widgetDraggedAdditionalHandler(_w); } }"></div>
+      </div>
+      <div  data-bind="css: {'span10': ($parents.length > 2 || columns().length > 0), 'span4': ($parents.length <= 2 && columns().length == 0), 'offset3andhalf': (!$root.isEditing() && $parents.length <= 2 && columns().length == 0), 'readonly': ! $root.isEditing()}">
+        <div data-bind="visible: columns().length == 0, css: {'row-fluid': true, 'row-container':true, 'is-editing': $root.isEditing},
+          sortable: { template: 'widget-template', data: widgets, allowDrop: enableOozieDrop, isEnabled: enableOozieDrop,
+          options: {'opacity': 0.7, 'placeholder': 'row-highlight', 'greedy': true,
+              'stop': function(event, ui){},
+              'helper': function(event){lastWindowScrollPosition = $(window).scrollTop();  var _par = $('<div>');_par.addClass('card card-widget');var _title = $('<h2>');_title.addClass('card-heading simple');_title.text($(event.toElement).text());_title.appendTo(_par);_par.height(80);_par.width(180);return _par;}},
+              dragged: function(widget){widgetDraggedAdditionalHandler(widget)}}">
+        </div>
+        <div class="container-fluid" data-bind="visible: columns().length > 0">
+          <div data-bind="css: {'row-fluid': true, 'row-container':true, 'is-editing': $root.isEditing}">
+            <div data-bind="template: { name: 'internal-column-template', foreach: columns}">
+            </div>
+          </div>
+        </div>
+      </div>
+      <div  data-bind="css: {'span1': true, 'readonly no-margin': ! $root.isEditing()}, style: {'margin': ! $root.isEditing() ? '0':''}">
+        <div data-bind="visible: $root.isEditing() && enableOozieDropOnSide() && !($data.widgets().length > 0 && ['join-widget', 'decision-widget'].indexOf($data.widgets()[0].widgetType()) > -1), css: {'drop-target drop-target-side': true, 'drop-target-dragging': $root.isDragging(), 'is-editing': $root.isEditing}, droppable: {enabled: $root.isEditing, onDrop: function(){ var _w = $root.addSideDraggedWidget($data, false); widgetDraggedAdditionalHandler(_w); } }"></div>
+      </div>
+    </div>
+  </div>
+
+</script>
+
+<script type="text/html" id="widget-template">
+  <div data-bind="attr: {'id': 'wdg_'+ id(),}, css: klass() + (ooziePropertiesExpanded()?' expanded-widget':''),
+      draggable: {data: $data, isEnabled: true, options: {'handle': '.move-widget', 'opacity': 0.7, 'refreshPositions': true, 'start': function(event, ui){ $root.setCurrentlyDraggedWidget($data, event.toElement); $root.isDragging(true); }, 'stop': function(event, ui){ $root.enableSideDrop($data); $root.isDragging(false); }, 'helper': function(event){lastWindowScrollPosition = $(window).scrollTop();  var _par = $('<div>');_par.addClass('card card-widget');var _title = $('<h2>');_title.addClass('card-heading simple');_title.text($(event.currentTarget).find('h2').text());_title.appendTo(_par);_par.css('minHeight', '10px');_par.width(120);return _par;}}}">
+    <h2 class="card-heading simple" data-bind="visible: widgetType() != 'start-widget' && widgetType() != 'end-widget' &&
+        id() != '17c9c895-5a16-7443-bb81-f34b30b21548' && (['fork-widget', 'join-widget', 'decision-widget'].indexOf(widgetType()) == -1 || $root.isEditing())">
+
+      <span data-bind="visible: $root.isEditing() && oozieMovable() && ! oozieExpanded() && ! ooziePropertiesExpanded() && ($root.newAction() == null || $root.newAction().id() != id())">
+        <a href="javascript:void(0)" class="move-widget" title="${ _('Move node') }"><i class="fa fa-arrows"></i></a>
+        &nbsp;
+        <a href="javascript:void(0)" class="move-widget clone-widget" title="${ _('Copy node') }"><i class="fa fa-copy"></i></a>
+        &nbsp;
+      </span>
+
+      <!-- ko if: widgetType() == 'hive-widget' -->
+      <img src="/oozie/static/art/icon_beeswax_48.png" class="widget-icon">
+      <!-- /ko -->
+
+      <!-- ko if: widgetType() == 'hive2-widget' -->
+      <img src="/oozie/static/art/icon_beeswax_48.png" class="widget-icon"><sup style="color: #338bb8; margin-left: -4px">2</sup>
+      <!-- /ko -->
+
+      <!-- ko if: widgetType() == 'pig-widget' -->
+      <img src="/oozie/static/art/icon_pig_48.png" class="widget-icon">
+      <!-- /ko -->
+
+      <!-- ko if: widgetType() == 'java-widget' -->
+      <a class="widget-icon"><i class="fa fa-file-code-o"></i></a>
+      <!-- /ko -->
+
+      <!-- ko if: widgetType() == 'sqoop-widget' -->
+      <img src="/oozie/static/art/icon_sqoop_48.png" class="widget-icon">
+      <!-- /ko -->
+
+      <!-- ko if: widgetType() == 'mapreduce-widget' -->
+      <a class="widget-icon"><i class="fa fa-file-archive-o"></i></a>
+      <!-- /ko -->
+
+      <!-- ko if: widgetType() == 'subworkflow-widget' -->
+      <a class="widget-icon"><i class="fa fa-code-fork"></i></a>
+      <!-- /ko -->
+
+      <!-- ko if: widgetType() == 'shell-widget' -->
+      <a class="widget-icon"><i class="fa fa-terminal"></i></a>
+      <!-- /ko -->
+
+      <!-- ko if: widgetType() == 'ssh-widget' -->
+      <a class="widget-icon"><i class="fa fa-tty"></i></a>
+      <!-- /ko -->
+
+      <!-- ko if: widgetType() == 'fs-widget' -->
+      <a class="widget-icon"><i class="fa fa-file-o"></i></a>
+      <!-- /ko -->
+
+      <!-- ko if: widgetType() == 'email-widget' -->
+      <a class="widget-icon"><i class="fa fa-envelope-o"></i></a>
+      <!-- /ko -->
+
+      <!-- ko if: widgetType() == 'streaming-widget' -->
+      <a class="widget-icon"><i class="fa fa-exchange"></i></a>
+      <!-- /ko -->
+
+      <!-- ko if: widgetType() == 'distcp-widget' -->
+      <a class="widget-icon"><i class="fa fa-files-o"></i></a>
+      <!-- /ko -->
+
+      <!-- ko if: widgetType() == 'kill-widget' -->
+      <a class="widget-icon"><i class="fa fa-stop"></i></a>
+      <!-- /ko -->
+
+      <span data-bind="editable: name, editableOptions: {enabled: $root.isEditing(), placement: 'right'}, attr: {'title': id().slice(0, 4)}"></span>
+
+      <!-- ko if: widgetType() == 'decision-widget' -->
+        <div class="inline pull-right" data-bind="visible: $root.isEditing() && $root.workflow.getNodeById(id()) && $root.workflow.getNodeById(id()).children().length <= 1 && ! oozieExpanded() && ! ooziePropertiesExpanded()">
+          <a href="javascript:void(0)" data-bind="click: function(w){addActionDemiModalFieldCancel();$root.removeWidget(w);}"><i class="fa fa-times"></i></a>
+        </div>
+      <!-- /ko -->
+      <!-- ko if: widgetType() != 'decision-widget' -->
+        <div class="inline pull-right" data-bind="visible: $root.isEditing() && (['start-widget', 'end-widget', 'fork-widget', 'join-widget'].indexOf(widgetType()) == -1) && ! oozieExpanded() && ! ooziePropertiesExpanded()">
+          <a href="javascript:void(0)" data-bind="click: function(w){addActionDemiModalFieldCancel();$root.removeWidget(w);}"><i class="fa fa-times"></i></a>
+        </div>
+      <!-- /ko -->
+      <!-- ko if: ooziePropertiesExpanded() -->
+        <div class="inline pull-right">
+          <a href="javascript:void(0)" data-bind="click: toggleProperties"><i class="fa fa-caret-square-o-left"></i></a>
+        </div>
+      <!-- /ko -->
+    </h2>
+    <div class="card-body" style="padding: 0; position: relative">
+      <div class="advanced-triangle-container" data-bind="visible: $root.isEditing() && ! ooziePropertiesExpanded() && oozieMovable(), click: toggleProperties">
+        <div class="advanced-triangle">
+          <a href="javascript:void(0)"><i class="fa fa-cogs"></i></a>
+        </div>
+      </div>
+      <!-- ko if: id() == '17c9c895-5a16-7443-bb81-f34b30b21548' && ooziePropertiesExpanded() -->
+      <div class="advanced-triangle-container" data-bind="visible: $root.isEditing(), click: toggleProperties">
+        <div class="advanced-triangle">
+          <a href="javascript:void(0)"><i class="fa fa-caret-square-o-left"></i></a>
+        </div>
+      </div>
+      <!-- /ko -->
+      <div data-bind="template: { name: function() { return widgetType(); }}" class="widget-main-section"></div>
+    </div>
+  </div>
+</script>
+
+
+<script type="text/html" id="fork-widget">
+  <!-- ko if: $root.workflow.getNodeById(id()) -->
+  <div class="row-fluid" data-bind="with: $root.workflow.getNodeById(id())" style="min-height: 40px">
+    <div class="big-icon"><i class="fa fa-sitemap"></i></div>
+    <div data-bind="visible: $root.isEditing" style="padding-left: 10px; padding-bottom: 10px">
+      <a class="pointer" data-bind="click: function() { $root.convertToDecision($parent, $data) }">${_('Convert to Decision')} <i class="fa fa-wrench"></i></a>
+    </div>
+  </div>
+  <!-- /ko -->
+</script>
+
+
+<script type="text/html" id="join-widget">
+  <!-- ko if: $root.workflow.getNodeById(id()) -->
+  <div class="row-fluid" data-bind="with: $root.workflow.getNodeById(id())" style="min-height: 40px">
+    <div class="big-icon"><i class="fa fa-sitemap fa-rotate-180"></i></div>
+  </div>
+  <!-- /ko -->
+</script>
+
+
+<script type="text/html" id="decision-widget">
+  <!-- ko if: $root.workflow.getNodeById(id()) -->
+  <div class="row-fluid" data-bind="with: $root.workflow.getNodeById(id())" style="min-height: 40px">
+    <div class="big-icon" data-bind="visible: ! $root.isEditing()"><i class="fa fa-magic"></i></div>
+
+    <div data-bind="visible: $root.isEditing" style="padding: 10px">
+      <a class="custom-popover pull-right" href="javascript:void(0)" target="_blank" data-trigger="click" data-toggle="popover" data-placement="right" rel="popover" 
+        data-html="true" data-content="<strong>${ _('Examples of predicates:') }</strong><br/>
+                <br/>${'${'} fs:fileSize(secondjobOutputDir) gt 10 * GB }
+                <br/>
+                ${"${"} hadoop:counters('secondjob')[RECORDS][REDUCE_OUT] lt 1000000 }
+                <br/>
+                <a href='http://oozie.apache.org/docs/4.1.0/WorkflowFunctionalSpec.html#a4.2_Expression_Language_Functions'>${ _('Click for more') }</a>">
+          <i class="fa fa-question-circle" title="${ _('Click for more info') }"></i>
+      </a>    
+      <ul data-bind="foreach: children" class="unstyled">
+        <li>
+          ${ _('If') } <input type="text" data-bind="value: $data['condition']" />
+          ${ _('go to') }
+          <select data-bind="options: $root.workflow.nodeIds,
+                     optionsText: function(item) {return $root.workflow.nodeNamesMapping()[item]; },
+                     value: $data['to']
+                     ">
+          </select>
+          <a class="pointer" data-bind="click: function(){ $parent.children.remove(this);}">
+            <i class="fa fa-minus"></i>
+          </a>
+        </li>
+      </ul>
+      <a class="pointer" data-bind="click: function(){ children.push({'to': '', 'condition': '${'${'} 1 gt 0 }'});}">
+        ${ _('Jump to another node') } <i class="fa fa-plus"></i>
+      </a>
+    </div>
+  </div>
+  <!-- /ko -->
+</script>
+
+
+<script type="text/html" id="kill-widget">
+  <!-- ko if: $root.workflow.getNodeById(id()) -->
+  <div class="row-fluid" data-bind="with: $root.workflow.getNodeById(id())" style="min-height: 40px">
+    <div class="big-icon" data-bind="visible: id() == '17c9c895-5a16-7443-bb81-f34b30b21548'" title="${ _('It is where we finish if failure!') }"><i class="fa fa-stop"></i></div>
+
+    <div data-bind="visible: $root.isEditing">
+      <div data-bind="visible: $parent.ooziePropertiesExpanded">
+        <h6 class="field-title">${ _('Message') }</h6>
+        <textarea class="span12" data-bind="value: properties.message" />
+      </div>
+    </div>
+  </div>
+  <!-- /ko -->
+</script>
+
+
+<script type="text/html" id="start-widget">
+  <!-- ko if: $root.workflow.getNodeById(id()) -->
+  <div class="row-fluid" data-bind="with: $root.workflow.getNodeById(id())" style="min-height: 40px;">
+    <div class="big-icon" title="${ _('It is where we start!') }"><i class="fa fa-flag-checkered"></i></div>
+  </div>
+  <!-- /ko -->
+</script>
+
+
+<script type="text/html" id="end-widget">
+  <!-- ko if: $root.workflow.getNodeById(id()) -->
+  <div class="row-fluid" data-bind="with: $root.workflow.getNodeById(id())" style="min-height: 40px">
+    <div class="big-icon" title="${ _('It is where we successfully finish!') }"><i class="fa fa-dot-circle-o"></i></div>
+  </div>
+  <!-- /ko -->
+</script>
+
+
+<script type="text/html" id="common-action-properties">
+  <div class="properties">
+    <h6>${ _('Prepare') }</h6>
+    <ul data-bind="visible: properties.prepares().length > 0, foreach: properties.prepares" class="unstyled">
+      <li>
+        <div style="display: inline-block; width: 60px" data-bind="text: type"></div>
+        <input type="text" class="filechooser-input input-xlarge"
+            data-bind="filechooser: value, filechooserOptions: globalFilechooserOptions, value: value, attr: { placeholder: $root.workflow_properties.prepares.help_text }"/>
+        <a href="#" data-bind="click: function(){ $parent.properties.prepares.remove(this); $(document).trigger('drawArrows') }">
+          <i class="fa fa-minus"></i>
+        </a>
+      </li>
+    </ul>
+    <a class="pointer" data-bind="click: function(){ properties.prepares.push({'type': 'mkdir', 'value': ''}); $(document).trigger('drawArrows') }">
+      ${ _('Directory') } <i class="fa fa-plus"></i>
+    </a>
+    <a class="pointer" data-bind="click: function(){ properties.prepares.push({'type': 'delete', 'value': ''}); $(document).trigger('drawArrows') }">
+      ${ _('Delete') } <i class="fa fa-plus"></i>
+    </a>
+
+    <!-- ko if: properties.job_xml -->
+      <h6>${ _('Job XML') }</h6>
+      <input type="text" class="input-xlarge filechooser-input" data-bind="filechooser: properties.job_xml, filechooserOptions: globalFilechooserOptions, attr: { placeholder: $root.workflow_properties.job_xml.help_text }"/>
+    <!-- /ko -->
+
+    <h6>
+      <a class="pointer" data-bind="click: function(){ properties.job_properties.push({'name': '', 'value': ''}); $(document).trigger('drawArrows') }">
+        ${ _('Properties') } <i class="fa fa-plus"></i>
+      </a>
+    </h6>
+    <ul data-bind="visible: properties.job_properties().length > 0, foreach: properties.job_properties" class="unstyled">
+      <li>
+        <input type="text" data-bind="value: name" placeholder="${ _('name, e.g. mapred.job.queue.name') }"/>
+        <input type="text" class="filechooser-input input-xlarge" data-bind="filechooser: value, filechooserOptions: globalFilechooserOptions, value: value, attr: { placeholder: $root.workflow_properties.job_properties.help_text }"/>
+        <a href="#" data-bind="click: function(){ $parent.properties.job_properties.remove(this); $(document).trigger('drawArrows') }">
+          <i class="fa fa-minus"></i>
+        </a>
+      </li>
+    </ul>
+    <em data-bind="visible: properties.job_properties().length == 0">${ _('No properties defined.') }</em>
+
+    <h6>
+      <a class="pointer" data-bind="click: function(){ properties.archives.push(ko.mapping.fromJS({'name': ''})); $(document).trigger('drawArrows') }">
+        ${ _('Archives') } <i class="fa fa-plus"></i>
+      </a>
+    </h6>
+    <ul data-bind="visible: properties.archives().length > 0, foreach: properties.archives" class="unstyled">
+      <li>
+        <input type="text" class="filechooser-input input-xlarge" data-bind="filechooser: name(), filechooserFilter: 'zip,tar,tgz,tar.gz', filechooserOptions: globalFilechooserOptions, value: name, attr: { placeholder: $root.workflow_properties.archives.help_text }"/>
+        <span data-bind='template: { name: "common-fs-link", data: { path: name(), with_label: false} }'></span>
+        <a href="#" data-bind="click: function(){ $parent.properties.archives.remove(this); $(document).trigger('drawArrows') }">
+          <i class="fa fa-minus"></i>
+        </a>
+      </li>
+    </ul>
+    <em data-bind="visible: properties.archives().length == 0">${ _('No archives defined.') }</em>
+  </div>
+</script>
+
+
+<script type="text/html" id="common-properties-pig-arguments">
+  <h6>
+    <a class="pointer" data-bind="click: function(){ properties.arguments.push({'value': ''}); $(document).trigger('drawArrows') }">
+      ${ _('Arguments') } <i class="fa fa-plus"></i>
+    </a>
+  </h6>
+  <ul class="unstyled" data-bind="visible: properties.arguments().length > 0, foreach: properties.arguments">
+    <li>
+      <input type="text" class="input-medium" data-bind="value: value, attr: { placeholder: $root.workflow_properties.arguments.help_text }"/>
+      <a href="#" data-bind="click: function(){ $parent.properties.arguments.remove(this); $(document).trigger('drawArrows') }">
+        <i class="fa fa-minus"></i>
+      </a>
+    </li>
+  </ul>
+  <em data-bind="visible: properties.arguments().length == 0">${ _('No arguments defined.') }</em>
+</script>
+
+
+<script type="text/html" id="common-properties-arguments">
+  <h6>
+    <a class="pointer" data-bind="click: function(){ properties.arguments.push({'value': ''}); $(document).trigger('drawArrows') }">
+      ${ _('Arguments') } <i class="fa fa-plus"></i>
+    </a>
+  </h6>
+  <ul class="unstyled" data-bind="visible: properties.arguments().length > 0, foreach: properties.arguments">
+    <li style="margin-bottom: 3px">
+      <input type="text" class="span11" data-bind="value: value, attr: { placeholder: $root.workflow_properties.arguments.help_text }"/>
+      <a href="#" data-bind="click: function(){ $parent.properties.arguments.remove(this); $(document).trigger('drawArrows') }">
+        <i class="fa fa-minus"></i>
+      </a>
+    </li>
+  </ul>
+</script>
+
+
+<script type="text/html" id="common-properties-files">
+  <h6>
+    <a class="pointer" data-bind="click: function(){ properties.files.push(ko.mapping.fromJS({'value': ''})); $(document).trigger('drawArrows') }">
+      ${ _('Files') } <i class="fa fa-plus"></i>
+    </a>
+  </h6>
+  <ul class="unstyled" data-bind="foreach: properties.files">
+    <li style="margin-bottom: 3px">
+      <input type="text" class="filechooser-input" data-bind="filechooser: value, filechooserOptions: globalFilechooserOptions"/>
+      <span data-bind='template: { name: "common-fs-link", data: { path: value(), with_label: false} }'></span>
+      <a href="#" data-bind="click: function(){ $parent.properties.files.remove(this); $(document).trigger('drawArrows') }">
+        <i class="fa fa-minus"></i>
+      </a>
+    </li>
+  </ul>
+</script>
+
+
+<script type="text/html" id="common-properties-parameters">
+  <h6>
+    <a class="pointer" data-bind="click: function(){ properties.parameters.push(ko.mapping.fromJS({'value': ''})); $(document).trigger('drawArrows')}">
+      ${ _('Parameters') } <i class="fa fa-plus"></i>
+    </a>
+  </h6>
+  <ul class="unstyled" data-bind="foreach: properties.parameters">
+    <li style="margin-bottom: 3px">
+      <input type="text" class="filechooser-input seventy" data-bind="value: value, filechooser: value, filechooserOptions: globalFilechooserOptions, filechooserPrefixSeparator: '=', attr: { placeholder: ' ${ _("Fill me up!") }' }, typeahead: { target: value, source: $parent.actionParametersUI, sourceSuffix: '=', triggerOnFocus: true }"/>
+      <span data-bind='template: { name: "param-fs-link", data: {path: value()} }'></span>
+      <a href="#" data-bind="click: function(){ $parent.properties.parameters.remove(this); $(document).trigger('drawArrows') }">
+        <i class="fa fa-minus"></i>
+      </a>
+    </li>
+  </ul>
+</script>
+
+
+<script type="text/html" id="common-action-transition">
+  <!-- ko if: children().length == 2 -->
+  OK -->
+  <select data-bind="options: $root.workflow.nodeIds,
+      optionsText: function(item) {return $root.workflow.nodeNamesMapping()[item]; },
+      value: children()[0]['to']
+      ">
+  </select>
+  <br/>
+  KO -->
+  <select data-bind="options: $root.workflow.nodeIds,
+     optionsText: function(item) {return $root.workflow.nodeNamesMapping()[item]; },
+	 value: children()[1]['error']
+     ">
+  </select>
+  <!-- /ko -->
+</script>
+
+
+<script type="text/html" id="common-action-credentials">
+  <em data-bind="visible: $root.credentials() == null || $root.credentials().length == 0">${ _('No available credentials.') }</em>
+  <select data-bind="visible: $root.credentials() != null && $root.credentials().length > 0, options: $root.credentials, value: properties.credentials" size="5" multiple="true"></select>
+</script>
+
+
+<script type="text/html" id="common-action-sla">
+  <div data-bind="with: properties">
+     ${ utils.slaForm() }
+  </div>
+</script>
+
+
+<script type="text/html" id="common-fs-link">
+<!-- ko if: $data.path.length > 0 -->
+  <!-- ko if: with_label -->
+    <a data-bind="attr: {href: '/filebrowser/view' + ($data.path.indexOf('/') == -1 ? $root.workflow.properties.deployment_dir() + '/' : '') + $data.path , title: '${ _('Open') } '+ $data.path }" target="_blank">
+      <pan data-bind="text: $data.path.split('/').pop()"></span>
+    </a>
+  <!-- /ko -->
+
+   <!-- ko if: ! with_label -->
+     <a data-bind="attr: {href: '/filebrowser/view' + ($data.path.indexOf('/') == -1 ? $root.workflow.properties.deployment_dir() + '/' : '') + $data.path }" target="_blank" title="${ _('Open') }">
+       <i class="fa fa-external-link-square"></i>
+     </a>
+   <!-- /ko -->
+ <!-- /ko -->
+</script>
+
+
+<script type="text/html" id="param-fs-link">
+  <!-- ko if: path.split('=', 2)[1] && path.split('=', 2)[1].charAt(0) == '/' -->
+    <a data-bind="attr: {href: '/filebrowser/view' + $data.path.split('=', 2)[1] }" target="_blank" title="${ _('Open') }">
+      <i class="fa fa-external-link-square"></i>
+    </a>
+  <!-- /ko -->
+</script>
+
+
+
+<script type="text/html" id="hive-widget">
+  <!-- ko if: $root.workflow.getNodeById(id()) -->
+  <div class="row-fluid" data-bind="with: $root.workflow.getNodeById(id())" style="padding: 10px">
+
+    <div data-bind="visible: ! $root.isEditing()">
+      <span data-bind='template: { name: "common-fs-link", data: {path: properties.script_path(), with_label: true} }'></span>
+    </div>
+
+    <div data-bind="visible: $root.isEditing">
+      <div data-bind="visible: ! $parent.ooziePropertiesExpanded()" class="nowrap">
+        <input type="text" style="width:25%" class="filechooser-input" data-bind="filechooser: properties.script_path, filechooserOptions: globalFilechooserOptions, attr: { placeholder:  $root.workflow_properties.script_path.help_text }"/>
+        <span data-bind='template: { name: "common-fs-link", data: {path: properties.script_path(), with_label: false}}'></span>
+
+        &nbsp;&nbsp;
+
+        <span data-bind="text: $root.workflow_properties.hive_xml.label"></span>      
+        <input type="text" style="width:25%" class="input-large filechooser-input" data-bind="filechooser: properties.hive_xml, filechooserOptions: globalFilechooserOptions, attr: { placeholder: $root.workflow_properties.hive_xml.help_text }"/>
+
+        <div class="row-fluid">
+          <div class="span6" data-bind="template: { name: 'common-properties-parameters' }"></div>
+          <div class="span6" data-bind="template: { name: 'common-properties-files' }"></div>
+        </div>
+      </div>
+    </div>
+
+    <div data-bind="visible: $parent.ooziePropertiesExpanded">
+      <ul class="nav nav-tabs">
+        <li class="active"><a data-bind="attr: { href: '#properties-' + id()}" data-toggle="tab">${ _('Properties') }</a></li>
+        <li><a data-bind="attr: { href: '#sla-' + id()}" href="#sla" data-toggle="tab">${ _('SLA') }</a></li>
+        <li><a data-bind="attr: { href: '#credentials-' + id()}" data-toggle="tab">${ _('Credentials') }</a></li>
+        <li><a data-bind="attr: { href: '#transitions-' + id()}" data-toggle="tab">${ _('Transitions') }</a></li>
+      </ul>
+      <div class="tab-content">
+        <div class="tab-pane active" data-bind="attr: { id: 'properties-' + id() }">
+          <span data-bind="template: { name: 'common-action-properties' }"></span>
+          <br/>
+          <br/>
+        </div>
+
+        <div class="tab-pane" data-bind="attr: { id: 'sla-' + id() }">
+          <span data-bind="template: { name: 'common-action-sla' }"></span>
+        </div>
+
+        <div class="tab-pane" data-bind="attr: { id: 'credentials-' + id() }">
+          <span data-bind="template: { name: 'common-action-credentials' }"></span>
+        </div>
+
+        <div class="tab-pane" data-bind="attr: { id: 'transitions-' + id() }">
+          <span data-bind="template: { name: 'common-action-transition' }"></span>
+        </div>
+      </div>
+    </div>
+  </div>
+  <!-- /ko -->
+</script>
+
+
+<script type="text/html" id="hive2-widget">
+  <!-- ko if: $root.workflow.getNodeById(id()) -->
+  <div class="row-fluid" data-bind="with: $root.workflow.getNodeById(id())" style="padding: 10px">
+
+    <div data-bind="visible: ! $root.isEditing()">
+      <span data-bind='template: { name: "common-fs-link", data: {path: properties.script_path(), with_label: true} }'></span>
+    </div>
+
+    <div data-bind="visible: $root.isEditing">
+      <div data-bind="visible: ! $parent.ooziePropertiesExpanded()" class="nowrap">
+        <input type="text" class="filechooser-input" data-bind="filechooser: properties.script_path, filechooserOptions: globalFilechooserOptions, attr: { placeholder:  $root.workflow_properties.script_path.help_text }"/>
+        <span data-bind='template: { name: "common-fs-link", data: {path: properties.script_path(), with_label: false}}'></span>
+
+        <div class="row-fluid">
+          <div class="span6" data-bind="template: { name: 'common-properties-parameters' }"></div>
+          <div class="span6" data-bind="template: { name: 'common-properties-files' }"></div>
+        </div>
+      </div>
+    </div>
+
+
+    <div data-bind="visible: $parent.ooziePropertiesExpanded">
+      <ul class="nav nav-tabs">
+        <li class="active"><a data-bind="attr: { href: '#properties-' + id()}" data-toggle="tab">${ _('Properties') }</a></li>
+        <li><a data-bind="attr: { href: '#sla-' + id()}" href="#sla" data-toggle="tab">${ _('SLA') }</a></li>
+        <li><a data-bind="attr: { href: '#credentials-' + id()}" data-toggle="tab">${ _('Credentials') }</a></li>
+        <li><a data-bind="attr: { href: '#transitions-' + id()}" data-toggle="tab">${ _('Transitions') }</a></li>
+      </ul>
+      <div class="tab-content">
+        <div class="tab-pane active" data-bind="attr: { id: 'properties-' + id() }">
+          <span data-bind="text: $root.workflow_properties.jdbc_url.label"></span>
+          <input type="text" data-bind="value: properties.jdbc_url" />
+          <br/>
+          <span data-bind="text: $root.workflow_properties.password.label"></span>
+          <input type="text" data-bind="value: properties.password" />
+          <br/>
+          <span data-bind="template: { name: 'common-action-properties' }"></span>
+          <br/>
+          <br/>
+        </div>
+
+        <div class="tab-pane" data-bind="attr: { id: 'sla-' + id() }">
+          <span data-bind="template: { name: 'common-action-sla' }"></span>
+        </div>
+
+        <div class="tab-pane" data-bind="attr: { id: 'credentials-' + id() }">
+          <span data-bind="template: { name: 'common-action-credentials' }"></span>
+        </div>
+
+        <div class="tab-pane" data-bind="attr: { id: 'transitions-' + id() }">
+          <span data-bind="template: { name: 'common-action-transition' }"></span>
+        </div>
+      </div>
+    </div>
+  </div>
+  <!-- /ko -->
+</script>
+
+
+<script type="text/html" id="pig-widget">
+  <!-- ko if: $root.workflow.getNodeById(id()) -->
+  <div class="row-fluid" data-bind="with: $root.workflow.getNodeById(id())" style="padding: 10px">
+
+    <div data-bind="visible: ! $root.isEditing()">
+      <span data-bind='template: { name: "common-fs-link", data: {path: properties.script_path(), with_label: true} }'></span>
+    </div>
+
+    <div data-bind="visible: $root.isEditing">
+      <div data-bind="visible: ! $parent.ooziePropertiesExpanded()" class="nowrap">
+        <input type="text" class="filechooser-input" data-bind="filechooser: properties.script_path, filechooserOptions: globalFilechooserOptions, hdfsAutocomplete: properties.script_path, attr: { placeholder:  $root.workflow_properties.script_path.help_text }" />
+        <span data-bind='template: { name: "common-fs-link", data: {path: properties.script_path(), with_label: false}}'></span>
+
+        <div class="row-fluid">
+          <div class="span6" data-bind="template: { name: 'common-properties-parameters' }"></div>
+          <div class="span6" data-bind="template: { name: 'common-properties-files' }"></div>
+        </div>
+
+      </div>
+    </div>
+
+    <div data-bind="visible: $parent.ooziePropertiesExpanded">
+      <ul class="nav nav-tabs">
+        <li class="active"><a data-bind="attr: { href: '#properties-' + id()}" data-toggle="tab">${ _('Properties') }</a></li>
+        <li><a data-bind="attr: { href: '#sla-' + id()}" href="#sla" data-toggle="tab">${ _('SLA') }</a></li>
+        <li><a data-bind="attr: { href: '#credentials-' + id()}" data-toggle="tab">${ _('Credentials') }</a></li>
+        <li><a data-bind="attr: { href: '#transitions-' + id()}" data-toggle="tab">${ _('Transitions') }</a></li>
+      </ul>
+      <div class="tab-content">
+        <div class="tab-pane active" data-bind="attr: { id: 'properties-' + id() }">
+          <span data-bind="template: { name: 'common-properties-pig-arguments' }"></span>
+          <br/>
+          <span data-bind="template: { name: 'common-action-properties' }"></span>
+        </div>
+
+        <div class="tab-pane" data-bind="attr: { id: 'sla-' + id() }">
+          <span data-bind="template: { name: 'common-action-sla' }"></span>
+        </div>
+
+        <div class="tab-pane" data-bind="attr: { id: 'credentials-' + id() }">
+          <span data-bind="template: { name: 'common-action-credentials' }"></span>
+        </div>
+
+        <div class="tab-pane" data-bind="attr: { id: 'transitions-' + id() }">
+          <span data-bind="template: { name: 'common-action-transition' }"></span>
+        </div>
+      </div>
+    </div>
+  </div>
+  <!-- /ko -->
+</script>
+
+
+<script type="text/html" id="java-widget">
+  <!-- ko if: $root.workflow.getNodeById(id()) -->
+  <div class="row-fluid" data-bind="with: $root.workflow.getNodeById(id())" style="padding: 10px">
+
+    <div data-bind="visible: ! $root.isEditing()">
+      <pan data-bind="text: properties.main_class" />
+    </div>
+
+    <div data-bind="visible: $root.isEditing">
+      <div data-bind="visible: ! $parent.ooziePropertiesExpanded()" class="nowrap">
+        <span data-bind="text: $root.workflow_properties.jar_path.label" style="display: inline-block; width: 75px"></span>
+        <input type="text" class="filechooser-input input-xlarge"
+            data-bind="filechooser: properties.jar_path, filechooserOptions: globalFilechooserOptions, attr: { placeholder: $root.workflow_properties.jar_path.help_text }"
+        />
+        <span data-bind='template: { name: "common-fs-link", data: {path: properties.jar_path(), with_label: false}}'></span>
+
+        <br/>
+        <span data-bind="text: $root.workflow_properties.main_class.label" style="display: inline-block; width: 75px"></span>
+        <input type="text" class="input-xlarge" data-bind="value: properties.main_class, attr: { placeholder: $root.workflow_properties.main_class.help_text }" />
+
+        <div class="row-fluid">
+          <div class="span6" data-bind="template: { name: 'common-properties-arguments' }"></div>
+          <div class="span6" data-bind="template: { name: 'common-properties-files' }"></div>
+        </div>
+
+      </div>
+    </div>
+
+    <div data-bind="visible: $parent.ooziePropertiesExpanded">
+      <ul class="nav nav-tabs">
+        <li class="active"><a data-bind="attr: { href: '#properties-' + id()}" data-toggle="tab">${ _('Properties') }</a></li>
+        <li><a data-bind="attr: { href: '#sla-' + id()}" href="#sla" data-toggle="tab">${ _('SLA') }</a></li>
+        <li><a data-bind="attr: { href: '#credentials-' + id()}" data-toggle="tab">${ _('Credentials') }</a></li>
+        <li><a data-bind="attr: { href: '#transitions-' + id()}" data-toggle="tab">${ _('Transitions') }</a></li>
+      </ul>
+      <div class="tab-content">
+        <div class="tab-pane active" data-bind="attr: { id: 'properties-' + id() }">
+          <h6>
+            <a class="pointer" data-bind="click: function(){ properties.java_opts.push({'value': ''}); }">
+              <span data-bind="text: $root.workflow_properties.java_opts.label"></span> <i class="fa fa-plus"></i>
+            </a>
+          </h6>
+          <ul class="unstyled" data-bind="foreach: properties.java_opts">
+            <li>
+              <input type="text" data-bind="value: value, attr: { placeholder: $root.workflow_properties.java_opts.help_text }" class="input-xlarge"/>
+              <a href="#" data-bind="click: function(){ $parent.properties.java_opts.remove(this); }">
+                <i class="fa fa-minus"></i>
+              </a>
+            </li>
+          </ul>
+
+          <span data-bind="text: $root.workflow_properties.capture_output.label"></span>
+          <input type="checkbox" data-bind="checked: properties.capture_output" />
+          <br/>
+          <br/>
+
+          <span data-bind="template: { name: 'common-action-properties' }"></span>
+          <br/>
+        </div>
+
+        <div class="tab-pane" data-bind="attr: { id: 'sla-' + id() }">
+          <span data-bind="template: { name: 'common-action-sla' }"></span>
+        </div>
+
+        <div class="tab-pane" data-bind="attr: { id: 'credentials-' + id() }">
+          <span data-bind="template: { name: 'common-action-credentials' }"></span>
+        </div>
+
+        <div class="tab-pane" data-bind="attr: { id: 'transitions-' + id() }">
+          <span data-bind="template: { name: 'common-action-transition' }"></span>
+        </div>
+      </div>
+    </div>
+  </div>
+  <!-- /ko -->
+</script>
+
+
+<script type="text/html" id="sqoop-widget">
+  <!-- ko if: $root.workflow.getNodeById(id()) -->
+  <div class="row-fluid" data-bind="with: $root.workflow.getNodeById(id())" style="padding: 10px">
+    <div data-bind="visible: $root.isEditing">
+      <div data-bind="visible: ! $parent.ooziePropertiesExpanded()" class="nowrap">
+        <span data-bind="text: $root.workflow_properties.command.label"></span>
+        <input type="text" data-bind="value: properties.command" />
+
+        <div class="row-fluid">
+          <div class="span6" data-bind="template: { name: 'common-properties-parameters' }"></div>
+          <div class="span6" data-bind="template: { name: 'common-properties-files' }"></div>
+        </div>
+      </div>
+    </div>
+
+    <div data-bind="visible: ! $root.isEditing()">
+      <a href="javascript:void(0)">
+        <span type="text" data-bind="text: properties.command().slice(0, 70), attr: { title: properties.command() }" />...
+      </a>
+    </div>
+
+    <div data-bind="visible: $parent.ooziePropertiesExpanded">
+      <ul class="nav nav-tabs">
+        <li class="active"><a data-bind="attr: { href: '#properties-' + id()}" data-toggle="tab">${ _('Properties') }</a></li>
+        <li><a data-bind="attr: { href: '#sla-' + id()}" href="#sla" data-toggle="tab">${ _('SLA') }</a></li>
+        <li><a data-bind="attr: { href: '#credentials-' + id()}" data-toggle="tab">${ _('Credentials') }</a></li>
+        <li><a data-bind="attr: { href: '#transitions-' + id()}" data-toggle="tab">${ _('Transitions') }</a></li>
+      </ul>
+      <div class="tab-content">
+        <div class="tab-pane active" data-bind="attr: { id: 'properties-' + id() }">
+          <span data-bind="template: { name: 'common-action-properties' }"></span>
+        </div>
+
+        <div class="tab-pane" data-bind="attr: { id: 'sla-' + id() }">
+          <span data-bind="template: { name: 'common-action-sla' }"></span>
+        </div>
+
+        <div class="tab-pane" data-bind="attr: { id: 'credentials-' + id() }">
+          <span data-bind="template: { name: 'common-action-credentials' }"></span>
+        </div>
+
+        <div class="tab-pane" data-bind="attr: { id: 'transitions-' + id() }">
+          <span data-bind="template: { name: 'common-action-transition' }"></span>
+        </div>
+      </div>
+    </div>
+  </div>
+  <!-- /ko -->
+</script>
+
+
+<script type="text/html" id="mapreduce-widget">
+  <!-- ko if: $root.workflow.getNodeById(id()) -->
+  <div class="row-fluid" data-bind="with: $root.workflow.getNodeById(id())" style="padding: 10px">
+    <div data-bind="visible: $root.isEditing">
+      <div data-bind="visible: ! $parent.ooziePropertiesExpanded()" class="nowrap">
+        <span data-bind="text: $root.workflow_properties.jar_path.label"></span>
+        <input type="text" class="filechooser-input" data-bind="filechooser: properties.jar_path, filechooserOptions: globalFilechooserOptions, value: properties.jar_path" />
+        <span data-bind='template: { name: "common-fs-link", data: {path: properties.jar_path(), with_label: false} }'></span>
+
+        <h6>
+          <a class="pointer" data-bind="click: function(){ properties.job_properties.push({'name': '', 'value': ''}); $(document).trigger('drawArrows') }">
+            ${ _('Properties') } <i class="fa fa-plus"></i>
+          </a>
+        </h6>
+        <ul data-bind="visible: properties.job_properties().length > 0, foreach: properties.job_properties" class="unstyled">
+          <li>
+            <input type="text" class="span4" data-bind="value: name" placeholder="${ _('name, e.g. mapred.job.queue.name') }"/>
+            <input type="text" class="filechooser-input" data-bind="filechooser: value, filechooserOptions: globalFilechooserOptions, value: value, attr: { placeholder: $root.workflow_properties.job_properties.help_text }"/>
+            <a href="#" data-bind="click: function(){ $parent.properties.job_properties.remove(this); $(document).trigger('drawArrows') }">
+              <i class="fa fa-minus"></i>
+            </a>
+          </li>
+        </ul>
+        
+        <div class="span12" data-bind="template: { name: 'common-properties-files' }"></div>
+      </div>
+    </div>
+
+    <div data-bind="visible: ! $root.isEditing()">
+      <span data-bind='template: { name: "common-fs-link", data: {path: properties.jar_path(), with_label: true} }'></span>
+    </div>
+
+    <div data-bind="visible: $parent.ooziePropertiesExpanded">
+      <ul class="nav nav-tabs">
+        <li class="active"><a data-bind="attr: { href: '#properties-' + id()}" data-toggle="tab">${ _('Properties') }</a></li>
+        <li><a data-bind="attr: { href: '#sla-' + id()}" href="#sla" data-toggle="tab">${ _('SLA') }</a></li>
+        <li><a data-bind="attr: { href: '#credentials-' + id()}" data-toggle="tab">${ _('Credentials') }</a></li>
+        <li><a data-bind="attr: { href: '#transitions-' + id()}" data-toggle="tab">${ _('Transitions') }</a></li>
+      </ul>
+      <div class="tab-content">
+        <div class="tab-pane active" data-bind="attr: { id: 'properties-' + id() }">
+		  <div class="properties">
+		    <h6>${ _('Prepare') }</h6>
+		    <ul data-bind="visible: properties.prepares().length > 0, foreach: properties.prepares" class="unstyled">
+		      <li>
+		        <div style="display: inline-block; width: 60px" data-bind="text: type"></div>
+		        <input type="text" class="filechooser-input input-xlarge"
+		            data-bind="filechooser: value, filechooserOptions: globalFilechooserOptions, value: value, attr: { placeholder: $root.workflow_properties.prepares.help_text }"/>
+		        <a href="#" data-bind="click: function(){ $parent.properties.prepares.remove(this); $(document).trigger('drawArrows') }">
+		          <i class="fa fa-minus"></i>
+		        </a>
+		      </li>
+		    </ul>
+		    <a class="pointer" data-bind="click: function(){ properties.prepares.push({'type': 'mkdir', 'value': ''}); $(document).trigger('drawArrows') }">
+		      ${ _('Directory') } <i class="fa fa-plus"></i>
+		    </a>
+		    <a class="pointer" data-bind="click: function(){ properties.prepares.push({'type': 'delete', 'value': ''}); $(document).trigger('drawArrows') }">
+		      ${ _('Delete') } <i class="fa fa-plus"></i>
+		    </a>
+		
+		    <!-- ko if: properties.job_xml -->
+		      <h6>${ _('Job XML') }</h6>
+		      <input type="text" class="input-xlarge filechooser-input" data-bind="filechooser: properties.job_xml, filechooserOptions: globalFilechooserOptions, attr: { placeholder: $root.workflow_properties.job_xml.help_text }"/>
+		    <!-- /ko -->
+		
+		    <h6>
+		      <a class="pointer" data-bind="click: function(){ properties.archives.push(ko.mapping.fromJS({'name': ''})); $(document).trigger('drawArrows') }">
+		        ${ _('Archives') } <i class="fa fa-plus"></i>
+		      </a>
+		    </h6>
+		    <ul data-bind="visible: properties.archives().length > 0, foreach: properties.archives" class="unstyled">
+		      <li>
+		        <input type="text" class="filechooser-input input-xlarge" data-bind="filechooser: name(), filechooserFilter: 'zip,tar,tgz,tar.gz', filechooserOptions: globalFilechooserOptions, value: name, attr: { placeholder: $root.workflow_properties.archives.help_text }"/>
+		        <span data-bind='template: { name: "common-fs-link", data: { path: name(), with_label: false} }'></span>
+		        <a href="#" data-bind="click: function(){ $parent.properties.archives.remove(this); $(document).trigger('drawArrows') }">
+		          <i class="fa fa-minus"></i>
+		        </a>
+		      </li>
+		    </ul>
+		    <em data-bind="visible: properties.archives().length == 0">${ _('No archives defined.') }</em>
+		  </div>
+        </div>
+
+        <div class="tab-pane" data-bind="attr: { id: 'sla-' + id() }">
+          <span data-bind="template: { name: 'common-action-sla' }"></span>
+        </div>
+
+        <div class="tab-pane" data-bind="attr: { id: 'credentials-' + id() }">
+          <span data-bind="template: { name: 'common-action-credentials' }"></span>
+        </div>
+
+        <div class="tab-pane" data-bind="attr: { id: 'transitions-' + id() }">
+          <span data-bind="template: { name: 'common-action-transition' }"></span>
+        </div>
+      </div>
+    </div>
+  </div>
+  <!-- /ko -->
+</script>
+
+
+<script type="text/html" id="subworkflow-widget">
+  <!-- ko if: $root.workflow.getNodeById(id()) -->
+  <div class="row-fluid" data-bind="with: $root.workflow.getNodeById(id())" style="padding: 10px">
+    <div data-bind="visible: $root.isEditing">
+      <div data-bind="visible: ! $parent.ooziePropertiesExpanded()" class="nowrap">
+        <select data-bind="options: $root.subworfklows, optionsText: 'name', optionsValue: 'value', value: properties.workflow"></select>
+        <span data-bind="visible: properties.workflow().length > 0">
+          <a href="#" data-bind="attr: { href: '${ url('oozie:edit_workflow') }' + '?workflow=' + properties.workflow() }" target="_blank" title="${ _('Open') }">
+            <i class="fa fa-external-link-square"></i>
+          </a>
+        </span>
+      </div>
+    </div>
+
+    <div data-bind="visible: ! $root.isEditing()">
+      <!-- ko if: $root.getSubWorkflow(properties.workflow()) -->
+        <span data-bind="with: $root.getSubWorkflow(properties.workflow())">
+          <a href="#" data-bind="attr: { href: '${ url('oozie:edit_workflow') }' + '?workflow=' + $data.value() }" target="_blank" title="${ _('Open') }">
+            <span data-bind="text: $data.name"></span>
+          </a>
+        </span>
+      <!-- /ko -->
+    </div>
+
+    <div data-bind="visible: $parent.ooziePropertiesExpanded">
+      <ul class="nav nav-tabs">
+        <li class="active"><a data-bind="attr: { href: '#properties-' + id()}" data-toggle="tab">${ _('Properties') }</a></li>
+        <li><a data-bind="attr: { href: '#sla-' + id()}" href="#sla" data-toggle="tab">${ _('SLA') }</a></li>
+        <li><a data-bind="attr: { href: '#credentials-' + id()}" data-toggle="tab">${ _('Credentials') }</a></li>
+        <li><a data-bind="attr: { href: '#transitions-' + id()}" data-toggle="tab">${ _('Transitions') }</a></li>
+      </ul>
+      <div class="tab-content">
+        <div class="tab-pane active" data-bind="attr: { id: 'properties-' + id() }">
+          <span data-bind="text: $root.workflow_properties.propagate_configuration.label"></span>
+          <input type="checkbox" data-bind="checked: properties.propagate_configuration" />
+
+          <br/>
+
+          <h6>
+            <a class="pointer" data-bind="click: function(){ properties.job_properties.push({'name': '', 'value': ''}); $(document).trigger('drawArrows') }">
+              ${ _('Properties') } <i class="fa fa-plus"></i>
+            </a>
+          </h6>
+          <ul data-bind="visible: properties.job_properties().length > 0, foreach: properties.job_properties" class="unstyled">
+            <li>
+              <input type="text" data-bind="value: name"/>
+              <input type="text" data-bind="value: value"/>
+              <a href="#" data-bind="click: function(){ $parent.properties.job_properties.remove(this); $(document).trigger('drawArrows') }">
+                <i class="fa fa-minus"></i>
+              </a>
+            </li>
+          </ul>
+          <em data-bind="visible: properties.job_properties().length == 0">${ _('No properties defined.') }</em>
+
+        </div>
+
+        <div class="tab-pane" data-bind="attr: { id: 'sla-' + id() }">
+          <span data-bind="template: { name: 'common-action-sla' }"></span>
+        </div>
+
+        <div class="tab-pane" data-bind="attr: { id: 'credentials-' + id() }">
+          <span data-bind="template: { name: 'common-action-credentials' }"></span>
+        </div>
+
+        <div class="tab-pane" data-bind="attr: { id: 'transitions-' + id() }">
+          <span data-bind="template: { name: 'common-action-transition' }"></span>
+        </div>
+      </div>
+    </div>
+  </div>
+  <!-- /ko -->
+</script>
+
+
+<script type="text/html" id="shell-widget">
+  <!-- ko if: $root.workflow.getNodeById(id()) -->
+  <div class="row-fluid" data-bind="with: $root.workflow.getNodeById(id())" style="padding: 10px">
+    <div data-bind="visible: $root.isEditing">
+      <div data-bind="visible: ! $parent.ooziePropertiesExpanded()" class="nowrap">
+        <input type="text" data-bind="value: properties.shell_command" />
+        <span data-bind='template: { name: "common-fs-link", data: {path: properties.shell_command(), with_label: false} }'></span>
+
+        <div class="row-fluid">
+          <div class="span6" data-bind="template: { name: 'common-properties-arguments' }"></div>
+          <div class="span6" data-bind="template: { name: 'common-properties-files' }"></div>
+        </div>
+      </div>
+    </div>
+
+    <div data-bind="visible: ! $root.isEditing()">
+      <span data-bind='template: { name: "common-fs-link", data: {path: properties.shell_command(), with_label: true} }'></span>
+    </div>
+
+    <div data-bind="visible: $parent.ooziePropertiesExpanded">
+      <ul class="nav nav-tabs">
+        <li class="active"><a data-bind="attr: { href: '#properties-' + id()}" data-toggle="tab">${ _('Properties') }</a></li>
+        <li><a data-bind="attr: { href: '#sla-' + id()}" href="#sla" data-toggle="tab">${ _('SLA') }</a></li>
+        <li><a data-bind="attr: { href: '#credentials-' + id()}" data-toggle="tab">${ _('Credentials') }</a></li>
+        <li><a data-bind="attr: { href: '#transitions-' + id()}" data-toggle="tab">${ _('Transitions') }</a></li>
+      </ul>
+      <div class="tab-content">
+        <div class="tab-pane active" data-bind="attr: { id: 'properties-' + id() }">
+          <span data-bind="text: $root.workflow_properties.capture_output.label"></span>
+          <input type="checkbox" data-bind="checked: properties.capture_output" />
+          <br/>
+
+          <h6>
+            <a class="pointer" data-bind="click: function(){ properties.env_var.push({'value': ''}); }">
+              <span data-bind="text: $root.workflow_properties.env_var.label"></span> <i class="fa fa-plus"></i>
+            </a>
+          </h6>
+          <ul data-bind="foreach: properties.env_var" class="unstyled">
+            <li>
+              <input type="text" class="input-xlarge" data-bind="value: value, attr: { placeholder: $root.workflow_properties.env_var.help_text }"/>
+              <a href="#" data-bind="click: function(){ $parent.properties.env_var.remove(this); }">
+                <i class="fa fa-minus"></i>
+              </a>
+            </li>
+          </ul>
+
+          <span data-bind="template: { name: 'common-action-properties' }"></span>
+        </div>
+
+        <div class="tab-pane" data-bind="attr: { id: 'sla-' + id() }">
+          <span data-bind="template: { name: 'common-action-sla' }"></span>
+        </div>
+
+        <div class="tab-pane" data-bind="attr: { id: 'credentials-' + id() }">
+          <span data-bind="template: { name: 'common-action-credentials' }"></span>
+        </div>
+
+        <div class="tab-pane" data-bind="attr: { id: 'transitions-' + id() }">
+          <span data-bind="template: { name: 'common-action-transition' }"></span>
+        </div>
+      </div>
+    </div>
+  </div>
+  <!-- /ko -->
+</script>
+
+
+<script type="text/html" id="ssh-widget">
+  <!-- ko if: $root.workflow.getNodeById(id()) -->
+  <div class="row-fluid" data-bind="with: $root.workflow.getNodeById(id())" style="padding: 10px">
+    <div data-bind="visible: $root.isEditing">
+
+      <div data-bind="visible: ! $parent.ooziePropertiesExpanded()" class="nowrap">
+        <span data-bind="text: $root.workflow_properties.host.label"></span>
+        <input type="text" data-bind="value: properties.host" />
+        <br/>
+
+        <span data-bind="text: $root.workflow_properties.ssh_command.label"></span>
+        <input type="text" data-bind="value: properties.ssh_command" />
+        <div class="row-fluid">
+          <div class="span6" data-bind="template: { name: 'common-properties-arguments' }"></div>
+        </div>
+      </div>
+    </div>
+
+    <div data-bind="visible: ! $root.isEditing()">
+      <span data-bind="text: properties.host" />
+      <span data-bind="text: properties.ssh_command().slice(0, 75)" />
+    </div>
+
+    <div data-bind="visible: $parent.ooziePropertiesExpanded">
+      <ul class="nav nav-tabs">
+        <li class="active"><a data-bind="attr: { href: '#properties-' + id()}" data-toggle="tab">${ _('Properties') }</a></li>
+        <li><a data-bind="attr: { href: '#sla-' + id()}" href="#sla" data-toggle="tab">${ _('SLA') }</a></li>
+        <li><a data-bind="attr: { href: '#credentials-' + id()}" data-toggle="tab">${ _('Credentials') }</a></li>
+        <li><a data-bind="attr: { href: '#transitions-' + id()}" data-toggle="tab">${ _('Transitions') }</a></li>
+      </ul>
+      <div class="tab-content">
+        <div class="tab-pane active" data-bind="attr: { id: 'properties-' + id() }">
+          <span data-bind="text: $root.workflow_properties.capture_output.label"></span>
+          <input type="checkbox" data-bind="checked: properties.capture_output" />
+        </div>
+
+        <div class="tab-pane" data-bind="attr: { id: 'sla-' + id() }">
+          <span data-bind="template: { name: 'common-action-sla' }"></span>
+        </div>
+
+        <div class="tab-pane" data-bind="attr: { id: 'credentials-' + id() }">
+          <span data-bind="template: { name: 'common-action-credentials' }"></span>
+        </div>
+
+        <div class="tab-pane" data-bind="attr: { id: 'transitions-' + id() }">
+          <span data-bind="template: { name: 'common-action-transition' }"></span>
+        </div>
+      </div>
+    </div>
+  </div>
+  <!-- /ko -->
+</script>
+
+
+<script type="text/html" id="fs-widget">
+  <!-- ko if: $root.workflow.getNodeById(id()) -->
+  <div class="row-fluid" data-bind="with: $root.workflow.getNodeById(id())" style="padding: 10px">
+
+    <div data-bind="visible: ! $root.isEditing()">
+      <span data-bind="text: '${ _("Delete") }', visible: properties.deletes().length > 0"></span>
+      <ul data-bind="foreach: properties.deletes" class="unstyled">
+        <li>
+          <span data-bind='template: { name: "common-fs-link", data: {path: value(), with_label: true} }, visible: value().length > 0'></span>
+        </li>
+      </ul>
+
+      <span data-bind="text: '${ _("Create") }', visible: properties.mkdirs().length > 0 || properties.touchzs().length > 0"></span>
+      <ul data-bind="foreach: properties.mkdirs" class="unstyled">
+        <li>
+          <span data-bind='template: { name: "common-fs-link", data: {path: value(), with_label: true} }, visible: value().length > 0'></span>
+        </li>
+      </ul>
+      <ul data-bind="foreach: properties.touchzs" class="unstyled">
+        <li>
+          <span data-bind='template: { name: "common-fs-link", data: {path: value(), with_label: true} }, visible: value().length > 0'></span>
+        </li>
+      </ul>
+
+      <span data-bind="text: '${ _("Move") }', visible: properties.moves().length > 0"></span>
+      <ul data-bind="foreach: properties.moves" class="unstyled">
+        <li>
+          <span data-bind='template: { name: "common-fs-link", data: {path: source(), with_label: true} }, visible: source().length > 0'></span>
+          ${ _('to') }
+          <span data-bind='template: { name: "common-fs-link", data: {path: destination(), with_label: true} }, visible: destination().length > 0'></span>
+        </li>
+      </ul>
+
+      <span data-bind="text: '${ _("Change permissions") }', visible: properties.chmods().length > 0"></span>
+      <ul data-bind="foreach: properties.chmods" class="unstyled">
+        <li>
+          <span data-bind='template: { name: "common-fs-link", data: {path: value(), with_label: true} }, visible: value().length > 0'></span>
+          ${ _('to') }
+          <span data-bind="text: permissions"/>
+          <span data-bind="visible: ! dir_files(), text: '${ _('for directories') }'"/>
+          <span data-bind="visible: dir_files(), text: '${ _('for directories and files') }'"/>
+          <span data-bind="visible: recursive, text: '${ _('recursivelt') }'"/>
+        </li>
+      </ul>
+
+      <span data-bind="text: '${ _("Change groups") }', visible: properties.chgrps().length > 0"></span>
+      <ul data-bind="foreach: properties.chgrps" class="unstyled">
+        <li>
+          <span data-bind='template: { name: "common-fs-link", data: {path: value(), with_label: true} }, visible: value().length > 0'></span>
+          ${ _('to') }
+          <span data-bind="text: group"/>
+          <span data-bind="visible: ! dir_files(), text: '${ _('for directories') }'"/>
+          <span data-bind="visible: dir_files(), text: '${ _('for directories and files') }'"/>
+          <span data-bind="visible: recursive, text: '${ _('recursively') }'"/>
+        </li>
+      </ul>
+    </div>
+
+
+    <div data-bind="visible: $root.isEditing">
+      <div data-bind="visible: ! $parent.ooziePropertiesExpanded()" class="nowrap">
+        <h6>
+          <a class="pointer" data-bind="click: function(){ properties.deletes.push(ko.mapping.fromJS({'value': ''})); }">
+            <span data-bind="text: $root.workflow_properties.deletes.label"></span> <i class="fa fa-plus"></i>
+          </a>
+        </h6>
+        <ul data-bind="foreach: properties.deletes" class="unstyled">
+          <li>
+            <input type="text" class="input-xlarge filechooser-input" data-bind="filechooser: value, filechooserOptions: globalFilechooserOptions, value: value, attr: { placeholder: $root.workflow_properties.deletes.help_text }"/>
+            <span data-bind='template: { name: "common-fs-link", data: {path: value(), with_label: false} }, visible: value().length > 0'></span>
+            <a href="#" data-bind="click: function(){ $parent.properties.deletes.remove(this); }">
+              <i class="fa fa-minus"></i>
+            </a>
+          </li>
+        </ul>
+
+        <h6>
+          <a class="pointer" data-bind="click: function(){ properties.mkdirs.push(ko.mapping.fromJS({'value': ''})); }">
+            <span data-bind="text: $root.workflow_properties.mkdirs.label"></span> <i class="fa fa-plus"></i>
+          </a>
+        </h6>
+        <ul data-bind="foreach: properties.mkdirs" class="unstyled">
+          <li>
+            <input type="text" class="input-xlarge filechooser-input" data-bind="filechooser: value, filechooserOptions: globalFilechooserOptions, value: value, attr: { placeholder: $root.workflow_properties.mkdirs.help_text }"/>
+            <span data-bind='template: { name: "common-fs-link", data: {path: value(), with_label: false} }, visible: value().length > 0'></span>
+            <a href="#" data-bind="click: function(){ $parent.properties.mkdirs.remove(this); }">
+              <i class="fa fa-minus"></i>
+            </a>
+          </li>
+        </ul>
+
+        <h6>
+          <a class="pointer" data-bind="click: function(){ properties.touchzs.push(ko.mapping.fromJS({'value': ''})); }">
+            <span data-bind="text: $root.workflow_properties.touchzs.label"></span> <i class="fa fa-plus"></i>
+          </a>
+        </h6>
+        <ul data-bind="foreach: properties.touchzs" class="unstyled">
+          <li>
+            <input type="text" class="input-xlarge filechooser-input" data-bind="filechooser: value, filechooserOptions: globalFilechooserOptions, value: value, attr: { placeholder: $root.workflow_properties.touchzs.help_text }"/>
+            <span data-bind='template: { name: "common-fs-link", data: {path: value(), with_label: false} }, visible: value().length > 0'></span>
+            <a href="#" data-bind="click: function(){ $parent.properties.touchzs.remove(this); }">
+              <i class="fa fa-minus"></i>
+            </a>
+          </li>
+        </ul>
+
+        <h6>
+          <a class="pointer" data-bind="click: function(){ properties.moves.push(ko.mapping.fromJS({'source': '', 'destination': ''})); }">
+            <span data-bind="text: $root.workflow_properties.moves.label"></span> <i class="fa fa-plus"></i>
+          </a>
+        </h6>
+        <ul data-bind="foreach: properties.moves" class="unstyled">
+          <li>
+            <input type="text" class="input-xlarge filechooser-input" data-bind="filechooser: source, filechooserOptions: globalFilechooserOptions, value: source" placeholder="${ _('Source path') }"/>
+            <span data-bind='template: { name: "common-fs-link", data: {path: source(), with_label: false} }, visible: source().length > 0'></span>
+
+            <input type="text" class="input-xlarge filechooser-input" data-bind="filechooser: destination, filechooserOptions: globalFilechooserOptions, value: destination" placeholder="${ _('New destination path') }"/>
+            <span data-bind='template: { name: "common-fs-link", data: {path: destination(), with_label: false} }, visible: destination().length > 0'></span>
+            <a href="#" data-bind="click: function(){ $parent.properties.moves.remove(this); }">
+              <i class="fa fa-minus"></i>
+            </a>
+          </li>
+        </ul>
+
+      </div>
+    </div>
+
+    <div data-bind="visible: $parent.ooziePropertiesExpanded">
+      <ul class="nav nav-tabs">
+        <li class="active"><a data-bind="attr: { href: '#properties-' + id()}" data-toggle="tab">${ _('Properties') }</a></li>
+        <li><a data-bind="attr: { href: '#sla-' + id()}" href="#sla" data-toggle="tab">${ _('SLA') }</a></li>
+        <li><a data-bind="attr: { href: '#credentials-' + id()}" data-toggle="tab">${ _('Credentials') }</a></li>
+        <li><a data-bind="attr: { href: '#transitions-' + id()}" data-toggle="tab">${ _('Transitions') }</a></li>
+      </ul>
+      <div class="tab-content">
+        <div class="tab-pane active" data-bind="attr: { id: 'properties-' + id() }">
+
+        <h6>
+          <a class="pointer" data-bind="click: function(){ properties.chmods.push(ko.mapping.fromJS({'value': '', 'permissions': '755', 'dir_files': false, 'recursive': false})); }">
+            <span data-bind="text: $root.workflow_properties.chmods.label"></span> <i class="fa fa-plus"></i>
+          </a>
+        </h6>
+        <ul data-bind="foreach: properties.chmods" class="unstyled">
+          <li>
+            <input type="text" class="input-xlarge filechooser-input" data-bind="filechooser: value, filechooserOptions: globalFilechooserOptions, value: value, attr: { placeholder: $root.workflow_properties.chmods.help_text }"/>
+            <span data-bind='template: { name: "common-fs-link", data: {path: value(), with_label: false} }, visible: value().length > 0'></span>
+
+            <input type="text" class="input-small" data-bind="value: permissions" placeholder="${ _('755, -rwxrw-rw-') }"/>
+            ${ _('Only for directories') }
+            <input type="checkbox" data-bind="checked: dir_files"/>
+            ${ _('Recursive to sub directories') }
+            <input type="checkbox" data-bind="checked: recursive"/>
+            <a href="#" data-bind="click: function(){ $parent.properties.chmods.remove(this); }">
+              <i class="fa fa-minus"></i>
+            </a>
+          </li>
+        </ul>
+
+        <h6>
+          <a class="pointer" data-bind="click: function(){ properties.chgrps.push(ko.mapping.fromJS({'value': '', 'group': '', 'dir_files': false, 'recursive': false})); }">
+            <span data-bind="text: $root.workflow_properties.chgrps.label"></span> <i class="fa fa-plus"></i>
+          </a>
+        </h6>
+        <ul data-bind="foreach: properties.chgrps" class="unstyled">
+          <li>
+            <input type="text" class="input-xlarge filechooser-input" data-bind="filechooser: value, filechooserOptions: globalFilechooserOptions, value: value, attr: { placeholder: $root.workflow_properties.chgrps.help_text }"/>
+            <span data-bind='template: { name: "common-fs-link", data: {path: value(), with_label: false} }, visible: value().length > 0'></span>
+
+            <input type="text" class="input-small" data-bind="value: group" placeholder="${ _('e.g. newgroup') }"/>
+            ${ _('Only for directories') }
+            <input type="checkbox" data-bind="checked: dir_files"/>
+            ${ _('Recursive to sub directories') }
+            <input type="checkbox" data-bind="checked: recursive"/>
+            <a href="#" data-bind="click: function(){ $parent.properties.chgrps.remove(this); }">
+              <i class="fa fa-minus"></i>
+            </a>
+          </li>
+        </ul>
+
+        </div>
+
+        <div class="tab-pane" data-bind="attr: { id: 'sla-' + id() }">
+          <span data-bind="template: { name: 'common-action-sla' }"></span>
+        </div>
+
+        <div class="tab-pane" data-bind="attr: { id: 'credentials-' + id() }">
+          <span data-bind="template: { name: 'common-action-credentials' }"></span>
+        </div>
+
+        <div class="tab-pane" data-bind="attr: { id: 'transitions-' + id() }">
+          <span data-bind="template: { name: 'common-action-transition' }"></span>
+        </div>
+      </div>
+    </div>
+  </div>
+  <!-- /ko -->
+</script>
+
+
+<script type="text/html" id="email-widget">
+  <!-- ko if: $root.workflow.getNodeById(id()) -->
+  <div class="row-fluid" data-bind="with: $root.workflow.getNodeById(id())" style="padding: 10px">
+    <div data-bind="visible: $root.isEditing">
+      <div data-bind="visible: ! $parent.ooziePropertiesExpanded()" class="nowrap">
+        <span data-bind="text: $root.workflow_properties.to.label" style="display: inline-block; width: 80px"></span>
+        <input type="text" data-bind="value: properties.to, attr: { placeholder: $root.workflow_properties.to.help_text }" />
+        <br/>
+
+        <span data-bind="text: $root.workflow_properties.subject.label" style="display: inline-block; width: 80px"></span>
+        <input type="text" data-bind="value: properties.subject, attr: { placeholder: $root.workflow_properties.subject.help_text }" />
+        <br/>
+
+        <span data-bind="text: $root.workflow_properties.body.label" style="display: inline-block; width: 80px"></span>
+        <textarea data-bind="value: properties.body, attr: { placeholder: $root.workflow_properties.body.help_text }"></textarea>
+      </div>
+    </div>
+
+    <div data-bind="visible: ! $root.isEditing()">
+      ${ _('To') }
+      <span data-bind="text: properties.to"/>
+      <br/>
+      ${ _('About') }
+      <span data-bind="text: properties.subject"/>
+    </div>
+
+    <div data-bind="visible: $parent.ooziePropertiesExpanded">
+      <ul class="nav nav-tabs">
+        <li class="active"><a data-bind="attr: { href: '#properties-' + id()}" data-toggle="tab">${ _('Properties') }</a></li>
+        <li><a data-bind="attr: { href: '#sla-' + id()}" href="#sla" data-toggle="tab">${ _('SLA') }</a></li>
+        <li><a data-bind="attr: { href: '#credentials-' + id()}" data-toggle="tab">${ _('Credentials') }</a></li>
+        <li><a data-bind="attr: { href: '#transitions-' + id()}" data-toggle="tab">${ _('Transitions') }</a></li>
+      </ul>
+      <div class="tab-content">
+        <div class="tab-pane active" data-bind="attr: { id: 'properties-' + id() }">
+          <span data-bind="text: $root.workflow_properties.cc.label"></span>
+          <input type="text" data-bind="value: properties.cc, attr: { placeholder: $root.workflow_properties.cc.help_text }" />
+        </div>
+
+        <div class="tab-pane" data-bind="attr: { id: 'sla-' + id() }">
+          <span data-bind="template: { name: 'common-action-sla' }"></span>
+        </div>
+
+        <div class="tab-pane" data-bind="attr: { id: 'credentials-' + id() }">
+          <span data-bind="template: { name: 'common-action-credentials' }"></span>
+        </div>
+
+        <div class="tab-pane" data-bind="attr: { id: 'transitions-' + id() }">
+          <span data-bind="template: { name: 'common-action-transition' }"></span>
+        </div>
+      </div>
+    </div>
+  </div>
+  <!-- /ko -->
+</script>
+
+
+<script type="text/html" id="streaming-widget">
+  <!-- ko if: $root.workflow.getNodeById(id()) -->
+  <div class="row-fluid" data-bind="with: $root.workflow.getNodeById(id())" style="padding: 10px">
+    <div data-bind="visible: $root.isEditing">
+      <div data-bind="visible: ! $parent.ooziePropertiesExpanded()" class="nowrap">
+        <span data-bind="text: $root.workflow_properties.mapper.label"></span>
+        <input type="text" data-bind="value: properties.mapper" />
+        <span data-bind='template: { name: "common-fs-link", data: {path: properties.mapper(), with_label: false} }'></span>
+        <br/>
+
+        <span data-bind="text: $root.workflow_properties.reducer.label"></span
+        <input type="text" data-bind="value: properties.reducer" />
+        <span data-bind='template: { name: "common-fs-link", data: {path: properties.reducer(), with_label: false} }'></span>
+        
+        <div data-bind="template: { name: 'common-properties-files' }"></div>
+      </div>
+    </div>
+
+    <div data-bind="visible: ! $root.isEditing()">
+      <span data-bind="text: $root.workflow_properties.mapper.label, visible: properties.mapper().length > 0"></span>
+      <span data-bind='template: { name: "common-fs-link", data: {path: properties.mapper(), with_label: true} }, visible: properties.mapper().length > 0'></span>
+      </br>
+      <span data-bind="text: $root.workflow_properties.reducer.label, visible: properties.reducer().length > 0"></span>
+      <span data-bind='template: { name: "common-fs-link", data: {path: properties.reducer(), with_label: true} }, visible: properties.reducer().length > 0'></span>
+    </div>
+
+    <div data-bind="visible: $parent.ooziePropertiesExpanded">
+      <ul class="nav nav-tabs">
+        <li class="active"><a data-bind="attr: { href: '#properties-' + id()}" data-toggle="tab">${ _('Properties') }</a></li>
+        <li><a data-bind="attr: { href: '#sla-' + id()}" href="#sla" data-toggle="tab">${ _('SLA') }</a></li>
+        <li><a data-bind="attr: { href: '#credentials-' + id()}" data-toggle="tab">${ _('Credentials') }</a></li>
+        <li><a data-bind="attr: { href: '#transitions-' + id()}" data-toggle="tab">${ _('Transitions') }</a></li>
+      </ul>
+      <div class="tab-content">
+        <div class="tab-pane active" data-bind="attr: { id: 'properties-' + id() }">
+          <span data-bind="template: { name: 'common-action-properties' }"></span>
+        </div>
+
+        <div class="tab-pane" data-bind="attr: { id: 'sla-' + id() }">
+          <span data-bind="template: { name: 'common-action-sla' }"></span>
+        </div>
+
+        <div class="tab-pane" data-bind="attr: { id: 'credentials-' + id() }">
+          <span data-bind="template: { name: 'common-action-credentials' }"></span>
+        </div>
+
+        <div class="tab-pane" data-bind="attr: { id: 'transitions-' + id() }">
+          <span data-bind="template: { name: 'common-action-transition' }"></span>
+        </div>
+      </div>
+    </div>
+  </div>
+  <!-- /ko -->
+</script>
+
+
+<script type="text/html" id="distcp-widget">
+  <!-- ko if: $root.workflow.getNodeById(id()) -->
+  <div class="row-fluid" data-bind="with: $root.workflow.getNodeById(id())" style="padding: 10px">
+    <div data-bind="visible: $root.isEditing">
+      <div data-bind="visible: ! $parent.ooziePropertiesExpanded()" class="nowrap">
+
+        <h6>
+          <a class="pointer" data-bind="click: function(){ properties.distcp_parameters.push(ko.mapping.fromJS({'value': ''}));}">
+            <span data-bind="text: $root.workflow_properties.distcp_parameters.label"></span> <i class="fa fa-plus"></i>
+          </a>
+        </h6>
+        <ul data-bind="foreach: properties.distcp_parameters" class="unstyled">
+          <li>
+            <input type="text" class="input-xlarge filechooser-input" data-bind="filechooser: value, filechooserOptions: globalFilechooserOptions, value: value, attr: { placeholder: $root.workflow_properties.distcp_parameters.help_text }"/>
+            <span data-bind='template: { name: "common-fs-link", data: {path: value(), with_label: false} }, visible: value().length > 0'></span>
+            <a href="#" data-bind="click: function(){ $parent.properties.distcp_parameters.remove(this);  }">
+              <i class="fa fa-minus"></i>
+            </a>
+          </li>
+        </ul>
+
+      </div>
+    </div>
+    
+    <div data-bind="visible: ! $root.isEditing()">
+      ${ _('Parameters') }
+      <ul data-bind="foreach: properties.distcp_parameters" class="unstyled">
+        <li>
+          <span data-bind='template: { name: "common-fs-link", data: {path: value(), with_label: true} }, visible: value().length > 0'></span>
+        </li>
+      </ul>
+    </div>
+
+    <div data-bind="visible: $parent.ooziePropertiesExpanded">
+      <ul class="nav nav-tabs">
+        <li class="active"><a data-bind="attr: { href: '#properties-' + id()}" data-toggle="tab">${ _('Properties') }</a></li>
+        <li><a data-bind="attr: { href: '#sla-' + id()}" href="#sla" data-toggle="tab">${ _('SLA') }</a></li>
+        <li><a data-bind="attr: { href: '#credentials-' + id()}" data-toggle="tab">${ _('Credentials') }</a></li>
+        <li><a data-bind="attr: { href: '#transitions-' + id()}" data-toggle="tab">${ _('Transitions') }</a></li>
+      </ul>
+      <div class="tab-content">
+        <div class="tab-pane active" data-bind="attr: { id: 'properties-' + id() }">
+
+		 <h6>${ _('Prepare') }</h6>
+		   <ul data-bind="visible: properties.prepares().length > 0, foreach: properties.prepares" class="unstyled">
+		     <li>
+		       <div style="display: inline-block; width: 60px" data-bind="text: type"></div>
+		       <input type="text" class="filechooser-input input-xlarge"
+		            data-bind="filechooser: value, filechooserOptions: globalFilechooserOptions, value: value, attr: { placeholder: $root.workflow_properties.prepares.help_text }"/>
+		        <a href="#" data-bind="click: function(){ $parent.properties.prepares.remove(this); $(document).trigger('drawArrows') }">
+		          <i class="fa fa-minus"></i>
+		        </a>
+		      </li>
+		   </ul>
+		   <a class="pointer" data-bind="click: function(){ properties.prepares.push({'type': 'mkdir', 'value': ''}); $(document).trigger('drawArrows') }">
+		     ${ _('Directory') } <i class="fa fa-plus"></i>
+		   </a>
+		   <a class="pointer" data-bind="click: function(){ properties.prepares.push({'type': 'delete', 'value': ''}); $(document).trigger('drawArrows') }">
+		     ${ _('Delete') } <i class="fa fa-plus"></i>
+		   </a>
+		
+		   <h6>
+		     <a class="pointer" data-bind="click: function(){ properties.job_properties.push({'name': '', 'value': ''}); $(document).trigger('drawArrows') }">
+		       ${ _('Properties') } <i class="fa fa-plus"></i>
+		     </a>
+		   </h6>
+           <ul data-bind="visible: properties.job_properties().length > 0, foreach: properties.job_properties" class="unstyled">
+           <li>
+             <input type="text" data-bind="value: name" placeholder="${ _('name, e.g. mapred.job.queue.name') }"/>
+             <input type="text" class="filechooser-input input-xlarge" data-bind="filechooser: value, filechooserOptions: globalFilechooserOptions, value: value, attr: { placeholder: $root.workflow_properties.job_properties.help_text }"/>
+             <a href="#" data-bind="click: function(){ $parent.properties.job_properties.remove(this); $(document).trigger('drawArrows') }">
+               <i class="fa fa-minus"></i>
+              </a>
+             </li>
+           </ul>
+           <em data-bind="visible: properties.job_properties().length == 0">${ _('No properties defined.') }</em>
+
+           <h6>             
+             <span data-bind="text: $root.workflow_properties.java_opts.label"></span>             
+           </h6>
+           <input type="text" class="input-xlarge" data-bind="value: properties.java_opts, attr: { placeholder: $root.workflow_properties.java_opts.help_text }" />
+        </div>
+
+        <div class="tab-pane" data-bind="attr: { id: 'sla-' + id() }">
+          <span data-bind="template: { name: 'common-action-sla' }"></span>
+        </div>
+
+        <div class="tab-pane" data-bind="attr: { id: 'credentials-' + id() }">
+          <span data-bind="template: { name: 'common-action-credentials' }"></span>
+        </div>
+
+        <div class="tab-pane" data-bind="attr: { id: 'transitions-' + id() }">
+          <span data-bind="template: { name: 'common-action-transition' }"></span>
+        </div>
+      </div>
+    </div>
+  </div>
+  <!-- /ko -->
+</script>
+
+
+<div id="addActionDemiModal" class="demi-modal demi-modal-half hide" data-backdrop="false">
+  <div class="modal-body">
+    <table data-bind="foreach: addActionProperties">
+      <tr>
+        <td data-bind="text: label" style="width: 1%; padding-right: 10px" class="no-wrap"></td>
+        <td>
+          <!-- ko if: type() == '' -->
+          <input type="text" class="filechooser-input" style="width:80%" data-bind="value: value, valueUpdate:'afterkeydown', filechooser: value, filechooserOptions: globalFilechooserOptions, attr: { placeholder: help_text }">
+          <!-- /ko -->
+          <!-- ko if: type() == 'text' -->
+          <input type="text" data-bind="value: value, valueUpdate:'afterkeydown', attr: { placeholder: help_text }" class="input-xlarge"/>
+          <!-- /ko -->
+          <!-- ko if: type() == 'textarea' -->
+          <textarea data-bind="value: value, valueUpdate:'afterkeydown'" class="input-xlarge"></textarea>
+          <!-- /ko -->
+          <!-- ko if: type() == 'workflow' -->
+          <select data-bind="options: $root.subworfklows, optionsText: 'name', optionsValue: 'value', value: value"></select>
+          <!-- /ko -->
+
+          <!-- ko if: type() == 'distcp' -->
+          ${ _('Source') }
+          <input type="text" class="filechooser-input" data-bind="value: value()[0].value, valueUpdate:'afterkeydown', filechooser: value()[0].value, filechooserOptions: globalFilechooserOptions" placeholder="${ _('e.g. ${nameNode1}/path/to/input.txt') }">
+          </br>
+          ${ _('Destination') }
+          <input type="text" class="filechooser-input" data-bind="value: value()[1].value, valueUpdate:'afterkeydown', filechooser: value()[1].value, filechooserOptions: globalFilechooserOptions" placeholder="${ _('e.g. ${nameNode2}/path/to/output.txt') }">
+          <!-- /ko -->
+
+          <!-- ko if: ['jar_path', 'script_path', 'mapper', 'reducer', 'hive_xml'].indexOf(name()) != -1 &&  value().length > 0 -->
+            <span data-bind='template: { name: "common-fs-link", data: {path: value(), with_label: false}}'></span>
+          <!-- /ko -->
+          <!-- ko if: name() == 'workflow' && $root.getSubWorkflow(value())-->
+          <span data-bind="with: $root.getSubWorkflow(value())">
+            <a href="#" data-bind="attr: { href: '${ url('oozie:edit_workflow') }' + '?workflow=' + $data.value() }" target="_blank" title="${ _('Open') }">
+              <i class="fa fa-external-link-square"></i>
+            </a>
+          </span>
+          <!-- /ko -->
+        </td>
+      </tr>
+    </table>
+
+    <br/>
+    <a class="btn btn-primary disable-feedback" data-bind="css: {'disabled': ! addActionPropertiesFilledOut()}, click: function(field){ addActionPropertiesFilledOut() ? addActionDemiModalFieldPreview(field) : void(0) } ">
+      ${ _('Add') }
+    </a>
+  </div>
+</div>
+
+<div id="settingsModal" class="modal fade hide">
+  <div class="modal-header" style="padding-bottom: 2px">
+    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
+    <h3>${ _('Workflow Settings') }</h3>
+  </div>
+  <div class="modal-body">
+      <h4>${ _('Variables') }</h4>
+      <ul data-bind="foreach: $root.workflow.properties.parameters" class="unstyled">
+        <!-- ko if: name() != 'oozie.use.system.libpath' -->
+        <li>
+          <input type="text" data-bind="value: name"/>
+          <input type="text" data-bind="value: value"/>
+          <a href="#" data-bind="click: function(){ $root.workflow.properties.parameters.remove(this); }">
+            <i class="fa fa-minus"></i>
+          </a>
+        </li>
+        <!-- /ko -->
+      </ul>
+      <a class="pointer" data-bind="click: function(){ $root.workflow.properties.parameters.push(ko.mapping.fromJS({'name': '', 'value': ''})); }">
+        <i class="fa fa-plus"></i> ${ _('Add parameter') }
+      </a>
+
+      <h4>${_("Workspace")}</h4>
+      <input type="text" class="input-xlarge filechooser-input" data-bind="filechooser: {value: $root.workflow.properties.deployment_dir, displayJustLastBit: true}, filechooserOptions: globalFilechooserOptions" rel="tooltip"/>
+
+	  <h4>${ _('Hadoop Properties') }</h4>
+      <ul data-bind="foreach: $root.workflow.properties.properties" class="unstyled">
+        <li>
+          <input type="text" data-bind="value: name"/>
+          <input type="text" data-bind="value: value"/>
+          <a href="#" data-bind="click: function(){ $root.workflow.properties.properties.remove(this); }">
+            <i class="fa fa-minus"></i>
+          </a>
+        </li>
+      </ul>
+      <a class="pointer"  data-bind="click: function(){ $root.workflow.properties.properties.push({'name': '', 'value': ''}); }">
+        <i class="fa fa-plus"></i> ${ _('Add property') }
+      </a>
+
+      <h4>${ _("Show graph arrows") }</h4>      
+      <input type="checkbox" data-bind="checked: $root.workflow.properties.show_arrows" title="${ _('Toggle arrow showing') }" rel="tooltip" data-placement="bottom" />
+
+      <h4>${ _("Version") }</h4>
+      <select class="input-xlarge" data-bind="value: $root.workflow.properties.schema_version, options: $root.workflow.versions"></select>
+
+      <h4>${ _("Job XML") }</h4>
+      <input type="text" class="input-xlarge filechooser-input" data-bind="filechooser: $root.workflow.properties.job_xml, filechooserOptions: globalFilechooserOptions"/>
+
+      <h4>${ _('SLA Configuration') }</h4>
+      <div class="sla-form" data-bind="with: $root.workflow.properties">
+        ${ utils.slaForm() }
+      </div>
+  </div>
+</div>
+
+
+<div id="submit-wf-modal" class="modal hide"></div>
+
+<div id="chooseFile" class="modal hide fade">
+  <div class="modal-header">
+      <a href="#" class="close" data-dismiss="modal">&times;</a>
+      <h3>${_('Choose a file')}</h3>
+  </div>
+  <div class="modal-body">
+      <div id="filechooser">
+      </div>
+  </div>
+  <div class="modal-footer">
+  </div>
+</div>
+
+
+</div>
+
+<div id="exposeOverlay"></div>
+
+<link rel="stylesheet" href="/static/ext/css/hue-filetypes.css">
+<link rel="stylesheet" href="/static/ext/css/hue-charts.css">
+<link rel="stylesheet" href="/static/ext/chosen/chosen.min.css">
+<link rel="stylesheet" href="/oozie/static/css/common-editor.css">
+<link rel="stylesheet" href="/oozie/static/css/workflow-editor.css">
+
+
+${ dashboard.import_layout() }
+
+${ commonshare() | n,unicode }
+
+<script src="/static/ext/js/bootstrap-editable.min.js" type="text/javascript" charset="utf-8"></script>
+<script src="/static/js/hue.utils.js"></script>
+<script src="/static/js/ko.editable.js" type="text/javascript" charset="utf-8"></script>
+<script src="/static/ext/chosen/chosen.jquery.min.js" type="text/javascript" charset="utf-8"></script>
+<script src="/static/js/share.vm.js"></script>
+<script src="/static/js/jquery.hdfsautocomplete.js" type="text/javascript" charset="utf-8"></script>
+
+${ dashboard.import_bindings() }
+
+<script src="/oozie/static/js/workflow-editor.ko.js" type="text/javascript" charset="utf-8"></script>
+<script src="/static/ext/js/jquery/plugins/jquery.curvedarrow.js" type="text/javascript" charset="utf-8"></script>
+
+
+<script type="text/javascript">
+  ${ utils.slaGlobal() }
+
+  var viewModel = new WorkflowEditorViewModel(${ layout_json | n,unicode }, ${ workflow_json | n,unicode }, ${ credentials_json | n,unicode }, ${ workflow_properties_json | n,unicode }, ${ subworkflows_json | n,unicode }, ${ can_edit_json | n,unicode }); 
+  ko.applyBindings(viewModel, $("#editor")[0]);
+
+  var shareViewModel = initSharing("#documentShareModal");
+  shareViewModel.setDocId(${ doc1_id });
+
+  viewModel.init();
+  fullLayout(viewModel);
+
+  var globalFilechooserOptions = {
+    skipInitialPathIfEmpty: true,
+    showExtraHome: true,
+    uploadFile: true,
+    createFolder: true,
+    extraHomeProperties: {
+      label: '${ _('Workspace') }',
+      icon: 'fa-folder-open',
+      path: viewModel.workflow.properties.deployment_dir()
+    }
+  }
+
+  function columnDropAdditionalHandler(widget) {
+    widgetDraggedAdditionalHandler(widget);
+  }
+
+  function widgetDraggedAdditionalHandler(widget) {
+    $("canvas").remove();
+    if (viewModel.currentlyDraggedWidget() && viewModel.currentlyDraggedWidget().id() == ""){
+      viewModel.workflow.newNode(widget);
+      showAddActionDemiModal(widget);
+    }
+    else {
+      if (viewModel.currentlyDraggedOp() == "move"){
+        viewModel.workflow.moveNode(widget);
+      }
+      else { // Copy
+        var _sourceNode = viewModel.workflow.getNodeById(viewModel.currentlyDraggedWidget().id());
+        viewModel.workflow.newNode(widget, viewModel.workflow.addNode, _sourceNode);
+      }
+      $(document).trigger("drawArrows");
+    }
+  }
+
+
+  $(document).on("showSubmitPopup", function(event, data){
+    if (! viewModel.workflow.isDirty()){
+      $('#submit-wf-modal').html(data);
+      $('#submit-wf-modal').modal('show');
+    }
+  });
+
+
+  function showAddActionDemiModal(widget) {
+    viewModel.newAction(widget);
+    $("#exposeOverlay").fadeIn(300);
+    var _el = $("#wdg_" + widget.id());
+    _el.css("zIndex", "1032");
+    var lastSeenPosition = _el.position();
+    var _width = _el.width();
+
+    _el.css("position", "absolute");
+    _el.css({
+      "top": (lastSeenPosition.top) + "px",
+      "left": lastSeenPosition.left + "px",
+      "width": 450
+    });
+    $("#addActionDemiModal").width(_el.width()).css("top", _el.offset().top + 25).css("left", _el.offset().left).modal("show");
+    $("html, body").animate({
+      scrollTop: $("#addActionDemiModal").offset().top - 200
+    }, 200);
+  }
+
+  function addActionDemiModalFieldPreview(field) {
+    if (viewModel.newAction() != null) {
+      var _el = $("#wdg_" + viewModel.newAction().id());
+      _el.css("position", "static");
+      _el.css("width", "");
+      viewModel.workflow.addNode(viewModel.newAction());
+      $("#addActionDemiModal").modal("hide");
+      $("#wdg_" + viewModel.newAction().id()).css("zIndex", "0");
+      $("#exposeOverlay").fadeOut(300);
+      viewModel.newAction(null);
+    }
+  }
+
+  function addActionDemiModalFieldCancel() {
+    $("#exposeOverlay").fadeOut(300);
+    $("#addActionDemiModal").modal("hide");
+    if (viewModel.newAction()){
+      viewModel.removeWidgetById(viewModel.newAction().id());
+    }
+    viewModel.newAction(null);
+  }
+
+  function linkWidgets(fromId, toId) {
+    var _from = $("#wdg_" + (typeof fromId == "function" ? fromId() : fromId));
+    var _to = $("#wdg_" + (typeof toId == "function" ? toId() : toId));
+    if (_from.length > 0 && _to.length > 0){
+      var _fromCenter = {
+        x: _from.position().left + _from.outerWidth() / 2,
+        y: _from.position().top + _from.outerHeight() + 3
+      }
+
+      var _toCenter = {
+        x: _to.position().left + _to.outerWidth() / 2,
+        y: _to.position().top - 5
+      }
+
+      var _curveCoords = {};
+
+      if (_fromCenter.x == _toCenter.x) {
+        _curveCoords.x = _fromCenter.x;
+        _curveCoords.y = _fromCenter.y + (_toCenter.y - _fromCenter.y) / 2;
+      }
+      else {
+        if (_fromCenter.x > _toCenter.x) {
+          _fromCenter.x = _fromCenter.x - 5;
+          _toCenter.x = _toCenter.x + 5;
+        }
+        else {
+          _fromCenter.x = _fromCenter.x + 5;
+          _toCenter.x = _toCenter.x - 5;
+        }
+        _curveCoords.x = _fromCenter.x - (_fromCenter.x - _toCenter.x) / 4;
+        _curveCoords.y = _fromCenter.y + (_toCenter.y - _fromCenter.y) / 2;
+      }
+
+      $(document.body).curvedArrow({
+        p0x: _fromCenter.x,
+        p0y: _fromCenter.y,
+        p1x: _curveCoords.x,
+        p1y: _curveCoords.y,
+        p2x: _toCenter.x,
+        p2y: _toCenter.y,
+        lineWidth: 2,
+        size: 10,
+        strokeStyle: viewModel.isEditing()?'#e5e5e5':'#dddddd'
+      });
+    }
+  }
+
+  function drawArrows(){
+    $("canvas").remove();
+    if (viewModel.oozieColumns()[0].rows().length > 3){
+      var _links = viewModel.workflow.linkMapping();
+      Object.keys(_links).forEach(function(id){
+        if (_links[id].length > 0){
+          _links[id].forEach(function(nextId){
+            linkWidgets(id, nextId);
+          });
+        }
+      });
+    }
+  }
+
+  var _linkMappingTimeout = -1;
+  $(document).on("drawArrows", function(){
+    window.clearTimeout(_linkMappingTimeout);
+    _linkMappingTimeout = window.setTimeout(renderChangeables, 25);
+  });
+
+  $(document).on("removeArrows", function(){
+    $("canvas").remove();
+  });
+
+  $(document).on("editingToggled", function(){
+    $("canvas").remove();
+    exposeOverlayClickHandler();
+    window.setTimeout(renderChangeables, 100);
+  });
+
+  function resizeDrops() {
+    $(".drop-target-side").each(function () {
+      var _el = $(this);
+      _el.height(0);
+      window.setTimeout(function(){
+        _el.height(_el.parent().parent().innerHeight() - 12);
+      }, 20);
+    });
+  }
+
+  function renderChangeables() {
+    resizeDrops();
+    if (viewModel.workflow.properties.show_arrows()){
+      drawArrows();
+    }
+  }
+
+  var lastSeenPosition = null;
+  var lastExpandedWidget = null;
+  function setLastExpandedWidget(widget) {
+    lastExpandedWidget = widget;
+    if (! widget.oozieExpanded()){
+      var _el = $("#wdg_" + widget.id());
+      if (_el.width() < 400){
+        _el.css("z-index", "1032");
+        lastSeenPosition = _el.position();
+        var _width = _el.width();
+
+        _el.css("position", "absolute");
+        _el.css({
+          "top": (lastSeenPosition.top) + "px",
+          "left": lastSeenPosition.left + "px",
+          "width": _width
+        });
+        _el.width(500);
+        $("#exposeOverlay").fadeIn(300);  
+        widget.oozieExpanded(true);
+      }
+      else {
+        widget.oozieExpanded(false);
+      }
+    }
+  }
+
+  function toggleProperties(widget) {
+    if (widget.oozieMovable()) {
+      var _el = $("#wdg_" + widget.id());
+      if (! widget.ooziePropertiesExpanded()) {
+        setLastExpandedWidget(widget);
+        _el.find(".prop-editor").show();
+        widget.ooziePropertiesExpanded(true);
+      }
+      else {
+        if (widget.oozieExpanded()){
+          exposeOverlayClickHandler();
+        }
+        else {
+          _el.find(".prop-editor").hide();
+          widget.ooziePropertiesExpanded(false);
+        }
+      }
+      $(document).trigger("drawArrows");
+    }
+  }
+
+  function exposeOverlayClickHandler() {
+    if (lastExpandedWidget) {
+      var _el = $("#wdg_" + lastExpandedWidget.id());
+      _el.find(".prop-editor").hide();
+      _el.removeAttr("style");
+      lastExpandedWidget.ooziePropertiesExpanded(false);
+      lastExpandedWidget.oozieExpanded(false);
+    }
+    addActionDemiModalFieldCancel();
+    $("#exposeOverlay").fadeOut(300);
+    $(document).trigger("drawArrows");
+  }
+
+  $(document).ready(function(){
+    renderChangeables();
+
+    $("#exposeOverlay").on("click", exposeOverlayClickHandler);
+
+    $(document).keyup(function(e) {
+      if (e.keyCode == 27) {
+        exposeOverlayClickHandler();
+        addActionDemiModalFieldCancel();
+        $("#addActionDemiModal").modal("hide");
+      }
+    });
+
+    var resizeTimeout = -1;
+    $(window).on("resize", function () {
+      window.clearTimeout(resizeTimeout);
+      resizeTimeout = window.setTimeout(function () {
+        renderChangeables();
+      }, 200);
+    });
+
+    $(document).on("click", ".widget-main-section", function(e){
+      if (! $(e.target).is("a") && ! $(e.target).is("input") && ! $(e.target).is("i") && ! $(e.target).is("button")){
+        setLastExpandedWidget(ko.dataFor($(e.target).parents(".card-widget")[0]));
+      }
+    });
+
+    $.jHueScrollUp();
+    $(".custom-popover").popover();
+  });
+
+</script>
+
+${ commonfooter(messages) | n,unicode }
diff --git a/apps/oozie/src/oozie/views/editor2.py b/apps/oozie/src/oozie/views/editor2.py
index cd42572..14b2898 100644
--- a/apps/oozie/src/oozie/views/editor2.py
+++ b/apps/oozie/src/oozie/views/editor2.py
@@ -55,7 +55,7 @@ def list_editor_workflows(request):
   if workflows_v1:
     workflows.extend(workflows_v1)
   
-  return render('editor/list_editor_workflows.mako', request, {
+  return render('editor2/list_editor_workflows.mako', request, {
       'workflows_json': json.dumps(workflows, cls=JSONEncoderForHTML)
   })
 
@@ -98,7 +98,7 @@ def _edit_workflow(request, doc, workflow):
   except Exception, e:
     LOG.error(smart_str(e))
 
-  return render('editor/workflow_editor.mako', request, {
+  return render('editor2/workflow_editor.mako', request, {
       'layout_json': json.dumps(workflow_data['layout'], cls=JSONEncoderForHTML),
       'workflow_json': json.dumps(workflow_data['workflow'], cls=JSONEncoderForHTML),
       'credentials_json': json.dumps(credentials.credentials.keys(), cls=JSONEncoderForHTML),
@@ -347,7 +347,7 @@ def submit_workflow(request, doc_id):
     initial_params = ParameterForm.get_initial_params(dict([(param['name'], param['value']) for param in parameters]))
     params_form = ParametersFormSet(initial=initial_params)
 
-    popup = render('editor/submit_job_popup2.mako', request, {
+    popup = render('editor2/submit_job_popup.mako', request, {
                      'params_form': params_form,
                      'name': workflow.name,
                      'action': reverse('oozie:editor_submit_workflow', kwargs={'doc_id': workflow.id})
@@ -378,7 +378,7 @@ def list_editor_coordinators(request):
   if coordinators_v1:
     coordinators.extend(coordinators_v1)
 
-  return render('editor/list_editor_coordinators.mako', request, {
+  return render('editor2/list_editor_coordinators.mako', request, {
       'coordinators_json': json.dumps(coordinators, cls=JSONEncoderForHTML)
   })
 
@@ -409,7 +409,7 @@ def edit_coordinator(request):
   if coordinator_id and not filter(lambda a: a['uuid'] == coordinator.data['properties']['workflow'], workflows):
     raise PopupException(_('You don\'t have access to the workflow of this coordinator.'))
 
-  return render('editor/coordinator_editor.mako', request, {
+  return render('editor2/coordinator_editor.mako', request, {
       'coordinator_json': coordinator.to_json_for_html(),
       'credentials_json': json.dumps(credentials.credentials.keys(), cls=JSONEncoderForHTML),
       'workflows_json': json.dumps(workflows, cls=JSONEncoderForHTML),
@@ -526,7 +526,7 @@ def submit_coordinator(request, doc_id):
     initial_params = ParameterForm.get_initial_params(dict([(param['name'], param['value']) for param in parameters]))
     params_form = ParametersFormSet(initial=initial_params)
 
-  popup = render('editor/submit_job_popup2.mako', request, {
+  popup = render('editor2/submit_job_popup.mako', request, {
                  'params_form': params_form,
                  'name': coordinator.name,
                  'action': reverse('oozie:editor_submit_coordinator',  kwargs={'doc_id': coordinator.id})
@@ -560,7 +560,7 @@ def list_editor_bundles(request):
   if bundles_v1:
     bundles.extend(bundles_v1)
 
-  return render('editor/list_editor_bundles.mako', request, {
+  return render('editor2/list_editor_bundles.mako', request, {
       'bundles_json': json.dumps(bundles, cls=JSONEncoderForHTML)
   })
 
@@ -580,7 +580,7 @@ def edit_bundle(request):
   coordinators = [dict([('uuid', d.content_object.uuid), ('name', d.content_object.name)])
                       for d in Document.objects.get_docs(request.user, Document2, extra='coordinator2')]
 
-  return render('editor/bundle_editor.mako', request, {
+  return render('editor2/bundle_editor.mako', request, {
       'bundle_json': bundle.to_json_for_html(),
       'coordinators_json': json.dumps(coordinators, cls=JSONEncoderForHTML),
       'doc1_id': doc.doc.get().id if doc else -1,
@@ -683,7 +683,7 @@ def submit_bundle(request, doc_id):
     initial_params = ParameterForm.get_initial_params(dict([(param['name'], param['value']) for param in parameters]))
     params_form = ParametersFormSet(initial=initial_params)
 
-  popup = render('editor/submit_job_popup2.mako', request, {
+  popup = render('editor2/submit_job_popup.mako', request, {
                  'params_form': params_form,
                  'name': bundle.name,
                  'action': reverse('oozie:editor_submit_bundle',  kwargs={'doc_id': bundle.id})
diff --git a/desktop/core/src/desktop/api.py b/desktop/core/src/desktop/api.py
index ca64353..7d9f055 100644
--- a/desktop/core/src/desktop/api.py
+++ b/desktop/core/src/desktop/api.py
@@ -51,7 +51,7 @@ def _get_docs(user):
           'documentpermission_set',
         )
         .defer(None)
-        .order_by('-last_modified')[:500],
+        .order_by('-last_modified')[:50],
       Document.objects.get_docs(user)
         .exclude(tags__in=[history_tag])
         .select_related(
-- 
1.7.9.5

