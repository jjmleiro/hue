From 7521c21eb642575678a81678f0dd110ce2d84df6 Mon Sep 17 00:00:00 2001
From: Romain Rigaux <romain@cloudera.com>
Date: Sun, 8 Feb 2015 22:38:31 -0800
Subject: [PATCH 0776/1173] [hive] Switch to Hive 1.0 new way to fetch job
 logs

---
 apps/beeswax/src/beeswax/conf.py         |    6 +++---
 desktop/conf.dist/hue.ini                |    6 +++---
 desktop/conf/pseudo-distributed.ini.tmpl |    6 +++---
 3 files changed, 9 insertions(+), 9 deletions(-)

diff --git a/apps/beeswax/src/beeswax/conf.py b/apps/beeswax/src/beeswax/conf.py
index e7ffc8e..eefedd2 100644
--- a/apps/beeswax/src/beeswax/conf.py
+++ b/apps/beeswax/src/beeswax/conf.py
@@ -62,10 +62,10 @@ SERVER_CONN_TIMEOUT = Config(
 
 USE_GET_LOG_API = Config(
   key='use_get_log_api',
-  default=True,
+  default=False,
   type=coerce_bool,
-  help=_t('Choose whether Hue uses the GetLog() thrift call to retrieve Hive logs.'
-          'If false, Hue will use the FetchResults() thrift call instead.')
+  help=_t('Choose whether to use the old GetLog() thrift call from before Hive 0.14 to retrieve the logs.'
+          'If false, use the FetchResults() thrift call from Hive 1.0 or more instead.')
 )
 
 BROWSE_PARTITIONED_TABLE_LIMIT = Config(
diff --git a/desktop/conf.dist/hue.ini b/desktop/conf.dist/hue.ini
index 44fee99..fc62579 100644
--- a/desktop/conf.dist/hue.ini
+++ b/desktop/conf.dist/hue.ini
@@ -775,9 +775,9 @@
   # Timeout in seconds for thrift calls to Hive service
   ## server_conn_timeout=120
 
-  # Choose whether Hue uses the GetLog() thrift call to retrieve Hive logs.
-  # If false, Hue will use the FetchResults() thrift call instead.
-  ## use_get_log_api=true
+  # Choose whether to use the old GetLog() thrift call from before Hive 0.14 to retrieve the logs.
+  # If false, use the FetchResults() thrift call from Hive 1.0 or more instead.
+  ## use_get_log_api=false
 
   # Set a LIMIT clause when browsing a partitioned table.
   # A positive value will be set as the LIMIT. If 0 or negative, do not set any limit.
diff --git a/desktop/conf/pseudo-distributed.ini.tmpl b/desktop/conf/pseudo-distributed.ini.tmpl
index f438294..17072ff 100644
--- a/desktop/conf/pseudo-distributed.ini.tmpl
+++ b/desktop/conf/pseudo-distributed.ini.tmpl
@@ -781,9 +781,9 @@
   # Timeout in seconds for thrift calls to Hive service
   ## server_conn_timeout=120
 
-  # Choose whether Hue uses the GetLog() thrift call to retrieve Hive logs.
-  # If false, Hue will use the FetchResults() thrift call instead.
-  ## use_get_log_api=true
+  # Choose whether to use the old GetLog() thrift call from before Hive 0.14 to retrieve the logs.
+  # If false, use the FetchResults() thrift call from Hive 1.0 or more instead.
+  ## use_get_log_api=false
 
   # Set a LIMIT clause when browsing a partitioned table.
   # A positive value will be set as the LIMIT. If 0 or negative, do not set any limit.
-- 
1.7.9.5

