From 585dedf8c4ab8614f712657bb3cbaff09c741d59 Mon Sep 17 00:00:00 2001
From: Enrico Berti <hello@enricoberti.com>
Date: Wed, 11 Mar 2015 17:58:27 +0100
Subject: [PATCH 1030/1173] [search] Inline download results buttons

---
 apps/search/src/search/templates/search.mako |   28 +++++++++++++-------------
 1 file changed, 14 insertions(+), 14 deletions(-)

diff --git a/apps/search/src/search/templates/search.mako b/apps/search/src/search/templates/search.mako
index 98d0b96..c6e6717 100644
--- a/apps/search/src/search/templates/search.mako
+++ b/apps/search/src/search/templates/search.mako
@@ -710,6 +710,20 @@ ${ dashboard.layout_skeleton() }
 
 
 <script type="text/html" id="resultset-pagination">
+<!-- ko if: $data.response.numFound > 0 -->
+<div class="pull-right" style="display:inline">
+  <form method="POST" action="${ url('search:download') }" style="display:inline">
+    ${ csrf_token(request) | n,unicode }
+    <input type="hidden" name="collection" data-bind="value: ko.mapping.toJSON($root.collection)"/>
+    <input type="hidden" name="query" data-bind="value: ko.mapping.toJSON($root.query)"/>
+    <input type="hidden" name="download">
+    <button class="btn" type="submit" name="json" title="${ _('Download first rows as JSON') }"><i class="hfo hfo-file-json"></i></button>
+    <button class="btn" type="submit" name="csv" title="${ _('Download first rows as CSV') }"><i class="hfo hfo-file-csv"></i></button>
+    <button class="btn" type="submit" name="xls" title="${ _('Download first rows as XLS') }"><i class="hfo hfo-file-xls"></i></button>
+  </form>
+</div>
+<!-- /ko -->
+
 <div style="text-align: center; margin-top: 4px">
   <a href="javascript: void(0)" title="${ _('Previous') }">
     <span data-bind="click: $root.collection.toggleSortColumnGridLayout"></span>
@@ -742,20 +756,6 @@ ${ dashboard.layout_skeleton() }
         click: function() { $root.query.paginate('next') }">
     </i>
   </a>
-
-  <!-- ko if: $data.response.numFound > 0 -->
-  <span class="pull-right">
-    <form method="POST" action="${ url('search:download') }">
-      ${ csrf_token(request) | n,unicode }
-      <input type="hidden" name="collection" data-bind="value: ko.mapping.toJSON($root.collection)"/>
-      <input type="hidden" name="query" data-bind="value: ko.mapping.toJSON($root.query)"/>
-      <input type="hidden" name="download">
-      <button class="btn" type="submit" name="json" title="${ _('Download first rows as JSON') }"><i class="hfo hfo-file-json"></i></button>
-      <button class="btn" type="submit" name="csv" title="${ _('Download first rows as CSV') }"><i class="hfo hfo-file-csv"></i></button>
-      <button class="btn" type="submit" name="xls" title="${ _('Download first rows as XLS') }"><i class="hfo hfo-file-xls"></i></button>
-    </form>
-  </span>
-  <!-- /ko -->
 </div>
 </script>
 
-- 
1.7.9.5

