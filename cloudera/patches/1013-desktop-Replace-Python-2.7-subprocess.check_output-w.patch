From 67a2cf27d74b1f836ec4daa41b3710f2689cf5ae Mon Sep 17 00:00:00 2001
From: Erick Tryzelaar <erickt@cloudera.com>
Date: Mon, 9 Mar 2015 14:10:16 -0700
Subject: [PATCH 1013/1173] [desktop] Replace Python 2.7
 subprocess.check_output with a 2.6-safe code

---
 desktop/core/src/desktop/conf.py |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

diff --git a/desktop/core/src/desktop/conf.py b/desktop/core/src/desktop/conf.py
index 6178450..400ec58 100644
--- a/desktop/core/src/desktop/conf.py
+++ b/desktop/core/src/desktop/conf.py
@@ -53,7 +53,8 @@ def coerce_port(port):
 
 
 def coerce_password_from_script(script):
-  password = subprocess.check_output(script, shell=True)
+  p = subprocess.Popen(script, shell=True, stdout=subprocess.PIPE)
+  password = p.communicate()[0]
 
   # whitespace may be significant in the password, but most files have a
   # trailing newline.
-- 
1.7.9.5

