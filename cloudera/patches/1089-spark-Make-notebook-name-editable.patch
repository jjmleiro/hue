From 7e7175745dd1b54621ad7a8e6cea7f021588c71a Mon Sep 17 00:00:00 2001
From: Enrico Berti <hello@enricoberti.com>
Date: Mon, 16 Mar 2015 12:33:49 -0500
Subject: [PATCH 1089/1173] [spark] Make notebook name editable

---
 apps/spark/src/spark/static/spark/css/spark.css |    8 ++++++++
 apps/spark/src/spark/templates/editor.mako      |    6 +++---
 2 files changed, 11 insertions(+), 3 deletions(-)

diff --git a/apps/spark/src/spark/static/spark/css/spark.css b/apps/spark/src/spark/static/spark/css/spark.css
index 45f6ecf..1bf2f18 100644
--- a/apps/spark/src/spark/static/spark/css/spark.css
+++ b/apps/spark/src/spark/static/spark/css/spark.css
@@ -181,6 +181,14 @@
   color: #DDD !important;
 }
 
+.editable-click, a.editable-click, a.editable-click:hover {
+  cursor: pointer !important;
+}
+
+.editable-click.editable-disabled, a.editable-click.editable-disabled, a.editable-click.editable-disabled:hover {
+  cursor: default !important;
+}
+
 .results table tr td {
   white-space: nowrap;
 }
diff --git a/apps/spark/src/spark/templates/editor.mako b/apps/spark/src/spark/templates/editor.mako
index 445fd19..4683dfe 100644
--- a/apps/spark/src/spark/templates/editor.mako
+++ b/apps/spark/src/spark/templates/editor.mako
@@ -138,10 +138,10 @@ ${ commonheader(_('Query'), app_name, user, "68px") | n,unicode }
     
     &nbsp;&nbsp;&nbsp;
 
-    <button type="button" title="${ _('Save') }" rel="tooltip" data-placement="bottom" data-loading-text="${ _("Saving...") }"
+    <a class="btn" title="${ _('Save') }" rel="tooltip" data-placement="bottom" data-loading-text="${ _("Saving...") }"
         data-bind="click: saveNotebook, css: {'btn': true}">
       <i class="fa fa-save"></i>
-    </button>
+    </a>
       
     &nbsp;&nbsp;&nbsp;
       
@@ -158,7 +158,7 @@ ${ commonheader(_('Query'), app_name, user, "68px") | n,unicode }
   <ul class="nav nav-tabs">
     <!-- ko foreach: notebooks -->
       <li data-bind="css: { active: $parent.selectedNotebook() === $data }">
-        <a href="javascript:void(0)" data-bind="text: name, click: $parent.selectedNotebook.bind(null, $data)"></a>
+        <a href="javascript:void(0)"><span data-bind="editable: name, editableOptions: {enabled: $root.isEditing(), placement: 'right'}"></span></a>
       </li>
     <!-- /ko -->
     <li>
-- 
1.7.9.5

