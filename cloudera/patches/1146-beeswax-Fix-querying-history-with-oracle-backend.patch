From 30d89b4645b01d9fe35177851308d5d5a2d8482a Mon Sep 17 00:00:00 2001
From: krish <krish@cloudera.com>
Date: Fri, 20 Mar 2015 18:03:36 -0700
Subject: [PATCH 1146/1173] [beeswax] Fix querying history with oracle backend

---
 .../django/db/backends/oracle/base.py              |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/desktop/core/ext-py/Django-1.6.10/django/db/backends/oracle/base.py b/desktop/core/ext-py/Django-1.6.10/django/db/backends/oracle/base.py
index 5ed9562..3c444d8 100644
--- a/desktop/core/ext-py/Django-1.6.10/django/db/backends/oracle/base.py
+++ b/desktop/core/ext-py/Django-1.6.10/django/db/backends/oracle/base.py
@@ -273,7 +273,7 @@ WHEN (new.%(col_name)s IS NULL)
 
     def field_cast_sql(self, db_type, internal_type):
         if db_type and db_type.endswith('LOB'):
-            return "DBMS_LOB.SUBSTR(%s)"
+            return "DBMS_LOB.SUBSTR(%s, 4000)"
         else:
             return "%s"
 
-- 
1.7.9.5

