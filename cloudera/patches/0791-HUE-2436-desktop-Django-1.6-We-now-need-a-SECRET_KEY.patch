From 51a24f73124e5374f693f2f7a15c2b38d3c8683e Mon Sep 17 00:00:00 2001
From: Erick Tryzelaar <erick.tryzelaar@gmail.com>
Date: Thu, 15 Jan 2015 19:16:00 -0800
Subject: [PATCH 0791/1173] HUE-2436 [desktop] Django-1.6: We now need a
 SECRET_KEY set or django won't start

---
 desktop/core/src/desktop/settings.py |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

diff --git a/desktop/core/src/desktop/settings.py b/desktop/core/src/desktop/settings.py
index 912f261..49c84d2 100755
--- a/desktop/core/src/desktop/settings.py
+++ b/desktop/core/src/desktop/settings.py
@@ -326,7 +326,9 @@ DEFAULT_FROM_EMAIL = desktop.conf.SMTP.DEFAULT_FROM.get()
 # Used for securely creating sessions.  Should be unique and not shared with anybody.
 SECRET_KEY = desktop.conf.SECRET_KEY.get()
 if SECRET_KEY == "":
-  logging.warning("secret_key should be configured")
+  logging.warning("secret_key is not configured. all sessions will be lost on restart")
+  import uuid
+  SECRET_KEY = str(uuid.uuid4())
 
 # SAML
 SAML_AUTHENTICATION = 'libsaml.backend.SAML2Backend' in AUTHENTICATION_BACKENDS
-- 
1.7.9.5

